(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,t,a){e.exports=a.p+"static/media/user pic.5ed681ba.png"},233:function(e,t,a){e.exports=a.p+"static/media/logowithoutname.f0242e78.png"},421:function(e,t){e.exports="data:image/png;base64,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"},428:function(e,t,a){e.exports=a(848)},440:function(e,t,a){},446:function(e,t,a){},47:function(e,t,a){e.exports=a.p+"static/media/logofavicon.293eef80.ico"},575:function(e,t){},577:function(e,t){},614:function(e,t){},615:function(e,t){},64:function(e,t){e.exports="data:image/png;base64,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"},848:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(58),l=a.n(r),s=a(884),c=a(857),i=a(80),u=a(15),d=a(395),p=(a(437),a(396)),m=a.n(p),h=(a(440),a(442),a(444),a(7)),g=a(8),f=a(10),E=a(9),y=a(11),v=(a(234),a(893)),C=(a(446),a(81)),A=a(887),b=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,a=e.component,n=Object(C.a)(e,["isAuthenticated","component"]);return o.a.createElement(c.a,Object.assign({},n,{render:function(e){return t?o.a.createElement(A.a,{to:"/"}):o.a.createElement(a,e)}}))}}]),t}(o.a.Component);var w=Object(u.b)(function(e){return{isAuthenticated:!!e.user.token}})(b),O=function(e){return function(t){return t(function(e){return{type:"PATH_ADDED",path:e}}(e))}},S=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a.componentDidMount=function(){var e=a.props.location.pathname;"/welcome2"!==e&&a.props.AddPath(e)},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,a=e.component,n=Object(C.a)(e,["isAuthenticated","component"]);return o.a.createElement(c.a,Object.assign({},n,{render:function(e){return t?o.a.createElement(a,e):o.a.createElement(A.a,{to:"/welcome"})}}))}}]),t}(o.a.Component);var k=Object(u.b)(function(e){return{isAuthenticated:!!e.user.token}},{AddPath:O})(S);var P=Object(u.b)(function(e){return{isAuthenticated:!!e.admins.token}})(function(e){var t=e.isAuthenticated,a=e.component,n=Object(C.a)(e,["isAuthenticated","component"]);return o.a.createElement(c.a,Object.assign({},n,{render:function(e){return t?o.a.createElement(A.a,{to:"/admin_dashboard"}):o.a.createElement(a,e)}}))});var j=Object(u.b)(function(e){return{isAuthenticated:!!e.admins.token}},{AddPath:O})(function(e){var t=e.isAuthenticated,a=e.component,n=Object(C.a)(e,["isAuthenticated","component"]);return o.a.createElement(c.a,Object.assign({},n,{render:function(e){return t?o.a.createElement(a,e):o.a.createElement(A.a,{to:"/admin_login_page"})}}))}),D=a(25),x=a(12),T=a(874),_=a(889),B=a(859),I=a(881),H=a(849),F=a(877),M=a(880),L=a(225),U=a(888),R=a(870),V=a(875),N=a(862),W=a(14),G=a.n(W),Y={user:{login:function(e){return G.a.post("/api/users/login",{credentials:e}).then(function(e){return e.data.user})},signup:function(){return G.a.post("/api/users").then(function(e){return e.data.user})},setUserData:function(e){return G.a.post("/api/users/setUserData",{data:e}).then(function(e){return e.data.user})},getlocation:function(){return G.a.post("/api/users/getlocation").then(function(e){return e.data.user})},getUsername:function(){return G.a.post("/api/users/getUsername").then(function(e){return e.data.username})},getKey:function(){return G.a.post("/api/users/getKey").then(function(e){return e.data.key})},regenKey:function(){return G.a.post("/api/users/regenKey").then(function(e){return e.data.key})},getPosts:function(e,t){return G.a.post("/api/users/getPosts/".concat(e,"/").concat(t)).then(function(e){return e.data.posts})},deletePosts:function(){return G.a.post("/api/users/deletePosts").then(function(e){return e.data.success})},getActivity:function(e,t){return G.a.post("/api/users/getActivity/".concat(e,"/").concat(t)).then(function(e){return e.data.activity})},getAnalytics:function(){return G.a.post("/api/users/getAnalytics").then(function(e){return e.data.analytics})},updatePostsSeen:function(e){return G.a.post("/api/users/updatePostsSeen",{postId:e}).then(function(e){return e.data.analytics})},gotDetails:function(e){return G.a.post("/api/users/checkDetails",{sessionId:e}).then(function(e){return e.data.success})}},locations:{fetchCountries:function(){return G.a.post("/api/locations/countries").then(function(e){return e.data.countries})},fetchStates:function(e){return G.a.post("/api/locations/states/"+e).then(function(e){return e.data.states})},fetchCities:function(e,t){return G.a.post("/api/locations/cities/"+e+"/"+t).then(function(e){return e.data.cities})}},images:{upload_image:function(e){return G.a.post("/api/images/upload",{img:e}).then(function(e){return e.data.imageid})},fetch_image:function(e){return G.a.get("/api/images/image",{imgid:e}).then(function(e){return e.data.image})}},posts:{upload_post:function(e){return G.a.post("/api/posts/insert",{post:e}).then(function(e){return e.data.post})},fetchPostById:function(e){return G.a.post("/api/posts/findbyid",{id:e}).then(function(e){return e.data.post})},fetchLocalPosts:function(){return G.a.post("/api/posts/fetchLocalPosts").then(function(e){return e.data.posts})},fetchLocalPostsByFilter:function(e,t,a,n,o,r){return G.a.post("/api/posts/fetchLocalPostsByFilter/".concat(t,"/").concat(a),{filter:e,category:n,isAltLoc:o,loc:r}).then(function(e){return e.data.posts})},fetchGlobalPostsByFilter:function(e,t,a,n){return G.a.post("/api/posts/fetchGlobalPostsByFilter/".concat(t,"/").concat(a),{filter:e,category:n}).then(function(e){return e.data.posts})},fetchPostsBySearchFilter:function(e,t,a,n,o,r,l,s,c){return G.a.post("/api/posts/fetchPostsBySearchFilter/".concat(t,"/").concat(a),{filter:e,country:n,state:o,city:r,hashtag:l,category:s,textquery:c}).then(function(e){return e.data.posts})},insertComment:function(e,t){return G.a.post("/api/posts/insertComment",{postId:e,commenttext:t}).then(function(e){return e.data.comment})},getAllComments:function(e,t,a){return G.a.post("/api/posts/allComments/".concat(t,"/").concat(a),{postId:e}).then(function(e){return e.data.comments})},getCommentsCount:function(e){return G.a.post("/api/posts/getCommentsCount/",{postId:e}).then(function(e){return e.data.comments_count})},insertReport:function(e,t){return G.a.post("/api/posts/insertReport",{postId:e,reason:t}).then(function(e){return e.data.success})},fetchReportedPostsByFilter:function(e,t,a){return G.a.post("/api/posts/fetchReportedPostsByFilter/".concat(e,"/").concat(t),{category:a}).then(function(e){return e.data.posts})},deletePost:function(e){return G.a.post("/api/posts/deletePost",{id:e}).then(function(e){return e.data.success})}},comments:{getCommentVotes:function(e){return G.a.post("/api/comments/getCommentVotes",{id:e}).then(function(e){return e.data.success})}},others:{fetchCategories:function(){return G.a.post("/api/categories").then(function(e){return e.data.categories})},addCategory:function(e){return G.a.post("/api/categories/insert",{category:e}).then(function(e){return e.data.category})},updateCategory:function(e,t){return G.a.post("/api/categories/update",{oldC:e,newC:t}).then(function(e){return e.data.success})},deleteCategory:function(e){return G.a.post("/api/categories/delete",{category:e}).then(function(e){return e.data.success})},insertfeedback:function(e){return G.a.post("/api/feedbacks/insert",{feedback:e}).then(function(e){return e.data.success})},getFeedbacks:function(e,t){return G.a.post("/api/feedbacks/fetch/".concat(e,"/").concat(t)).then(function(e){return e.data.feedbacks})},insertsurvey:function(e){return G.a.post("/api/surveyresponses/insert",{survey:e}).then(function(e){return e.data.success})},getsurveys:function(e,t){return G.a.post("/api/surveyresponses/fetch/".concat(e,"/").concat(t)).then(function(e){return e.data.surveys})},getAns1:function(){return G.a.post("/api/surveyresponses/getansone").then(function(e){return e.data.ans})},getAns2:function(){return G.a.post("/api/surveyresponses/getanstwo").then(function(e){return e.data.ans})},fetchHashtags:function(){return G.a.post("/api/hashtags/topeight").then(function(e){return e.data.hashtags})},fetchHashtagsByKeyword:function(e){return G.a.post("/api/hashtags",{keyword:e}).then(function(e){return e.data.hashtags})},addHashtag:function(e){return G.a.post("/api/hashtags/insert",{hashtag:e}).then(function(e){return e.data.hashtags})}},admins:{login:function(e){return G.a.post("/api/admins/login",{credentials:e}).then(function(e){return e.data.admin})},change_password:function(e){return G.a.post("/api/admins/change_password",{data:e}).then(function(e){return e.data.admin})}},adposts:{upload_adpost:function(e){return G.a.post("/api/adposts/insert",{adpost:e}).then(function(e){return e.data.post})},fetchAdPosts:function(e,t){return G.a.post("/api/adposts/fetchAdPosts/".concat(e,"/").concat(t)).then(function(e){return e.data.posts})},fetchAdPostsForAdmin:function(e,t){return G.a.post("/api/adposts/fetchAdPostsForAdmin/".concat(e,"/").concat(t)).then(function(e){return e.data.posts})},insertComment:function(e,t){return G.a.post("/api/adposts/insertComment",{postId:e,commenttext:t}).then(function(e){return e.data.comment})},getAllComments:function(e,t,a){return G.a.post("/api/adposts/allComments/".concat(t,"/").concat(a),{postId:e}).then(function(e){return e.data.comments})},getCommentsCount:function(e){return G.a.post("/api/adposts/getCommentsCount/",{postId:e}).then(function(e){return e.data.comments_count})},fetchAdPostById:function(e){return G.a.post("/api/adposts/findbyid",{id:e}).then(function(e){return e.data.post})},insertReport:function(e,t){return G.a.post("/api/adposts/insertReport",{postId:e,reason:t}).then(function(e){return e.data.success})},deleteAdPost:function(e){return G.a.post("/api/adposts/deleteAdPost",{id:e}).then(function(e){return e.data.success})}},adStatistics:{fetchTotalNoAccounts:function(){return G.a.post("/api/adStatistics/fetchTotalNoAccounts").then(function(e){return e.data.total_acc})},fetchNoAccounts:function(e,t,a){return G.a.post("/api/adStatistics/fetchNoAccounts",{country:e,state:t,city:a}).then(function(e){return e.data.accounts})},fetchStatsByCountry:function(e){return G.a.post("/api/adStatistics/fetchStatsByCountry",{country:e}).then(function(e){return e.data.countryStats})},fetchStatsByState:function(e,t){return G.a.post("/api/adStatistics/fetchStatsByState",{country:e,state:t}).then(function(e){return e.data.stateStats})}}},z=a(47),q=a.n(z),X=a(878),Q=function(e){var t=e.text;return o.a.createElement(X.a,{positive:!0},o.a.createElement(X.a.Header,null,t))},K=a(23),J=a(41),Z=Object(J.a)(function(e){return e.user.activity},function(e){return e}),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?G.a.defaults.headers.common.authorization="S86dkf_ ".concat(e):delete G.a.defaults.headers.common.authorization},ee=function(e){return{type:"USER_LOGGED_IN",user:e}},te=function(){return function(e){$(),e({type:"USER_LOGGED_OUT"}),localStorage.removeItem("TruhypeJWT"),localStorage.removeItem("sessionId")}},ae=function(e){return{type:"POSTS_FETCHED",posts:e}},ne=function(e){return function(t){return Y.posts.fetchPostById(e).then(function(e){return t({type:"POST_FETCHED_BY_ID",posts:e}),!0}).catch(function(e){return!1})}},oe=function(e,t,a,n,o,r,l,s,c){return function(i){return Y.posts.fetchPostsBySearchFilter(e,t,a,n,o,r,l,s,c).then(function(e){var t=e.docs,a=e.totalPages;return i(ae(t)),a})}},re=function(){return function(e){e({type:"POSTS_CLEARED"})}},le=function(e){return function(t){return Y.posts.deletePost(e).then(function(a){return t(function(e){return{type:"POST_DELETED",id:e}}(e)),a})}},se=function(e){return{type:"USER_LOCATION_SET",user:e}},ce=function(e){return{type:"USER_KEY_FETCHED",key:e}},ie=function(e){return{type:"ANALYTICS_FETCHED",analytics:e}},ue=function(){return function(e){return Y.user.getUsername().then(function(t){e({type:"USER_USERNAME_SET",username:t})})}},de=function(e,t){return function(a){return Y.user.getActivity(e,t).then(function(e){var t=e.docs,n=e.totalPages;return a(function(e){return{type:"USER_ACTIVITY_FETCHED",activity:e}}(t)),n})}},pe=function(){return function(e){return e({type:"CLEAR_ACTIVITY"})}},me=function(e){return function(e){return Y.user.getAnalytics().then(function(t){return e(ie(t))})}},he=function(e){return function(t){return Y.user.updatePostsSeen(e).then(function(e){e&&t(ie(e))})}},ge=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={activeIndex:-1,feedback:{feedbacktype:"",text:""},feedbacksuccess:!1,survey:{ans1:"",ans2:"",ans3:""},surveysuccess:!1,per:15,page:1,totalPages:null,scrolling:!1},a.componentWillMount=function(){a.loadActivity()},a.componentDidMount=function(){a._isMounted=!0},a.componentWillUnmount=function(){a._isMounted=!1,a.props.clearActivity()},a.loadMore=function(){a._isMounted&&a.setState(function(e){return{page:e.page+1,scrolling:!0}},a.loadActivity)},a.loadActivity=function(e){var t=a.state.per,n=a.state.page;e&&(n=e,a.setState({page:e})),a.props.getActivity(t,n).then(function(e){a._isMounted&&a.setState({scrolling:!1,totalPages:e})})},a.handleAccClick=function(e,t){var n=t.index,o=a.state.activeIndex===n?-1:n;a.setState({activeIndex:o})},a.handleFeedbackChange=function(e,t){var n=t.name,o=t.value;a.setState({feedback:Object(x.a)({},a.state.feedback,Object(D.a)({},n,o))})},a.handleSurveyChange=function(e,t){var n=t.name,o=t.value;a.setState({survey:Object(x.a)({},a.state.survey,Object(D.a)({},n,o))})},a.handleFeedbackSubmit=function(e){e.preventDefault();var t=a.state.feedback,n=t.feedbacktype,o=t.text,r={};if(n||(r.feedbacktype="Feedback Type needed!"),o||(r.text="Feedback needed"),0===Object.keys(r).length)Y.others.insertfeedback(a.state.feedback).then(function(e){e?a.setState({feedbacksuccess:!0}):alert("Something went wrong. Please try again!")});else{var l="";l+=Object.values(r),alert(l)}},a.handleSurveySubmit=function(e){e.preventDefault();var t=a.state.survey,n=t.ans1,o=t.ans2,r=t.ans3,l={};if(n||(l.ans1="Answer1 needed!"),o||(l.ans2="Answer2 needed!"),r||(l.ans3="Answer3 needed!"),0===Object.keys(l).length)Y.others.insertsurvey(a.state.survey).then(function(e){e?a.setState({surveysuccess:!0}):alert("Something went wrong. Please try again!")});else{var s="";s+=Object.values(l),alert(s)}},a.onButtonClick=function(e){e.preventDefault(),a.props.clearActivity(),a.loadActivity(1)},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.activeIndex,n=t.feedbacksuccess,r=t.surveysuccess,l=this.state.feedback,s=l.feedbacktype,c=l.text,i=this.state.survey,u=i.ans1,d=i.ans2,p=i.ans3,m=this.props.activity,h=this.state,g=h.page,f=h.totalPages,E=m&&m.length>0&&m.map(function(e,t){return"upvote"===e.action?o.a.createElement(T.a.Item,{key:t},o.a.createElement(T.a.Icon,{name:"angle up"}),o.a.createElement(T.a.Content,{verticalAlign:"middle"},"You have upvoted post ",e.postId)):"downvote"===e.action?o.a.createElement(T.a.Item,{key:t},o.a.createElement(T.a.Icon,{name:"angle down"}),o.a.createElement(T.a.Content,{verticalAlign:"middle"},"You have downvoted post ",e.postId)):"report"===e.action?o.a.createElement(T.a.Item,{key:t},o.a.createElement(T.a.Icon,{name:"flag"}),o.a.createElement(T.a.Content,{verticalAlign:"middle"},"You have reported post ",e.postId)):"comment"===e.action?o.a.createElement(T.a.Item,{key:t},o.a.createElement(T.a.Icon,{name:"comment"}),o.a.createElement(T.a.Content,{verticalAlign:"middle"},"You have commented post ",e.postId)):"delete"===e.action?o.a.createElement(T.a.Item,{key:t},o.a.createElement(T.a.Icon,{name:"trash alternate outline"}),o.a.createElement(T.a.Content,{verticalAlign:"middle"},"You have deleted posts")):"create"===e.action?o.a.createElement(T.a.Item,{key:t},o.a.createElement(T.a.Icon,{name:"upload"}),o.a.createElement(T.a.Content,{verticalAlign:"middle"},"You have uploaded post ",e.postId)):null});return o.a.createElement("div",{style:{backgroundColor:"#f9f9f9",minHeight:window.innerHeight,padding:"15px"}},o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Row,{columns:3,style:{marginTop:"5px"}},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"left",onClick:function(){return e.props.history.goBack()}},o.a.createElement(I.a,{size:"medium",icon:"angle left",color:"grey"}))),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"middle",style:{marginTop:"5px"}},o.a.createElement("a",{href:"https://about.truhype.app/home",rel:"noopener noreferrer",target:"_blank"},o.a.createElement(H.a,{size:"mini",src:q.a})))),o.a.createElement(_.a.Column,null)),o.a.createElement(_.a.Row,null,o.a.createElement(F.a,{as:M.a,vertical:!0,fluid:!0},o.a.createElement(M.a.Item,null,o.a.createElement(F.a.Title,{active:0===a,index:0,onClick:this.handleAccClick},o.a.createElement(L.a,{name:"dropdown"}),"Activity Log"),o.a.createElement(F.a.Content,{active:0===a},o.a.createElement(I.a,{style:{marginTop:10},size:"small",fluid:!0,content:"update log",onClick:this.onButtonClick}),o.a.createElement("hr",null),o.a.createElement("div",{style:{height:300,overflowY:"scroll",overflowX:"hidden"}},o.a.createElement(T.a,{celled:!0,floated:"left"},E),f&&g<f?o.a.createElement(I.a,{style:{marginTop:10},size:"mini",circular:!0,color:"grey",icon:"triangle down",onClick:this.loadMore}):o.a.createElement(U.a,{as:"h6"},"Activity reached to end")))),o.a.createElement(M.a.Item,null,o.a.createElement(F.a.Title,{active:1===a,index:1,onClick:this.handleAccClick},o.a.createElement(L.a,{name:"dropdown"}),"Feedback"),o.a.createElement(F.a.Content,{active:1===a},n?o.a.createElement(Q,{text:"Thank you for your feedback!"}):o.a.createElement("div",null,o.a.createElement(R.a,null,o.a.createElement(R.a.Field,null,o.a.createElement(V.a,{selection:!0,placeholder:"Select type",name:"feedbacktype",value:s,onChange:this.handleFeedbackChange,options:[{id:0,text:"Suggestion",value:"suggestion"},{id:1,text:"Problem",value:"problem"},{id:0,text:"Question",value:"question"},{id:0,text:"Opinion",value:"opinion"},{id:0,text:"Other",value:"other"}]})),o.a.createElement(R.a.Field,null,o.a.createElement(N.a,{rows:6,placeholder:"Feedback here ...",style:{minHeight:30},name:"text",value:c,onChange:this.handleFeedbackChange}))),o.a.createElement("br",null),o.a.createElement(I.a,{onClick:this.handleFeedbackSubmit,content:"Submit",fluid:!0})))),o.a.createElement(M.a.Item,null,o.a.createElement(F.a.Title,{active:2===a,index:2,onClick:this.handleAccClick},o.a.createElement(L.a,{name:"dropdown"}),"Survey"),o.a.createElement(F.a.Content,{active:2===a},r?o.a.createElement(Q,{text:"Thank you for your support"}):o.a.createElement("div",null,o.a.createElement("p",null,"Answer these question to make this platform a better place"),o.a.createElement(R.a,null,o.a.createElement(U.a,{as:"h4"},"Q1.\xa0Should we add more emotions like funny, sad, wow with existing emotions love and hate?"),o.a.createElement(R.a.Group,{inline:!0},o.a.createElement(R.a.Radio,{label:"Yes",value:"yes",name:"ans1",checked:"yes"===u,onChange:this.handleSurveyChange}),o.a.createElement(R.a.Radio,{label:"No",value:"no",name:"ans1",checked:"no"===u,onChange:this.handleSurveyChange})),o.a.createElement(U.a,{as:"h4"},"Q2.\xa0Every post should be active for"),o.a.createElement(R.a.Group,{inline:!0},o.a.createElement(R.a.Radio,{label:"Less than 30 Days",value:"less than 30 days",name:"ans2",checked:"less than 30 days"===d,onChange:this.handleSurveyChange}),o.a.createElement(R.a.Radio,{label:"30 Days only",value:"30 days only",name:"ans2",checked:"30 days only"===d,onChange:this.handleSurveyChange}),o.a.createElement(R.a.Radio,{label:"More than 30 Days",value:"more than 30 days",name:"ans2",checked:"more than 30 days"===d,onChange:this.handleSurveyChange})),o.a.createElement(U.a,{as:"h4"},"Q3.\xa0Any changes you wish to make on this platform?"),o.a.createElement(R.a.Field,null,o.a.createElement(N.a,{rows:6,placeholder:"Answer here ...",style:{minHeight:30},name:"ans3",value:p,onChange:this.handleSurveyChange})),o.a.createElement(R.a.Button,{onClick:this.handleSurveySubmit,content:"Submit",fluid:!0}))))),o.a.createElement(M.a.Item,null,o.a.createElement(F.a.Title,{active:3===a,index:3,onClick:this.handleAccClick},o.a.createElement(L.a,{name:"dropdown"}),"Blog"),o.a.createElement(F.a.Content,{active:3===a},o.a.createElement("p",null,"\u201cWords of one. Voice of others\u201d"),o.a.createElement("br",null),o.a.createElement("p",null,"Missing the best content of the week visit our blog"),o.a.createElement("a",{href:"https://blog.truhype.app",target:"_blank",rel:"noopener noreferrer",style:{display:"block",border:"1px solid grey",padding:8,backgroundColor:"grey",color:"white",borderRadius:3}},"Visit Blog"))),o.a.createElement(M.a.Item,null,o.a.createElement(F.a.Title,{active:4===a,index:4,onClick:this.handleAccClick},o.a.createElement(L.a,{name:"dropdown"}),"Sponsor"),o.a.createElement(F.a.Content,{active:4===a},o.a.createElement("p",null,"\u201cA good advertisement is one which sells the product without drawing attention to itself.\u201d"),o.a.createElement("br",null),o.a.createElement("p",null,"Start promotion from your own city."),o.a.createElement("a",{href:"https://business.truhype.app",target:"_blank",rel:"noopener noreferrer",style:{display:"block",border:"1px solid grey",padding:8,backgroundColor:"grey",color:"white",borderRadius:3}},"Start Advertising"))))),o.a.createElement(_.a.Row,null,o.a.createElement(B.a,{fluid:!0},o.a.createElement("a",{rel:"noopener noreferrer",href:"https://about.truhype.app/copyright",target:"_blank"},"\xa9 2019 Truhype"),"\xa0\xa0\xa0\xa0",o.a.createElement("a",{rel:"noopener noreferrer",href:"https://about.truhype.app/home",target:"_blank"},"About"),"\xa0\xa0\xa0\xa0",o.a.createElement("a",{rel:"noopener noreferrer",href:"https://business.truhype.app/pricing",target:"_blank"},"Ads Info"),"\xa0\xa0\xa0\xa0",o.a.createElement("a",{rel:"noopener noreferrer",href:"https://about.truhype.app/privacy-policy",target:"_blank"},"Privacy policy")," \xa0\xa0\xa0\xa0",o.a.createElement("a",{rel:"noopener noreferrer",href:"https://about.truhype.app/tc",target:"_blank"},"Terms and Conditions"),"\xa0\xa0\xa0"))))}}]),t}(n.Component);var fe=Object(u.b)(function(e){return{activity:Z(e)}},{getActivity:de,clearActivity:pe})(ge),Ee=a(863),ye=a(886),ve=a(64),Ce=a.n(ve),Ae=function(e){var t=e.text;return o.a.createElement("p",{style:{color:"#ae5856"}}," ",t," ")},be=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={data:{username:"",password:""},loading:!1,errors:{}},a.onChange=function(e){a.setState({data:Object(x.a)({},a.state.data,Object(D.a)({},e.target.name,e.target.value))})},a.onSubmit=function(e){e.preventDefault();var t=a.validate(a.state.data);a.setState({errors:t}),0===Object.keys(t).length&&(a.setState({loading:!0}),a.props.submit(a.state.data).catch(function(e){console.log(e),a.setState({errors:e.response.data.errors,loading:!1})}))},a.validate=function(e){var t={};return e.username||(t.username="Username needed!"),e.password||(t.password="Can't be blank!"),t},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.errors,r=t.loading;return o.a.createElement("div",null,o.a.createElement(_.a,{textAlign:"center",style:{height:window.innerHeight,backgroundColor:"#f9f9f9"},verticalAlign:"middle",centered:!0},o.a.createElement(_.a.Column,{style:{maxWidth:450}},o.a.createElement(H.a,{centered:!0,src:Ce.a}),o.a.createElement(U.a,{as:"h2",color:"grey",textAlign:"center"},"Log-in to your session"),o.a.createElement(R.a,{size:"large",onSubmit:this.onSubmit,error:!!n,loading:r},n.global&&o.a.createElement(X.a,{negative:!0},o.a.createElement(X.a.Header,null,"Something went wrong"),o.a.createElement("p",null,n.global)),o.a.createElement(ye.a,{stacked:!0},o.a.createElement(R.a.Input,{fluid:!0,icon:"user",iconPosition:"left",id:"username",placeholder:"Username",name:"username",onChange:this.onChange,value:a.username,error:!!n.username}),n.username&&o.a.createElement(Ae,{text:n.username}),o.a.createElement(R.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",name:"password",id:"password",placeholder:"Password",type:"password",onChange:this.onChange,value:a.password,error:!!n.password}),n.password&&o.a.createElement(Ae,{text:n.password}),o.a.createElement(I.a,{color:"grey",fluid:!0,size:"large"},"Login"))),o.a.createElement("br",null)," ",o.a.createElement("br",null),o.a.createElement(B.a,{textAlign:"center"},o.a.createElement(I.a,{onClick:function(){return e.props.history.push("/welcome")}},o.a.createElement(L.a,{name:"angle left"})," Welcome Page")))))}}]),t}(o.a.Component),we=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={sucess:!1},a.submit=function(e){return a.props.login(e).then(function(){a.props.redirectTo?a.props.history.push(a.props.redirectTo):a.props.history.push("/")})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(be,{submit:this.submit,history:this.props.history}))}}]),t}(o.a.Component);var Oe=Object(Ee.a)(Object(u.b)(function(e){return{redirectTo:e.path}},{login:function(e){return function(t){return Y.user.login(e).then(function(e){return localStorage.TruhypeJWT=e.token,localStorage.sessionId=e.sessionId,$(localStorage.TruhypeJWT),t(ee(e)),"something"})}}})(we)),Se=a(892),ke=a(882),Pe=a(865),je=a(885),De={opacity:.9,padding:"5px",backgroundColor:"#f9f9f9",height:"450px",minWidth:"250px",overflowY:"scroll",position:"fixed",bottom:40},xe=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={isOpen:!1},a.handleOpen=function(){a.setState({isOpen:!0})},a.handleClose=function(){a.setState({isOpen:!1})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=o.a.createElement("div",null,o.a.createElement(U.a,{as:"h3"},"All Notifications"),o.a.createElement("p",null,"No notifications"));return o.a.createElement(_.a,null,o.a.createElement(_.a.Column,{width:8},o.a.createElement(je.a,{keepInViewPort:!0,wide:"very",trigger:o.a.createElement("div",null,o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(I.a,{color:"grey",style:{borderRadius:"0px"}},o.a.createElement(L.a,{name:"bullhorn"}))),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(I.a,{className:"overlayBtn",color:"grey",style:{borderRadius:"0px",minWidth:"120px"}},o.a.createElement(L.a,{name:"bullhorn"})))),content:e,on:"click",open:this.state.isOpen,onClose:this.handleClose,onOpen:this.handleOpen,position:"right center",size:"large",style:De})))}}]),t}(o.a.Component),Te=a(864),_e=a(410),Be=a.n(_e),Ie=a(871),He=a(393),Fe=a(129),Me=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={copied:!1,showkey:""},a.componentDidMount=function(){a.props.getKey()},a.componentDidUpdate=function(e,t){e.showkey!==a.props.showkey&&a.convertKey(a.props.showkey)},a.convertKey=function(e){e&&Be.a.verify(e,"5Gfgh-%sdhj$",function(e,t){e?alert("something went wrong. Please try again later"):a.setState({showkey:t.key})})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.copied,n=t.showkey;return o.a.createElement("div",null,o.a.createElement(Ie.a,{trigger:o.a.createElement("div",null,o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(I.a,{color:"grey"},o.a.createElement(L.a,{name:"key"})," Show Key")),o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(L.a,{size:"large",name:"key"}),o.a.createElement("p",null,"Show key"))),closeIcon:!0},o.a.createElement(U.a,{icon:"key",content:"Use this key to login to this session on other browser/device. Click to copy."}),o.a.createElement(Ie.a.Content,null,o.a.createElement("div",null,a?o.a.createElement("div",null,o.a.createElement(I.a,{color:"grey",size:"tiny",content:"Reset",onClick:function(){return e.setState({copied:!1})}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(He.a,null,o.a.createElement(U.a,{as:"h5"},n))):o.a.createElement("div",null,o.a.createElement(Fe.CopyToClipboard,{text:n,onCopy:function(){return e.setState({copied:!0})}},o.a.createElement("span",null," ",n," "))),o.a.createElement("br",null),this.state.copied?o.a.createElement("span",{style:{color:"red"}},"Copied."):null))))}}]),t}(n.Component);var Le=Object(u.b)(function(e){return{showkey:e.user.key}},{getKey:function(){return function(e){return Y.user.getKey().then(function(t){e(ce(t))})}},regenKey:function(){return function(e){return Y.user.regenKey().then(function(t){e(ce(t))})}}})(Me),Ue=a(879),Re=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a.componentDidMount=function(){a.props.getAnalytics()},a.onClickAnalyticsBtn=function(){a.props.getAnalytics()},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.analytics;return o.a.createElement("div",null,o.a.createElement(Ie.a,{trigger:o.a.createElement("div",null,o.a.createElement(L.a,{size:"large",name:"line graph"}),o.a.createElement("p",null,"Analytics")),closeIcon:!0},o.a.createElement(U.a,{icon:"line graph",content:"Statistics"}),o.a.createElement(Ie.a.Content,null,o.a.createElement(ye.a,{align:"center",style:{padding:40,backgroundColor:"#E0E1E2"}},o.a.createElement(T.a,{horizontal:!0,relaxed:!0},o.a.createElement(T.a.Item,null,o.a.createElement(Ue.a,{size:"tiny"},o.a.createElement(Ue.a.Value,null,o.a.createElement(L.a,{name:"angle up"})),o.a.createElement(Ue.a.Label,null,e&&e.upvotes_given))),o.a.createElement(T.a.Item,{style:{marginLeft:"3rem",marginRight:"3rem"}},o.a.createElement(Ue.a,{size:"tiny"},o.a.createElement(Ue.a.Value,null,o.a.createElement(L.a,{name:"eye"})),o.a.createElement(Ue.a.Label,null,e&&e.posts_seen))),o.a.createElement(T.a.Item,null,o.a.createElement(Ue.a,{size:"tiny"},o.a.createElement(Ue.a.Value,null,o.a.createElement(L.a,{name:"angle down"})),o.a.createElement(Ue.a.Label,null,e&&e.downvotes_given)))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(I.a,{content:"Update analytics",color:"grey",onClick:this.onClickAnalyticsBtn})))))}}]),t}(n.Component);var Ve=Object(u.b)(function(e){return{analytics:e.user.analytics}},{getAnalytics:me})(Re),Ne=function(e){return{type:"ADPOSTS_FETCHED",adposts:e}},We=function(e){return function(t){return Y.adposts.fetchAdPostById(e).then(function(e){return t({type:"ADPOST_FETCHED_BY_ID",adposts:e}),!0}).catch(function(e){return!1})}},Ge=function(e,t){return function(a){return Y.adposts.fetchAdPosts(e,t).then(function(e){var t=e.docs,n=e.totalPages;return a(Ne(t)),n})}},Ye=function(){return function(e){e({type:"ADPOSTS_CLEARED"})}},ze=a(169),qe=a.n(ze),Xe=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1,result:"",fireComponent:!1},a.componentDidMount=function(){a.props.getUsername()},a.handleDialogConfirm=function(){a.props.clearPosts(),a.props.clearAdPosts(),a.setState({result:"confirmed",open:!1}),a.props.logout()},a.handleDialogCancel=function(){a.setState({result:"cancelled",open:!1})},a.handleLogout=function(){a.setState({fireComponent:!0,open:!0})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.username,a=e.visibleLeft,n=e.handleLeftClick,r=this.state.fireComponent;return o.a.createElement("div",null,r&&o.a.createElement(Te.a,{open:this.state.open,content:"Please note down the key to login to this session later. Otherwise, you can't access this session again!",onCancel:this.handleDialogCancel,onConfirm:this.handleDialogConfirm}),o.a.createElement(ke.a,{as:M.a,animations:"overlay",vertical:!0,direction:"left",icon:"labeled",onClick:n,visible:a,width:"thin",style:{backgroundColor:"#f9f9f9"}},o.a.createElement(B.a,{align:"right"},o.a.createElement(L.a,{name:"close"})),o.a.createElement(M.a.Item,null,o.a.createElement(H.a,{size:"tiny",centered:!0,circular:!0,src:qe.a,bordered:!0}),o.a.createElement("h3",null,t),"Username"),o.a.createElement(M.a.Item,{as:Pe.a,to:"/posts"},o.a.createElement(L.a,{name:"newspaper outline"}),"Posts"),o.a.createElement(M.a.Item,{as:"a"},o.a.createElement(Le,null)),o.a.createElement(M.a.Item,{as:"a"},o.a.createElement(Ve,null)),o.a.createElement(M.a.Item,{as:"a",onClick:this.handleLogout},o.a.createElement(L.a,{name:"log out"}),"Opt Out")))}}]),t}(o.a.Component);var Qe=Object(u.b)(function(e){return{username:e.user.username,analytics:e.user.analytics}},{logout:te,getUsername:ue,clearPosts:re,clearAdPosts:Ye})(Xe),Ke=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={visibleLeft:!1,activeMenuItem:""},a.handleLeftClick=function(){return a.setState({visibleLeft:!a.state.visibleLeft})},a.handleRef=function(e){return a.setState({node:e})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.visibleLeft,a=e.node,n=this.props,r=n.pathname,l=n.showTopBar,s=n.showBottomBar,c=n.showTopIcons,i=!!!document.documentMode&&!!window.StyleMedia;return o.a.createElement("div",null,s&&o.a.createElement("div",null,o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement("div",{className:"ui bottom fixed menu"},o.a.createElement(I.a.Group,{widths:"5",color:"grey",size:"large"},o.a.createElement(I.a,{active:"/"===r,as:Pe.a,to:"/"},o.a.createElement(L.a,{name:"location arrow"})),o.a.createElement(I.a,{active:"/global"===r,as:Pe.a,to:"/global",style:{paddingLeft:"29px"}},o.a.createElement(L.a,{name:"world"})),o.a.createElement(I.a,{active:"/upload"===r,as:Pe.a,to:"/upload",style:{paddingLeft:"29px"}},o.a.createElement(L.a,{name:"plus circle"})),o.a.createElement(xe,null),o.a.createElement(I.a,{active:"/search"===r,as:Pe.a,to:"/search"},o.a.createElement(L.a,{name:"search"}))))),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement("div",{style:{position:"fixed",top:window.innerHeight-40,bottom:0,right:350,left:350,height:"40px",zIndex:1},ref:this.handleRef},o.a.createElement(I.a.Group,{widths:"5",color:"grey",size:"large"},o.a.createElement(I.a,{active:"/"===r,as:Pe.a,to:"/"},o.a.createElement(L.a,{name:"location arrow"})),o.a.createElement(I.a,{active:"/global"===r,as:Pe.a,to:"/global"},o.a.createElement(L.a,{name:"world"})),o.a.createElement(I.a,{active:"/upload"===r,as:Pe.a,to:"/upload"},o.a.createElement(L.a,{name:"plus circle"})),o.a.createElement(xe,{node:a}),o.a.createElement(I.a,{active:"/search"===r,as:Pe.a,to:"/search"},o.a.createElement(L.a,{name:"search"})))))),o.a.createElement(ke.a.Pushable,{as:ye.a,attached:"bottom"},c&&o.a.createElement(Qe,{visibleLeft:t,handleLeftClick:this.handleLeftClick}),o.a.createElement(ke.a.Pusher,{dimmed:t},o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(ye.a,{style:{minHeight:window.innerHeight,backgroundColor:"#f9f9f9",padding:"5px",paddingTop:"15px",paddingBottom:"42px"}},o.a.createElement(_.a,{centered:!0},c&&o.a.createElement(_.a.Row,{columns:3},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"left",onClick:this.handleLeftClick},o.a.createElement(L.a,{size:"large",name:"bars"}))),o.a.createElement(_.a.Column,null,i?o.a.createElement(B.a,{align:"middle",textAlign:"center"},o.a.createElement("a",{href:"https://about.truhype.app/home",rel:"noopener noreferrer",target:"_blank"},o.a.createElement(H.a,{size:"mini",src:q.a}))):o.a.createElement(B.a,{align:"middle"},o.a.createElement("a",{href:"https://about.truhype.app/home",rel:"noopener noreferrer",target:"_blank"},o.a.createElement(H.a,{size:"mini",src:q.a})))),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"right",as:Pe.a,to:"/menu"},o.a.createElement(L.a,{size:"large",color:"black",name:"ellipsis vertical"})))),l&&o.a.createElement(_.a.Row,{style:{marginTop:"-18px"}},o.a.createElement(I.a.Group,{fluid:!0,size:"medium"},o.a.createElement(I.a,{color:"red",value:"Loved",onClick:this.props.handleFilter},"Loved"),o.a.createElement(I.a,{color:"purple",value:"Latest",onClick:this.props.handleFilter},"Latest"),o.a.createElement(I.a,{color:"grey",value:"Hated",onClick:this.props.handleFilter},"Hated")))),this.props.children)),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(ye.a,{style:{minHeight:window.innerHeight,backgroundColor:"#f9f9f9",padding:"20px",paddingTop:"15px",paddingBottom:"35px"}},o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Row,{columns:3},o.a.createElement(_.a.Column,null),o.a.createElement(_.a.Column,{textAlign:"center"},i?o.a.createElement(B.a,{align:"middle",textAlign:"center"},o.a.createElement("a",{href:"https://about.truhype.app/home",rel:"noopener noreferrer",target:"_blank"},o.a.createElement(H.a,{centered:!0,size:"mini",src:q.a}))):o.a.createElement(B.a,{align:"middle"},o.a.createElement("a",{href:"https://about.truhype.app/home",rel:"noopener noreferrer",target:"_blank"},o.a.createElement(H.a,{size:"mini",src:q.a})))),o.a.createElement(_.a.Column,null)),l&&o.a.createElement(_.a.Row,{style:{marginTop:"-18px"}},o.a.createElement(I.a.Group,{fluid:!0,size:"medium"},o.a.createElement(I.a,{color:"red",value:"Loved",onClick:this.props.handleFilter},"Loved"),o.a.createElement(I.a,{color:"purple",value:"Latest",onClick:this.props.handleFilter},"Latest"),o.a.createElement(I.a,{color:"grey",value:"Hated",onClick:this.props.handleFilter},"Hated")))),this.props.children)))))}}]),t}(n.Component),Je=a(860),Ze=a(170),$e=a(876),et=a(866),tt=a(890),at=function(e){return o.a.createElement("span",{onClick:e.handleClick,id:e.id,style:{color:"#b972c9"}},e.text," ")},nt=a(872),ot=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a.state={comment:{_id:"",upvotes_count:"",downvotes_count:"",text:"",postId:"",posted:""},upvotes_count:0,downvotes_count:0,hasupvoted:!1,hasdownvoted:!1},a.componentDidMount=function(){if(a._isMounted=!0,a.props.comment){var e=a.props.comment._id;a._isMounted&&a.setState({comment:a.props.comment}),G.a.post("/api/comments/hasupvoted",{commId:e}).then(function(e){e.data.upvoted&&a._isMounted&&a.setState({hasupvoted:!0})}),G.a.post("/api/comments/hasdownvoted",{commId:e}).then(function(e){e.data.downvoted&&a._isMounted&&a.setState({hasdownvoted:!0})})}},a.componentWillUnmount=function(){a._isMounted=!1},a.componentDidUpdate=function(e,t){if(e.comment!==a.props.comment){a._isMounted&&a.setState({comment:a.props.comment});var n=a.props.comment._id;G.a.post("/api/comments/hasupvoted",{commId:n}).then(function(e){e.data.upvoted&&a._isMounted&&a.setState({hasupvoted:!0})}),G.a.post("/api/comments/hasdownvoted",{commId:n}).then(function(e){e.data.downvoted&&a._isMounted&&a.setState({hasdownvoted:!0})})}},a.getVotesfun=function(){var e=a.state.comment._id;G.a.post("/api/comments/getCommentVotes",{commId:e}).then(function(e){e.data.success&&a._isMounted&&a.setState({comment:Object(x.a)({},a.state.comment,{upvotes_count:e.data.upvotes_count,downvotes_count:e.data.downvotes_count})})})},a.handleUpvote=function(e){e.preventDefault();var t=a.state,n=t.hasupvoted,o=t.hasdownvoted,r=a.state.comment._id;n?G.a.post("/api/comments/removeupvote",{commId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasupvoted:!1}),a.getVotesfun())}):(G.a.post("/api/comments/upvote",{commId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasupvoted:!0}),a.getVotesfun())}),o&&G.a.post("/api/comments/removedownvote",{commId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasdownvoted:!1}),a.getVotesfun())}))},a.handleDownvote=function(e){e.preventDefault();var t=a.state,n=t.hasdownvoted,o=t.hasupvoted,r=a.state.comment._id;n?G.a.post("/api/comments/removedownvote",{commId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasdownvoted:!1}),a.getVotesfun())}):(G.a.post("/api/comments/downvote",{commId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasdownvoted:!0}),a.getVotesfun())}),o&&G.a.post("/api/comments/removeupvote",{commId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasupvoted:!1}),a.getVotesfun())}))},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.varColor,a=e.index,n=this.state,r=n.hasupvoted,l=n.hasdownvoted,s=n.comment;return o.a.createElement("div",null,o.a.createElement(nt.a,null,o.a.createElement(nt.a.Content,null,o.a.createElement(nt.a.Author,{style:{color:t},as:"a"}," TruView",a+1," "),o.a.createElement(nt.a.Metadata,null,o.a.createElement("span",null," ",this.props.getBetterDate(s.posted))),o.a.createElement(nt.a.Text,null," ",s.text),o.a.createElement(nt.a.Actions,{style:{color:"black"}},r?o.a.createElement("span",null,o.a.createElement(L.a,{color:"red",size:"large",onClick:this.handleUpvote,name:"arrow alternate circle up outline"})," ",s.upvotes_count):o.a.createElement("span",null,o.a.createElement(L.a,{onClick:this.handleUpvote,name:"arrow alternate circle up outline"})," ",s.upvotes_count),"\xa0\xa0\xa0\xa0",l?o.a.createElement("span",null,o.a.createElement(L.a,{size:"large",color:"grey",onClick:this.handleDownvote,name:"arrow alternate circle down outline"})," ",s.downvotes_count):o.a.createElement("span",null,o.a.createElement(L.a,{onClick:this.handleDownvote,name:"arrow alternate circle down outline"})," ",s.downvotes_count)))))}}]),t}(n.Component),rt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a.state={postId:"",comment:"",comments:[],per:10,page:1,totalPages:null,loading:!1},a.componentDidMount=function(){a._isMounted=!0},a.componentWillUnmount=function(){a._isMounted=!1},a.componentDidUpdate=function(e,t){e.postId!==a.props.postId&&a.props.postId&&(a._isMounted&&a.setState({postId:a.props.postId}),a.loadComments())},a.onChange=function(e,t){var n=t.value;a.setState({comment:n})},a.onCommentSubmit=function(){var e=a.state,t=e.postId,n=e.comment;a.props.isAdpost?(Y.adposts.insertComment(t,n).then(function(e){e&&a.loadComments(1)}).catch(function(e){alert(e)}),Y.adposts.getCommentsCount(t).then(function(e){a.props.getCommCount(e.comments_count)})):(Y.posts.insertComment(t,n).then(function(e){e&&a._isMounted&&a.setState({comment:"",comments:Object(K.a)(a.state.comments).concat([e])})}).catch(function(e){alert(e)}),Y.posts.getCommentsCount(t).then(function(e){a.props.getCommCount(e.comments_count)}))},a.getBetterDate=function(e){var t=new Date(e),a=new Date,n=Math.abs(a.getTime()-t.getTime()),o=Math.round(n/864e5);if(o>=1)return o>1?o+" days ago":o+" day ago";var r=Math.round(n/1e3),l=Math.round(r/60),s=Math.round(l/60);return s>1?s+" hours ago":1===s?s+" hour ago":l>1?l+" minutes ago":1===l?l+" minute ago":r>1?r+" seconds ago":r>0?r+" second ago":""},a.loadMore=function(){a._isMounted&&a.setState(function(e){return{page:e.page+1}},a.loadComments)},a.loadComments=function(e){var t=a.state.per,n=a.state.page,o=a.props.postId;e&&(n=e,a.setState({page:e})),Y.posts.getAllComments(o,t,n).then(function(e){var t=e.totalPages;a._isMounted&&a.setState({comments:Object(K.a)(a.state.comments).concat(Object(K.a)(e.docs)),totalPages:t})}).catch(function(e){alert(e)})},a.handleLoadMoreButton=function(e){e.preventDefault();var t=a.state;t.totalPages<=t.page||a.loadMore()},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.varColor,n=t.collapsed,r=this.state,l=r.comments,s=r.comment,c=r.totalPages,i=r.page;return o.a.createElement("div",null,o.a.createElement(nt.a.Group,{collapsed:n,style:{marginTop:"0px"}},o.a.createElement(ye.a,{inverted:!0,color:"brown"},o.a.createElement(R.a,null,o.a.createElement(N.a,{placeholder:"Comment here...",style:{minHeight:50},value:s,onChange:this.onChange}),o.a.createElement(I.a,{size:"tiny",color:a,style:{marginTop:"3px"},content:"Add",onClick:this.onCommentSubmit})),o.a.createElement(B.a,{style:{marginTop:8}},l.length>0&&l.map(function(t,n){return o.a.createElement("div",{key:n,style:{marginTop:10}},o.a.createElement(ot,{index:n,comment:t,varColor:a,getBetterDate:e.getBetterDate}))})),o.a.createElement("div",{style:{marginTop:"5px"}},o.a.createElement("center",null,0===l.length?o.a.createElement("p",{style:{color:"black"}},"No Comments yet"):c===i?o.a.createElement("div",null,o.a.createElement("p",null,"Comments reached to end"),o.a.createElement("hr",null)):o.a.createElement("p",{style:{color:"".concat(a)},onClick:this.handleLoadMoreButton},"Load More Comments"))))))}}]),t}(n.Component),lt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={value:"",copied:!1},a.componentDidMount=function(){if(a.props._id){var e=a.props,t=e._id,n=e.type,o="";o="text"===n?"https://truhype.app/textpost/".concat(t):"image"===n?"https://truhype.app/imagepost/".concat(t):"video"===n?"https://truhype.app/videopost/".concat(t):"https://truhype.app/",a.setState({value:o})}},a.componentDidUpdate=function(e,t){if(e._id!==a.props._id&&a.props._id){var n=a.props,o=n._id,r=n.type,l="";l="text"===r?"https://truhype.app/textpost/".concat(o):"image"===r?"https://truhype.app/imagepost/".concat(o):"video"===r?"https://truhype.app/videopost/".concat(o):"https://truhype.app/",a.setState({value:l})}},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.value,n=t.copied;return o.a.createElement("div",null,o.a.createElement(Ie.a,{trigger:o.a.createElement("div",null,o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(I.a,{style:{borderRadius:"0px",width:"120px"}},o.a.createElement(L.a,{name:"share alternate"}))),o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(I.a,{icon:"share alternate",style:{borderRadius:0,minWidth:"60px"}}))),closeIcon:!0},o.a.createElement(U.a,{icon:"share alternate",content:"Click to copy this link"}),o.a.createElement(Ie.a.Content,null,o.a.createElement("div",null,n?o.a.createElement("div",null,o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(I.a,{color:"grey",size:"tiny",content:"Reset",onClick:function(){return e.setState({copied:!1})}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(He.a,null,o.a.createElement(U.a,{as:"h5"},a.slice(0,35)+"..."))),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(I.a,{color:"grey",size:"tiny",content:"Reset",onClick:function(){return e.setState({copied:!1})}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(He.a,null,o.a.createElement(U.a,{as:"h5"},a)))):o.a.createElement("div",null,o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(Fe.CopyToClipboard,{text:this.state.value,onCopy:function(){return e.setState({copied:!0})}},o.a.createElement("span",null," ",a.slice(0,40)+"..."," "))),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(Fe.CopyToClipboard,{text:this.state.value,onCopy:function(){return e.setState({copied:!0})}},o.a.createElement("span",null," ",a," ")))),o.a.createElement("br",null),this.state.copied?o.a.createElement("span",{style:{color:"red"}},"Copied."):null))))}}]),t}(n.Component),st=a(861),ct=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={reportoption:"",Otherreason:"",postId:"",success:"",options:[{key:1,text:"Cyber Bullying",value:"Cyber Bullying"},{key:2,text:"Hate Speech",value:"Hate Speech"},{key:3,text:"Racism",value:"Racism"},{key:4,text:"Offensive words",value:"Offensive words"},{key:5,text:"Spam",value:"Spam"},{key:6,text:"Nudity / Pornography",value:"Nudity / Pornography"},{key:7,text:"False Information",value:"False Information"},{key:8,text:"Terrorism",value:"Terrorism"},{key:9,text:"Other",value:"Other"}]},a.componentDidMount=function(){a._isMounted=!0,a.props._id&&a.setState({postId:a.props._id})},a.componentWillUnmount=function(){a._isMounted=!1},a.componentDidUpdate=function(e,t){t.reportoption!==a.state.reportoption&&"Other"!==a.state.reportoption&&a.setState({Otherreason:""}),e._id!==a.props._id&&a.setState({postId:a.props._id})},a.handleChange=function(e,t){var n=t.name,o=t.value;a.setState(Object(D.a)({},n,o))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.Otherreason,o=t.reportoption,r=t.postId,l=a.props.isAdpost;if(n||o){var s=""!==n?n:o;l?Y.adposts.insertReport(r,s).then(function(e){e&&a._isMounted&&a.setState({success:!0})}):Y.posts.insertReport(r,s).then(function(e){e&&a._isMounted&&a.setState({success:!0})})}else alert("Reason needed!")},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.reportoption,a=e.options,n=e.Otherreason;return o.a.createElement("div",null,o.a.createElement(Ie.a,{trigger:o.a.createElement("div",null,o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(I.a,{style:{borderRadius:"0px",width:"120px"}},o.a.createElement(L.a,{name:"flag"}))),o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(I.a,{icon:"flag",style:{borderRadius:0,minWidth:"60px"}}))),closeIcon:!0},o.a.createElement(U.a,{icon:"flag",content:"Report"}),o.a.createElement(Ie.a.Content,null,this.state.success?o.a.createElement(Q,{text:"Thanks for the feedback!"}):o.a.createElement("div",null,o.a.createElement(V.a,{options:a,value:t,selection:!0,fluid:!0,name:"reportoption",placeholder:"Select reason",scrolling:!0,onChange:this.handleChange}),"Other"===t&&o.a.createElement(R.a,{style:{marginTop:10}},o.a.createElement(st.a,{name:"Otherreason",value:n,fluid:!0,onChange:this.handleChange,placeholder:"Please specify"})))),this.state.success?null:o.a.createElement(Ie.a.Actions,null,o.a.createElement(I.a,{color:"green",onClick:this.handleSubmit},o.a.createElement(L.a,{name:"checkmark"})," Submit"))))}}]),t}(n.Component),it=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a.state={collapsed:!0,post:{_id:"",type:"",category:"",location_city:"",title:"",text:"",hashtags:[],upvotes_count:0,downvotes_count:0,comments_count:0,comments:[],isCardStyle:!1,cardColor:""},hasupvoted:!1,hasdownvoted:!1},a.componentDidMount=function(){if(a._isMounted=!0,a.props.post){a.setState({post:a.props.post});var e=a.props.post._id,t=a.props.isAdpost,n=t?"/api/adposts/hasupvoted":"/api/posts/hasupvoted",o=t?"/api/adposts/hasdownvoted":"/api/posts/hasdownvoted",r=a.props.showBottomBar;e&&""!==e&&r&&(G.a.post(n,{postId:e}).then(function(e){e.data.upvoted&&a._isMounted&&a.setState({hasupvoted:!0})}),G.a.post(o,{postId:e}).then(function(e){e.data.downvoted&&a._isMounted&&a.setState({hasdownvoted:!0})}))}},a.componentWillUnmount=function(){a._isMounted=!1},a.componentDidUpdate=function(e,t){e.post!==a.props.post&&a.setState(Object(x.a)({},a.state,{post:a.props.post}))},a.onBottomVisible=function(){if(""!==a.state.post._id){var e=a.props.isForAdmin,t=a.state.post._id;!e&&a.props.updatePostsSeen(t)}},a.handleCommentAccClick=function(){return a.setState({collapsed:!a.state.collapsed})},a.getVotesfun=function(){var e=a.state.post._id,t=a.props.isAdpost?"/api/adposts/getVotes":"/api/posts/getVotes";G.a.post(t,{postId:e}).then(function(e){e.data.success&&a._isMounted&&a.setState({post:Object(x.a)({},a.state.post,{upvotes_count:e.data.upvotes_count,downvotes_count:e.data.downvotes_count})})})},a.handleUpvotePost=function(e){e.preventDefault();var t=a.state,n=t.hasupvoted,o=t.hasdownvoted,r=a.state.post._id,l=a.props.isAdpost,s=l?"/api/adposts/upvote":"/api/posts/upvote",c=l?"/api/adposts/removedownvote":"/api/posts/removedownvote",i=l?"/api/adposts/removeupvote":"/api/posts/removeupvote";n?G.a.post(i,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasupvoted:!1}),a.getVotesfun())}):(G.a.post(s,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasupvoted:!0}),a.getVotesfun())}),o&&G.a.post(c,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasdownvoted:!1}),a.getVotesfun())}))},a.handleDownvotePost=function(e){e.preventDefault();var t=a.state,n=t.hasdownvoted,o=t.hasupvoted,r=a.state.post._id,l=a.props.isAdpost,s=l?"/api/adposts/downvote":"/api/posts/downvote",c=l?"/api/adposts/removeupvote":"/api/posts/removeupvote",i=l?"/api/adposts/removedownvote":"/api/posts/removedownvote";n?G.a.post(i,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasdownvoted:!1}),a.getVotesfun())}):(G.a.post(s,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasdownvoted:!0}),a.getVotesfun())}),o&&G.a.post(c,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasupvoted:!1}),a.getVotesfun())}))},a.getCommCount=function(e){a._isMounted&&a.setState({post:Object(x.a)({},a.state.post,{comments_count:e+1})})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.collapsed,n=t.hasupvoted,r=t.hasdownvoted,l=this.props,s=l.varColor,c=l.showBottomBar,i=l.isAdpost,u=this.state.post,d=u._id,p=u.type,m=u.category,h=u.location_city,g=u.location_state,f=u.location_country,E=u.title,y=u.text,v=u.hashtags,C=u.upvotes_count,A=u.downvotes_count,b=u.comments_count,w=u.isCardStyle,O=u.cardColor;return o.a.createElement("div",null,o.a.createElement(ye.a.Group,{raised:!0,style:{margin:"15px",marginBottom:"10px"}},o.a.createElement(ye.a,{inverted:!0,color:"brown"},o.a.createElement(_.a,{centered:!0,textAlign:"center"},o.a.createElement(_.a.Row,{columns:2},o.a.createElement(_.a.Column,{textAlign:"left"},o.a.createElement(U.a,{as:"h5",color:s,onClick:function(){return e.props.getCategoryForFilter(m)}},m)),o.a.createElement(_.a.Column,{textAlign:"right"},o.a.createElement(U.a,{as:"h5",color:s},""!==h?h:""!==g?g:f))))),o.a.createElement(ye.a,{textAlign:"center",style:{padding:0}},o.a.createElement($e.a.Description,null,o.a.createElement(et.a,{updateOn:"repaint",onBottomVisible:this.onBottomVisible},w?o.a.createElement($e.a,{fluid:!0,style:{backgroundColor:O,color:"white",padding:"5px"}},o.a.createElement("div",{style:{paddingTop:20,paddingBottom:20}},o.a.createElement("h4",null," ",E," "),y&&y.split("\n").map(function(e,t){return o.a.createElement("span",{key:t}," ",e,o.a.createElement("br",null)," ")}))):o.a.createElement("div",{style:{padding:20}},o.a.createElement("h4",null," ",E," "),y&&y.split("\n").map(function(e,t){return o.a.createElement("span",{key:t}," ",e,o.a.createElement("br",null)," ")}))))),o.a.createElement(ye.a,{textAlign:"center",style:{paddingTop:0}},o.a.createElement($e.a.Description,null,o.a.createElement("div",null,v.length>0&&v.map(function(e){return o.a.createElement(at,{key:e,id:"isHashtagClick",handleClick:function(){},text:e})}))),o.a.createElement("hr",null),o.a.createElement($e.a.Description,null,o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Row,{columns:3},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"left"},o.a.createElement(L.a,{name:"angle up",color:s}),C)),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"middle",textAlign:"center"},o.a.createElement(L.a,{name:"comment outline",color:s}),b)),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"right"},o.a.createElement(L.a,{name:"angle down",color:s}),A))))))),c&&o.a.createElement(B.a,null,o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(I.a.Group,{widths:"5",size:"big"},o.a.createElement(tt.a,{visible:n,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleUpvotePost},o.a.createElement(L.a,{color:"red",name:"arrow alternate circle up"}))),o.a.createElement(tt.a,{visible:!n,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleUpvotePost},o.a.createElement(L.a,{name:"arrow alternate circle up outline"}))),o.a.createElement(tt.a,{visible:r,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleDownvotePost},o.a.createElement(L.a,{color:"grey",name:"arrow alternate circle down"}))),o.a.createElement(tt.a,{visible:!r,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleDownvotePost},o.a.createElement(L.a,{name:"arrow alternate circle down outline"}))),o.a.createElement(I.a,{icon:"chat",onClick:this.handleCommentAccClick}),o.a.createElement(lt,{_id:d,type:p}),o.a.createElement(ct,{isAdpost:i,_id:d}))),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(I.a.Group,{widths:"5",size:"big"},o.a.createElement(tt.a,{visible:n,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleUpvotePost},o.a.createElement(L.a,{color:"red",name:"arrow alternate circle up"}))),o.a.createElement(tt.a,{visible:!n,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleUpvotePost,icon:"arrow alternate circle up outline",style:{width:120}})),o.a.createElement(tt.a,{visible:r,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleDownvotePost},o.a.createElement(L.a,{color:"grey",name:"arrow alternate circle down"}))),o.a.createElement(tt.a,{visible:!r,animation:"fly up",duration:"900"},o.a.createElement(I.a,{style:{width:120},onClick:this.handleDownvotePost,icon:"arrow alternate circle down outline"})),o.a.createElement(I.a,{icon:"chat",onClick:this.handleCommentAccClick,style:{width:120}}),o.a.createElement(lt,{_id:d,type:p}),o.a.createElement(ct,{_id:d,isAdpost:i}))),o.a.createElement(rt,{isAdpost:i,postId:d,varColor:s,collapsed:a,getCommCount:this.getCommCount})))}}]),t}(o.a.Component),ut=Object(u.b)(null,{updatePostsSeen:he})(it),dt=function(){return{type:"CLEAR_CITIES"}},pt=function(){return function(e){Y.locations.fetchCountries().then(function(t){return e(function(e){return{type:"LOCATION_COUNTRIES_FETCHED",countries:e}}(t))})}},mt=function(e){return function(t){e&&Y.locations.fetchStates(e).then(function(e){return t(function(e){return{type:"LOCATION_STATES_FETCHED",states:e}}(e))})}},ht=function(e,t){return function(a){e&&t&&Y.locations.fetchCities(e,t).then(function(e){return a(function(e){return{type:"LOCATION_CITIES_FETCHED",cities:e}}(e))})}},gt=function(){return function(e){Y.others.fetchCategories().then(function(t){return e(function(e){return{type:"CATEGORY_OPTIONS_FETCHED",categories:e}}(t))})}},ft=function(){return function(e){Y.others.fetchHashtags().then(function(t){return e(function(e){return{type:"TOP_EIGHT_HASHTAGS_FETCHED",hashtags:e}}(t))})}},Et=function(e){return function(t){Y.others.fetchHashtagsByKeyword(e).then(function(e){t(function(e){return{type:"HASHTAGS_FETCHED",hashtags:e}}(e))})}},yt=function(){return function(e){e({type:"HASHTAGS_CLEARED"})}},vt={countries:[],states:[],cities:[]};function Ct(e,t,a){return e.push({key:t,value:t,text:t}),e}var At=Object(J.a)(function(e){return e.locations.countries},function(e){return e.reduce(Ct,[])}),bt=Object(J.a)(function(e){return e.locations.states},function(e){return e.reduce(Ct,[])}),wt=Object(J.a)(function(e){return e.locations.cities},function(e){return e.reduce(Ct,[])}),Ot={categories:[],tophashtags:[],hashtags:[]};function St(e,t,a){return e.push({key:t,value:t,text:t}),e}function kt(e,t,a){return e.push({key:t._id,value:t.hashtag,text:t.hashtag}),e}var Pt=Object(J.a)(function(e){return e.others.categories},function(e){return e.reduce(St,[])}),jt=Object(J.a)(function(e){return e.others.hashtags},function(e){return e.reduce(kt,[])}),Dt=Object(J.a)(function(e){return e.others.tophashtags},function(e){return e}),xt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={preview:!1,data:{country:"",state:"",city:""},colorOptions:["#999999","#25D55F","#595959","#FFCF00","#FFA500","#FF7D00","#F22B0C","#EA1889","#B651E1","#8C20BA","#00AFD1","#3A58DB","#A229D6","#1FA2F3","#FF8370","#F977BC","#262626","#000000","#FDCE01","#2B6A76","#314083"]},a.componentWillMount=function(){a.props.fetchCountries(),a.props.fetchCategories()},a.componentDidUpdate=function(e,t){t.data.country!==a.state.data.country&&(a.props.getLocation(a.state.data.city,a.state.data.state,a.state.data.country),a.props.fetchStates(a.state.data.country),a.props.clearCities()),t.data.state!==a.state.data.state&&(a.props.fetchCities(a.state.data.country,a.state.data.state),a.props.getLocation(a.state.data.city,a.state.data.state,a.state.data.country)),t.data.city!==a.state.data.city&&a.props.getLocation(a.state.data.city,a.state.data.state,a.state.data.country)},a.handleLocationChange=function(e,t){var n=t.name,o=t.value;return a.setState({data:Object(x.a)({},a.state.data,Object(D.a)({},n,o))})},a.handlePreview=function(){return a.setState({preview:!a.state.preview})},a.unique=function(e){for(var t=0;t<e.length;++t)for(var a=t+1;a<e.length;++a)e[t]===e[a]&&e.splice(a--,1);return e},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.category,a=e.title,n=e.text,r=e.hashtags,l=e.cardColor,s=e.isCardStyle,c=e.location_city,i=e.location_state,u=e.location_country,d=this.props.categoryOptions,p=this.props,m=p.CountryOptions,h=p.StateOptions,g=p.CityOptions,f=p.hashtagOptions,E=p.ServerHashtagOptions,y=this.state.data,v=y.country,C=y.state,A=y.city,b=this.state,w=b.colorOptions,O=b.preview,S={title:a,text:n,category:t,hashtags:r,cardColor:l,isCardStyle:s,location_city:c,location_state:i,location_country:u,upvotes_count:0,downvotes_count:0,comments_count:0,comments:[]},k=this.unique(Object(K.a)(f).concat(Object(K.a)(E)));return o.a.createElement("div",null,O?o.a.createElement("div",null,o.a.createElement(ut,{post:S,showBottomBar:!1}),o.a.createElement(I.a,{onClick:this.handlePreview,color:"grey",style:{marginTop:10}},o.a.createElement(L.a,{name:"close"})," Close Preview")):o.a.createElement("div",null,o.a.createElement(R.a,null,o.a.createElement(R.a.Input,{placeholder:"Title",onChange:this.props.handleDataChange,name:"title",value:a}),o.a.createElement(R.a.Field,null,o.a.createElement(N.a,{placeholder:"Writeup",autoHeight:!0,onChange:this.props.handleDataChange,name:"text",value:n,required:!0})),o.a.createElement(R.a.Dropdown,{fluid:!0,required:!0,scrolling:!0,search:!0,selection:!0,value:t,name:"category",onChange:this.props.handleDataChange,placeholder:"Category",options:d}),o.a.createElement(R.a.Dropdown,{fluid:!0,search:!0,scrolling:!0,selection:!0,multiple:!0,allowAdditions:!0,onAddItem:this.props.addHashtag,onSearchChange:this.props.onHashtagSearch,closeOnChange:!0,value:r,name:"hashtags",onChange:this.props.handleHashtagChange,placeholder:"Add Hashtags",options:k}),o.a.createElement("label",null,"Location"),o.a.createElement(R.a.Group,null,o.a.createElement(R.a.Dropdown,{placeholder:"Country",width:5,search:!0,selection:!0,value:v,onChange:this.handleLocationChange,name:"country",options:m}),o.a.createElement(R.a.Dropdown,{placeholder:"State",width:5,search:!0,onChange:this.handleLocationChange,value:C,name:"state",selection:!0,options:h}),o.a.createElement(R.a.Dropdown,{placeholder:"Location",width:6,search:!0,onChange:this.handleLocationChange,value:A,name:"city",selection:!0,options:g})),o.a.createElement(R.a.Group,{style:{marginTop:10}},o.a.createElement(R.a.Field,{control:Je.a,checked:s,onChange:this.props.handleCheck,label:" Use Card Color"}),"\xa0\xa0\xa0\xa0\xa0"),s&&o.a.createElement("div",{style:{marginTop:10,marginLeft:20}},o.a.createElement(B.a,null,o.a.createElement(Ze.CirclePicker,{color:l,colors:w,onChangeComplete:this.props.handleColorChange})))),o.a.createElement(_.a,{centered:!0,style:{marginTop:5}},o.a.createElement(_.a.Row,{columns:2},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{fluid:!0,align:"left",onClick:this.handleLeftClick},o.a.createElement(I.a,{color:"grey",content:"Preview",onClick:this.handlePreview}))),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{fluid:!0,align:"right"},o.a.createElement(I.a,{onClick:this.props.onTextPostSubmit,color:"grey",content:"Submit"})))))))}}]),t}(n.Component);var Tt=Object(u.b)(function(e){return{CountryOptions:At(e),StateOptions:bt(e),CityOptions:wt(e),categoryOptions:Pt(e)}},{fetchCountries:pt,fetchCategories:gt,fetchStates:mt,fetchCities:ht,clearCities:dt})(xt),_t=a(232),Bt=a(420),It=a.n(Bt),Ht=function(e,t){var a={sX:0,sY:0,eX:0,eY:0},n="",o=document.getElementById(e);o&&(o.addEventListener("touchstart",function(e){var t=e.touches[0];a.sX=t.screenX,a.sY=t.screenY},!1),o.addEventListener("touchmove",function(e){e.preventDefault();var t=e.touches[0];a.eX=t.screenX,a.eY=t.screenY},!1),o.addEventListener("touchend",function(o){(a.eX-30>a.sX||a.eX+30<a.sX)&&a.eY<a.sY+60&&a.sY>a.eY-60&&a.eX>0?n=a.eX>a.sX?"r":"l":(a.eY-50>a.sY||a.eY+50<a.sY)&&a.eX<a.sX+30&&a.sX>a.eX-30&&a.eY>0&&(n=a.eY>a.sY?"d":"u"),""!==n&&"function"==typeof t&&t(e,n),n="",a.sX=0,a.sY=0,a.eX=0,a.eY=0},!1))},Ft=function(e){return o.a.createElement("div",{onClick:e.previousImage,style:{fontSize:"2em"}},o.a.createElement(L.a,{name:"angle left"}))},Mt=function(e){return o.a.createElement("div",{onClick:e.nextImage,style:{fontSize:"2em"}},o.a.createElement(L.a,{name:"angle right"}))},Lt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={photos:[],previewPhotos:[],slideCount:0,isOpen:!1},a.componentDidUpdate=function(e,t){if(t.slideCount!==a.state.slideCount&&Ht("imageid",a.myfunction),e.images!==a.props.images&&a.props.images&&a.props.images.length>0){var n=a.props.images.map(function(e){return{id:0,src:e,caption:""}});a.setState({photos:n})}},a.nextImage=function(){var e=a.state.slideCount;e!==a.state.photos.length-1&&(e+=1),a.setState({slideCount:e})},a.previousImage=function(){var e=a.state.slideCount;0!==e&&(e-=1),a.setState({slideCount:e})},a.closeLightbox=function(){a.setState({isOpen:!1})},a.openLightbox=function(e,t){a.setState({isOpen:!0})},a.myfunction=function(e,t){"l"===t&&a.nextImage(),"r"===t&&a.previousImage()},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.photos,n=t.slideCount,r=t.isOpen,l=t.previewPhotos,s=l.length>0?l:a;return o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},s.map(function(t,a){return s.indexOf(t)===n?o.a.createElement("div",{id:"imageid",key:a},o.a.createElement(H.a,{crossOrigin:"Anonymous",onClick:e.openLightbox,src:t.src,alt:""})):""})),s.length>0&&o.a.createElement(_.a,{centered:!0,style:{marginTop:"0px"}},o.a.createElement(_.a.Row,{columns:3},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"left"},0!==n?o.a.createElement(Ft,{previousImage:this.previousImage}):"")),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"middle",textAlign:"center"},s.length>1&&o.a.createElement("div",{style:{zIndex:2}},n+1," of ",s.length))),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"right"},n!==s.length-1?o.a.createElement(Mt,{nextImage:this.nextImage}):"")))),o.a.createElement(It.a,{images:s,isOpen:r,currentImage:n,onClickPrev:this.previousImage,onClickNext:this.nextImage,onClose:this.closeLightbox}))}}]),t}(n.Component),Ut=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a.state={collapsed:!0,isFull:!1,tempimgs:[],post:{category:"",location_city:"",location_state:"",location_country:"",title:"",images:[],hashtags:[],upvotes_count:0,downvotes_count:0,comments_count:0,comments:[]},hasupvoted:!1,hasdownvoted:!1},a.componentDidMount=function(){if(a._isMounted=!0,a.setState({post:{}}),a.props.post&&a.props.post.images){a.setState({post:a.props.post}),a.props.post.images.map(function(e){return _t(e,a.callbackFun,{orientation:!0}),null});var e=a.props.post._id,t=a.props.isAdpost,n=t?"/api/adposts/hasupvoted":"/api/posts/hasupvoted",o=t?"/api/adposts/hasdownvoted":"/api/posts/hasdownvoted",r=a.props.showBottomBar;e&&""!==e&&r&&(G.a.post(n,{postId:e}).then(function(e){e.data.upvoted&&a._isMounted&&a.setState({hasupvoted:!0})}),G.a.post(o,{postId:e}).then(function(e){e.data.downvoted&&a._isMounted&&a.setState({hasdownvoted:!0})}))}},a.componentWillUnmount=function(){a._isMounted=!1},a.componentDidUpdate=function(e,t){t.tempimgs!==a.state.tempimgs&&a._isMounted&&a.setState({post:Object(x.a)({},a.state.post,{images:a.state.tempimgs})}),e.post!==a.props.post&&a.props.post&&a.props.post&&a.props.post.images&&(a._isMounted&&a.setState({post:a.props.post}),a.props.post.images.map(function(e){return _t(e,a.callbackFun,{orientation:!0}),null}))},a.onBottomVisible=function(){if(""!==a.state.post._id){var e=a.props.isForAdmin,t=a.state.post._id;!e&&a.props.updatePostsSeen(t)}},a.getVotesfun=function(){var e=a.state.post._id,t=a.props.isAdpost?"/api/adposts/getVotes":"/api/posts/getVotes";G.a.post(t,{postId:e}).then(function(e){e.data.success&&a._isMounted&&a.setState({post:Object(x.a)({},a.state.post,{upvotes_count:e.data.upvotes_count,downvotes_count:e.data.downvotes_count})})})},a.handleUpvotePost=function(e){e.preventDefault();var t=a.state,n=t.hasupvoted,o=t.hasdownvoted,r=a.state.post._id,l=a.props.isAdpost,s=l?"/api/adposts/upvote":"/api/posts/upvote",c=l?"/api/adposts/removedownvote":"/api/posts/removedownvote",i=l?"/api/adposts/removeupvote":"/api/posts/removeupvote";n?G.a.post(i,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasupvoted:!1}),a.getVotesfun())}):(G.a.post(s,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasupvoted:!0}),a.getVotesfun())}),o&&G.a.post(c,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasdownvoted:!1}),a.getVotesfun())}))},a.handleDownvotePost=function(e){e.preventDefault();var t=a.state,n=t.hasdownvoted,o=t.hasupvoted,r=a.state.post._id,l=a.props.isAdpost,s=l?"/api/adposts/downvote":"/api/posts/downvote",c=l?"/api/adposts/removeupvote":"/api/posts/removeupvote",i=l?"/api/adposts/removedownvote":"/api/posts/removedownvote";n?G.a.post(i,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasdownvoted:!1}),a.getVotesfun())}):(G.a.post(s,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasdownvoted:!0}),a.getVotesfun())}),o&&G.a.post(c,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasupvoted:!1}),a.getVotesfun())}))},a.callbackFun=function(e){if(e&&"error"!==e.type){var t=e.toDataURL();a._isMounted&&a.setState({tempimgs:a.state.tempimgs.concat(t)})}},a.handleCommentAccClick=function(){return a.setState({collapsed:!a.state.collapsed})},a.getCommCount=function(e){a._isMounted&&a.setState({post:Object(x.a)({},a.state.post,{comments_count:e+1})})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.collapsed,n=t.hasupvoted,r=t.hasdownvoted,l=this.props,s=l.varColor,c=l.showBottomBar,i=l.isAdpost,u=this.state.post,d=u._id,p=u.type,m=u.category,h=u.location_city,g=u.location_state,f=u.location_country,E=u.title,y=u.images,v=u.hashtags,C=u.upvotes_count,A=u.downvotes_count,b=u.comments_count;return o.a.createElement("div",null,o.a.createElement(ye.a.Group,{raised:!0,style:{margin:"15px",marginBottom:"10px"}},o.a.createElement(ye.a,{inverted:!0,color:"brown"},o.a.createElement(_.a,{centered:!0,textAlign:"center"},o.a.createElement(_.a.Row,{columns:2},o.a.createElement(_.a.Column,{textAlign:"left"},o.a.createElement(U.a,{as:"h5",color:s,onClick:function(){return e.props.getCategoryForFilter(m)}},m)),o.a.createElement(_.a.Column,{textAlign:"right"},o.a.createElement(U.a,{as:"h5",color:s},""!==h?h:""!==g?g:f))))),o.a.createElement(ye.a,{textAlign:"center",style:{padding:"0px"}},o.a.createElement(et.a,{updateOn:"repaint",once:!0,onBottomVisible:this.onBottomVisible},this.props.post&&this.state.tempimgs.length===this.props.post.images.length?o.a.createElement(Lt,{images:y}):o.a.createElement(ye.a,null,o.a.createElement(L.a,{name:"image",size:"massive"})))),o.a.createElement(ye.a,{textAlign:"center"},o.a.createElement($e.a.Description,null,o.a.createElement("h4",null," ",E," ")),o.a.createElement($e.a.Description,null,o.a.createElement("div",null,v.length>0&&v.map(function(e){return o.a.createElement(at,{key:e,id:"isHashtagClick",handleClick:function(){},text:e})}))),o.a.createElement("hr",null),o.a.createElement($e.a.Description,null,o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Row,{columns:3},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"left"},o.a.createElement(L.a,{name:"angle up",color:s}),C)),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"middle",textAlign:"center"},o.a.createElement(L.a,{name:"comment outline",color:s}),b)),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"right"},o.a.createElement(L.a,{name:"angle down",color:s}),A))))))),c&&o.a.createElement(B.a,null,o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(I.a.Group,{widths:"5",size:"big"},o.a.createElement(tt.a,{visible:n,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleUpvotePost},o.a.createElement(L.a,{color:"red",name:"arrow alternate circle up"}))),o.a.createElement(tt.a,{visible:!n,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleUpvotePost},o.a.createElement(L.a,{name:"arrow alternate circle up outline"}))),o.a.createElement(tt.a,{visible:r,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleDownvotePost},o.a.createElement(L.a,{color:"grey",name:"arrow alternate circle down"}))),o.a.createElement(tt.a,{visible:!r,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleDownvotePost},o.a.createElement(L.a,{name:"arrow alternate circle down outline"}))),o.a.createElement(I.a,{icon:"chat",onClick:this.handleCommentAccClick}),o.a.createElement(lt,{_id:d,type:p}),o.a.createElement(ct,{isAdpost:i,_id:d}))),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(I.a.Group,{widths:"5",size:"big"},o.a.createElement(tt.a,{visible:n,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleUpvotePost},o.a.createElement(L.a,{color:"red",name:"arrow alternate circle up"}))),o.a.createElement(tt.a,{visible:!n,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleUpvotePost,icon:"arrow alternate circle up outline",style:{width:120}})),o.a.createElement(tt.a,{visible:r,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleDownvotePost},o.a.createElement(L.a,{color:"grey",name:"arrow alternate circle down"}))),o.a.createElement(tt.a,{visible:!r,animation:"fly up",duration:"900"},o.a.createElement(I.a,{style:{width:120},onClick:this.handleDownvotePost,icon:"arrow alternate circle down outline"})),o.a.createElement(I.a,{icon:"chat",onClick:this.handleCommentAccClick,style:{width:120}}),o.a.createElement(lt,{_id:d,type:p}),o.a.createElement(ct,{_id:d,isAdpost:i}))),o.a.createElement(rt,{isAdpost:i,postId:d,varColor:s,collapsed:a,getCommCount:this.getCommCount})))}}]),t}(o.a.Component),Rt=Object(u.b)(null,{updatePostsSeen:he})(Ut),Vt=a(883),Nt=a(867),Wt=a(70),Gt=a.n(Wt),Yt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a.state={pictures:[],fielswanttoupload:0,urls:[],uploadedPics:[],loading:!1},a.componentDidMount=function(){a._isMounted=!0},a.componentDidUpdate=function(e,t){t.urls!==a.state.urls&&a.state.urls.length===a.state.fielswanttoupload&&a.props.getImagesUrls(a.state.urls),t.pictures!==a.state.pictures&&a.state.pictures.length===a.state.fielswanttoupload&&a.props.handleShowNext()},a.handleClearImages=function(){for(var e=a.state.uploadedPics,t=e.length-1;t>=0;t--)fetch("/api/images/files/".concat(e[t].id),{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){e.success||alert("Something went wrong. Please try again")});a._isMounted&&a.setState({pictures:[],urls:[],uploadedPics:[],fielswanttoupload:0})},a.handleImageChange=function(e){if(e.preventDefault(),e.target.files.length>8)return alert("Please select upto 8 images only"),null;a.setState({loading:!0,fielswanttoupload:e.target.files.length});for(var t=0;t<e.target.files.length;t++){var n=e.target.files[t];n.type.includes("image")?n.size/1048576>5&&alert("Please choose image of smaller size"):alert("Please choose image")}a.handleImagesUpload(e.target.files)},a.handleImagesUpload=function(e){for(var t,n=new FormData,o=e.length-1;o>=0;o--)n.append("files",e[o]);Gt.a.start(),fetch("/api/images/multifiles",{method:"POST",body:n}).then(function(e){return e.json()}).then(function(e){if(e.success){if(a._isMounted){a.setState({uploadedPics:e.files});for(var n=e.files.length-1;n>=0;n--)Gt.a.set(e.files.length/n*100),t="https://truhype.app/api/images/files/".concat(e.files[n].filename),a.setState({pictures:a.state.pictures.concat(t)}),a.setState({urls:a.state.urls.concat(t)})}}else Gt.a.done(!0),alert("Upload failed");a.setState({loading:!1})}).catch(function(e){console.log(e),Gt.a.done(!0),alert("Upload failed with error: "+e),a.setState({loading:!1})})},a.componentWillUnmount=function(){a._isMounted=!1},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.pictures,a=e.loading;return o.a.createElement("div",null,o.a.createElement(Vt.a,{active:a,style:{padding:0,margin:0,lineHeight:0}},o.a.createElement(Nt.a,null)),t.length>0?o.a.createElement("div",null,o.a.createElement(X.a,null,o.a.createElement(X.a.Header,null,t.length,1===t.length?" image selected":" images selected")),o.a.createElement("div",{style:{padding:"5px"}},o.a.createElement(I.a,{color:"grey",icon:"close",circular:!0,basic:!0,content:"clear images",onClick:this.handleClearImages}))):o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"upload-photo"},o.a.createElement(ye.a,{placeholder:!0,style:{borderRadius:0}},o.a.createElement(U.a,{icon:!0},o.a.createElement(L.a,{name:"images"})," Upload Images"))),o.a.createElement(st.a,{style:{opacity:0,zIndex:1},id:"upload-photo",type:"file",accept:"image/*",multiple:!0,onChange:this.handleImageChange})))}}]),t}(n.Component),zt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={whichPage:"ImageUploader",data:{country:"",state:"",city:""},showNext:!1},a.componentWillMount=function(){a.props.fetchCountries(),a.props.fetchCategories()},a.componentDidUpdate=function(e,t){t.data.country!==a.state.data.country&&(a.props.getLocation(a.state.data.city,a.state.data.state,a.state.data.country),a.props.fetchStates(a.state.data.country),a.props.clearCities()),t.data.state!==a.state.data.state&&(a.props.getLocation(a.state.data.city,a.state.data.state,a.state.data.country),a.props.fetchCities(a.state.data.country,a.state.data.state)),t.data.city!==a.state.data.city&&a.props.getLocation(a.state.data.city,a.state.data.state,a.state.data.country)},a.handleLocationChange=function(e,t){var n=t.name,o=t.value;return a.setState({data:Object(x.a)({},a.state.data,Object(D.a)({},n,o))})},a.handlePageChange=function(e,t){var n=t.value;e.preventDefault(),a.setState({whichPage:n})},a.unique=function(e){for(var t=0;t<e.length;++t)for(var a=t+1;a<e.length;++a)e[t]===e[a]&&e.splice(a--,1);return e},a.handleShowNext=function(){a.setState({showNext:!0})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.category,a=e.title,n=e.images,r=e.hashtags,l=e.location_city,s=e.location_state,c=e.location_country,i=this.props.categoryOptions,u=this.props,d=u.CountryOptions,p=u.StateOptions,m=u.CityOptions,h=u.hashtagOptions,g=u.ServerHashtagOptions,f=this.state.data,E=f.country,y=f.state,v=f.city,C=this.state,A=C.whichPage,b=C.showNext,w={title:a,images:n,category:t,hashtags:r,location_city:l,location_state:s,location_country:c,upvotes_count:0,downvotes_count:0,comments_count:0,comments:[]},O=this.unique(Object(K.a)(h).concat(Object(K.a)(g)));return o.a.createElement("div",null,"ImageUploader"===A&&o.a.createElement("div",null,o.a.createElement(Yt,{getImagesUrls:this.props.getImagesUrls,handleShowNext:this.handleShowNext}),b&&o.a.createElement(I.a,{active:n.length>0,onClick:this.handlePageChange,value:"EditForm",floated:"right",color:"grey"},"Next",o.a.createElement(L.a,{name:"angle right"})),o.a.createElement("br",null)),"EditForm"===A&&o.a.createElement("div",null,o.a.createElement(R.a,{style:{marginTop:10}},o.a.createElement(R.a.Input,{placeholder:"Title",onChange:this.props.handleDataChange,name:"title",value:a}),o.a.createElement(R.a.Dropdown,{fluid:!0,required:!0,scrolling:!0,search:!0,selection:!0,value:t,name:"category",onChange:this.props.handleDataChange,placeholder:"Category",options:i}),o.a.createElement(R.a.Dropdown,{fluid:!0,search:!0,scrolling:!0,selection:!0,multiple:!0,allowAdditions:!0,onAddItem:this.props.addHashtag,onSearchChange:this.props.onHashtagSearch,closeOnChange:!0,value:r,name:"hashtags",onChange:this.props.handleHashtagChange,placeholder:"Add Hashtags",options:O}),o.a.createElement("label",null,"Location"),o.a.createElement(R.a.Group,null,o.a.createElement(R.a.Dropdown,{placeholder:"Country",width:5,search:!0,selection:!0,value:E,onChange:this.handleLocationChange,name:"country",options:d}),o.a.createElement(R.a.Dropdown,{placeholder:"State",width:5,search:!0,onChange:this.handleLocationChange,value:y,name:"state",selection:!0,options:p}),o.a.createElement(R.a.Dropdown,{placeholder:"Location",width:6,search:!0,onChange:this.handleLocationChange,value:v,name:"city",selection:!0,options:m}))),o.a.createElement(_.a,{centered:!0,style:{marginTop:5}},o.a.createElement(_.a.Row,{columns:2},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{fluid:!0,align:"left",onClick:this.handleLeftClick},o.a.createElement(I.a,{color:"grey",content:"Preview",value:"Preview",onClick:this.handlePageChange}))),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{fluid:!0,align:"right"},o.a.createElement(I.a,{onClick:this.props.onImagePostSubmit,color:"grey",content:"Submit"})))))),"Preview"===A&&o.a.createElement("div",null,o.a.createElement(Rt,{post:w,showBottomBar:!1}),o.a.createElement(I.a,{onClick:this.handlePageChange,value:"EditForm",color:"grey",style:{marginTop:10}},o.a.createElement(L.a,{name:"close"})," Close Preview")))}}]),t}(n.Component);var qt=Object(u.b)(function(e){return{categoryOptions:Pt(e),CountryOptions:At(e),StateOptions:bt(e),CityOptions:wt(e)}},{fetchCountries:pt,fetchCategories:gt,fetchStates:mt,fetchCities:ht,clearCities:dt})(zt),Xt=a(49),Qt=a(4),Kt=a.n(Qt),Jt=function(e){return o.a.createElement("div",{onClick:e.previousVideo,style:{fontSize:"2em"}},o.a.createElement(L.a,{name:"angle left"}))},Zt=function(e){return o.a.createElement("div",{onClick:e.nextVideo,style:{fontSize:"2em"}},o.a.createElement(L.a,{name:"angle right"}))},$t=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={videos:[],slideCount:0},a.componentDidMount=function(){Ht("videoid",a.myfunction),a.props.videos&&a.setState({videos:a.props.videos})},a.componentDidUpdate=function(e,t){t.slideCount!==a.state.slideCount&&Ht("videoid",a.myfunction),e.videos!==a.props.videos&&a.setState({videos:a.props.videos})},a.nextVideo=function(){var e=a.state.slideCount;e!==a.state.videos.length-1&&(e+=1),a.setState({slideCount:e})},a.previousVideo=function(){var e=a.state.slideCount;0!==e&&(e-=1),a.setState({slideCount:e})},a.myfunction=function(e,t){"l"===t&&a.nextVideo(),"r"===t&&a.previousVideo()},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.videos,n=t.slideCount;return o.a.createElement("div",null,a.map(function(t){return a.indexOf(t)===n?o.a.createElement("div",{id:"videoid",key:t,style:{margin:"0 auto"}},o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(Xt.Player,{preload:"metadata"},o.a.createElement(Xt.BigPlayButton,{position:"center"}),o.a.createElement("source",{src:t}),o.a.createElement(Xt.LoadingSpinner,null),o.a.createElement(Xt.ControlBar,{autoHide:!1},o.a.createElement(Xt.ReplayControl,{seconds:10,order:7.1}),o.a.createElement(Xt.ForwardControl,{seconds:10,order:7.2})))),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(Xt.Player,{aspectRatio:"16:9"},o.a.createElement(Xt.BigPlayButton,{position:"center"}),o.a.createElement("source",{src:t}),o.a.createElement(Xt.LoadingSpinner,null),o.a.createElement(Xt.ControlBar,{autoHide:!1},o.a.createElement(Xt.ReplayControl,{seconds:10,order:7.1}),o.a.createElement(Xt.ForwardControl,{seconds:10,order:7.2})))),o.a.createElement(_.a,{centered:!0,style:{marginTop:"0px"}},o.a.createElement(_.a.Row,{columns:3},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"left"},0!==n?o.a.createElement(Jt,{previousVideo:e.previousVideo}):"")),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"middle",textAlign:"center"},a.length>1&&o.a.createElement("div",null,n+1," of ",a.length))),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"right"},n!==a.length-1?o.a.createElement(Zt,{nextVideo:e.nextVideo}):""))))):""}))}}]),t}(o.a.Component);Xt.BigPlayButton.propTypes={position:Kt.a.string},Xt.ControlBar.propTypes={autoHide:Kt.a.bool};var ea=$t,ta=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a.state={collapsed:!0,post:{category:"",location_city:"",location_state:"",location_country:"",title:"",videos:[],hashtags:[],upvotes_count:0,downvotes_count:0,comments_count:0,comments:[]},hasupvoted:!1,hasdownvoted:!1},a.componentDidMount=function(){if(a._isMounted=!0,a.props.post){a.setState({post:a.props.post});var e=a.props.post._id,t=a.props.isAdpost,n=t?"/api/adposts/hasupvoted":"/api/posts/hasupvoted",o=t?"/api/adposts/hasdownvoted":"/api/posts/hasdownvoted",r=a.props.showBottomBar;e&&""!==e&&r&&(G.a.post(n,{postId:e}).then(function(e){e.data.upvoted&&a._isMounted&&a.setState({hasupvoted:!0})}),G.a.post(o,{postId:e}).then(function(e){e.data.downvoted&&a._isMounted&&a.setState({hasdownvoted:!0})}))}},a.componentWillUnmount=function(){a._isMounted=!1},a.componentDidUpdate=function(e,t){e.post!==a.props.post&&a.setState(Object(x.a)({},a.state,{post:a.props.post}))},a.onBottomVisible=function(){if(""!==a.state.post._id){var e=a.props.isForAdmin,t=a.state.post._id;!e&&a.props.updatePostsSeen(t)}},a.getVotesfun=function(){var e=a.state.post._id,t=a.props.isAdpost?"/api/adposts/getVotes":"/api/posts/getVotes";G.a.post(t,{postId:e}).then(function(e){e.data.success&&a._isMounted&&a.setState({post:Object(x.a)({},a.state.post,{upvotes_count:e.data.upvotes_count,downvotes_count:e.data.downvotes_count})})})},a.handleUpvotePost=function(e){e.preventDefault();var t=a.state,n=t.hasupvoted,o=t.hasdownvoted,r=a.state.post._id,l=a.props.isAdpost,s=l?"/api/adposts/upvote":"/api/posts/upvote",c=l?"/api/adposts/removedownvote":"/api/posts/removedownvote",i=l?"/api/adposts/removeupvote":"/api/posts/removeupvote";n?G.a.post(i,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasupvoted:!1}),a.getVotesfun())}):(G.a.post(s,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasupvoted:!0}),a.getVotesfun())}),o&&G.a.post(c,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasdownvoted:!1}),a.getVotesfun())}))},a.handleDownvotePost=function(e){e.preventDefault();var t=a.state,n=t.hasdownvoted,o=t.hasupvoted,r=a.state.post._id,l=a.props.isAdpost,s=l?"/api/adposts/downvote":"/api/posts/downvote",c=l?"/api/adposts/removeupvote":"/api/posts/removeupvote",i=l?"/api/adposts/removedownvote":"/api/posts/removedownvote";n?G.a.post(i,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasdownvoted:!1}),a.getVotesfun())}):(G.a.post(s,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasdownvoted:!0}),a.getVotesfun())}),o&&G.a.post(c,{postId:r}).then(function(e){e.data.success&&(a._isMounted&&a.setState({hasupvoted:!1}),a.getVotesfun())}))},a.handleCommentAccClick=function(){return a.setState({collapsed:!a.state.collapsed})},a.getCommCount=function(e){a._isMounted&&a.setState({post:Object(x.a)({},a.state.post,{comments_count:e+1})})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.collapsed,n=t.hasupvoted,r=t.hasdownvoted,l=this.props,s=l.varColor,c=l.showBottomBar,i=l.isAdpost,u=this.state.post,d=u._id,p=u.type,m=u.category,h=u.location_city,g=u.location_state,f=u.location_country,E=u.title,y=u.videos,v=u.hashtags,C=u.upvotes_count,A=u.downvotes_count,b=u.comments_count;return o.a.createElement("div",null,o.a.createElement(ye.a.Group,{raised:!0,style:{margin:"15px",marginBottom:"10px"}},o.a.createElement(ye.a,{inverted:!0,color:"brown"},o.a.createElement(_.a,{centered:!0,textAlign:"center"},o.a.createElement(_.a.Row,{columns:2},o.a.createElement(_.a.Column,{textAlign:"left"},o.a.createElement(U.a,{as:"h5",color:s,onClick:function(){return e.props.getCategoryForFilter(m)}},m)),o.a.createElement(_.a.Column,{textAlign:"right"},o.a.createElement(U.a,{as:"h5",color:s},""!==h?h:""!==g?g:f))))),o.a.createElement(ye.a,{textAlign:"center",style:{padding:"0px"}},o.a.createElement(et.a,{updateOn:"repaint",once:!0,onBottomVisible:this.onBottomVisible},o.a.createElement(ea,{videos:y}))),o.a.createElement(ye.a,{textAlign:"center"},o.a.createElement($e.a.Description,null,o.a.createElement("h4",null," ",E," ")),o.a.createElement($e.a.Description,null,o.a.createElement("div",null,v.length>0&&v.map(function(e){return o.a.createElement(at,{key:e,id:"isHashtagClick",handleClick:function(){},text:e})}))),o.a.createElement("hr",null),o.a.createElement($e.a.Description,null,o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Row,{columns:3},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"left"},o.a.createElement(L.a,{name:"angle up",color:s}),C)),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"middle",textAlign:"center"},o.a.createElement(L.a,{name:"comment outline",color:s}),b)),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"right"},o.a.createElement(L.a,{name:"angle down",color:s}),A))))))),c&&o.a.createElement(B.a,null,o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(I.a.Group,{widths:"5",size:"big"},o.a.createElement(tt.a,{visible:n,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleUpvotePost},o.a.createElement(L.a,{color:"red",name:"arrow alternate circle up"}))),o.a.createElement(tt.a,{visible:!n,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleUpvotePost},o.a.createElement(L.a,{name:"arrow alternate circle up outline"}))),o.a.createElement(tt.a,{visible:r,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleDownvotePost},o.a.createElement(L.a,{color:"grey",name:"arrow alternate circle down"}))),o.a.createElement(tt.a,{visible:!r,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleDownvotePost},o.a.createElement(L.a,{name:"arrow alternate circle down outline"}))),o.a.createElement(I.a,{icon:"chat",onClick:this.handleCommentAccClick}),o.a.createElement(lt,{_id:d,type:p}),o.a.createElement(ct,{_id:d,isAdpost:i}))),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(I.a.Group,{widths:"5",size:"big"},o.a.createElement(tt.a,{visible:n,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleUpvotePost},o.a.createElement(L.a,{color:"red",name:"arrow alternate circle up"}))),o.a.createElement(tt.a,{visible:!n,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleUpvotePost,icon:"arrow alternate circle up outline",style:{width:120}})),o.a.createElement(tt.a,{visible:r,animation:"fly up",duration:"900"},o.a.createElement(I.a,{onClick:this.handleDownvotePost},o.a.createElement(L.a,{color:"grey",name:"arrow alternate circle down"}))),o.a.createElement(tt.a,{visible:!r,animation:"fly up",duration:"900"},o.a.createElement(I.a,{style:{width:120},onClick:this.handleDownvotePost,icon:"arrow alternate circle down outline"})),o.a.createElement(I.a,{icon:"chat",onClick:this.handleCommentAccClick,style:{width:120}}),o.a.createElement(lt,{_id:d,type:p}),o.a.createElement(ct,{isAdpost:i,_id:d}))),o.a.createElement(rt,{isAdpost:i,postId:d,varColor:s,collapsed:a,getCommCount:this.getCommCount})))}}]),t}(o.a.Component),aa=Object(u.b)(null,{updatePostsSeen:he})(ta),na=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a.state={videoUrls:[],fielswanttoupload:0,uploadedVideos:[],loading:!1},a.componentDidMount=function(){a._isMounted=!0},a.componentWillUnmount=function(){a._isMounted=!1},a.componentDidUpdate=function(e,t){t.videoUrls!==a.state.videoUrls&&a.state.videoUrls.length===a.state.fielswanttoupload&&a.props.getVideosUrls(a.state.videoUrls),t.uploadedVideos!==a.state.uploadedVideos&&a.state.uploadedVideos.length===a.state.fielswanttoupload&&a.props.handleShowNext()},a.handleClearVideos=function(){for(var e=a.state.uploadedVideos,t=e.length-1;t>=0;t--)fetch("/api/videos/files/".concat(e[t].id),{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){e.success||alert("Something went wrong. Please try again")});a.setState({videoUrls:[],uploadedVideos:[],fielswanttoupload:0})},a.handleVideoChange=function(e){if(e.preventDefault(),e.target.files.length>8)return alert("Please select upto 8 videos only"),null;a.setState({loading:!0,fielswanttoupload:e.target.files.length});for(var t=0;t<e.target.files.length;t++){e.target.files[t].type.includes("video")||alert("Please choose video")}a.handleVideosUpload(e.target.files)},a.handleVideosUpload=function(e){for(var t,n=new FormData,o=e.length-1;o>=0;o--)n.append("files",e[o]);Gt.a.start(),fetch("/api/videos/multifiles",{method:"POST",body:n}).then(function(e){return e.json()}).then(function(e){if(e.success){if(a._isMounted){a.setState({uploadedVideos:e.files});for(var n=e.files.length-1;n>=0;n--)Gt.a.set(e.files.length/n*100),t="https://truhype.app/api/videos/files/".concat(e.files[n].filename),a.setState({videoUrls:a.state.videoUrls.concat(t)})}}else Gt.a.done(!0),alert("Upload failed");a.setState({loading:!1})}).catch(function(e){console.log(e),Gt.a.done(!0),alert("Upload failed with error: "+e),a.setState({loading:!1})})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.videoUrls,a=e.loading;return o.a.createElement("div",null,o.a.createElement(Vt.a,{active:a},o.a.createElement("p",null,"Uploading...")),t.length>0?o.a.createElement("div",null,o.a.createElement(X.a,null,o.a.createElement(X.a.Header,null,t.length,1===t.length?" video selected":" videos selected")),o.a.createElement("div",{style:{padding:"5px"}},o.a.createElement(I.a,{color:"grey",icon:"close",circular:!0,basic:!0,content:"clear videos",onClick:this.handleClearVideos}))):o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"upload-video"},o.a.createElement(ye.a,{placeholder:!0,style:{borderRadius:0}},o.a.createElement(U.a,{icon:!0},o.a.createElement(L.a,{name:"video"})," Upload Videos"))),o.a.createElement(st.a,{style:{opacity:0,zIndex:1},id:"upload-video",accept:"video/*",type:"file",multiple:!0,onChange:this.handleVideoChange})))}}]),t}(n.Component),oa=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={whichPage:"VideoUploader",data:{country:"",state:"",city:""},showNext:!1},a.componentWillMount=function(){a.props.fetchCountries(),a.props.fetchCategories()},a.componentDidUpdate=function(e,t){t.data.country!==a.state.data.country&&(a.props.getLocation(a.state.data.city,a.state.data.state,a.state.data.country),a.props.fetchStates(a.state.data.country),a.props.clearCities()),t.data.state!==a.state.data.state&&(a.props.getLocation(a.state.data.city,a.state.data.state,a.state.data.country),a.props.fetchCities(a.state.data.country,a.state.data.state)),t.data.city!==a.state.data.city&&a.props.getLocation(a.state.data.city,a.state.data.state,a.state.data.country)},a.handleLocationChange=function(e,t){var n=t.name,o=t.value;return a.setState({data:Object(x.a)({},a.state.data,Object(D.a)({},n,o))})},a.handlePageChange=function(e,t){var n=t.value;e.preventDefault(),a.setState({whichPage:n})},a.unique=function(e){for(var t=0;t<e.length;++t)for(var a=t+1;a<e.length;++a)e[t]===e[a]&&e.splice(a--,1);return e},a.handleShowNext=function(){a.setState({showNext:!0})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.category,a=e.title,n=e.videos,r=e.hashtags,l=e.location_city,s=e.location_state,c=e.location_country,i=this.props.categoryOptions,u=this.props,d=u.CountryOptions,p=u.StateOptions,m=u.CityOptions,h=u.hashtagOptions,g=u.ServerHashtagOptions,f=this.state.data,E=f.country,y=f.state,v=f.city,C=this.state,A=C.whichPage,b=C.showNext,w={title:a,videos:n,category:t,hashtags:r,location_city:l,location_state:s,location_country:c,upvotes_count:0,downvotes_count:0,comments_count:0,comments:[]},O=this.unique(Object(K.a)(h).concat(Object(K.a)(g)));return o.a.createElement("div",null,"VideoUploader"===A&&o.a.createElement("div",null,o.a.createElement(na,{getVideosUrls:this.props.getVideosUrls,handleShowNext:this.handleShowNext}),b&&o.a.createElement(I.a,{active:n.length>0,onClick:this.handlePageChange,value:"EditForm",floated:"right",color:"grey"},"Next",o.a.createElement(L.a,{name:"angle right"})),o.a.createElement("br",null)),"EditForm"===A&&o.a.createElement("div",null,o.a.createElement(R.a,{style:{marginTop:10}},o.a.createElement(R.a.Input,{placeholder:"Title",onChange:this.props.handleDataChange,name:"title",value:a}),o.a.createElement(R.a.Dropdown,{fluid:!0,required:!0,scrolling:!0,search:!0,selection:!0,value:t,name:"category",onChange:this.props.handleDataChange,placeholder:"Category",options:i}),o.a.createElement(R.a.Dropdown,{fluid:!0,search:!0,scrolling:!0,selection:!0,multiple:!0,allowAdditions:!0,onAddItem:this.props.addHashtag,onSearchChange:this.props.onHashtagSearch,closeOnChange:!0,value:r,name:"hashtags",onChange:this.props.handleHashtagChange,placeholder:"Add Hashtags",options:O}),o.a.createElement("label",null,"Location"),o.a.createElement(R.a.Group,null,o.a.createElement(R.a.Dropdown,{placeholder:"Country",width:5,search:!0,selection:!0,value:E,onChange:this.handleLocationChange,name:"country",options:d}),o.a.createElement(R.a.Dropdown,{placeholder:"State",width:5,search:!0,onChange:this.handleLocationChange,value:y,name:"state",selection:!0,options:p}),o.a.createElement(R.a.Dropdown,{placeholder:"Location",width:6,search:!0,onChange:this.handleLocationChange,value:v,name:"city",selection:!0,options:m}))),o.a.createElement(_.a,{centered:!0,style:{marginTop:5}},o.a.createElement(_.a.Row,{columns:2},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{fluid:!0,align:"left",onClick:this.handleLeftClick},o.a.createElement(I.a,{color:"grey",content:"Preview",value:"Preview",onClick:this.handlePageChange}))),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{fluid:!0,align:"right"},o.a.createElement(I.a,{onClick:this.props.onVideoPostSubmit,color:"grey",content:"Submit"})))))),"Preview"===A&&o.a.createElement("div",null,o.a.createElement(aa,{post:w,showBottomBar:!1}),o.a.createElement(I.a,{onClick:this.handlePageChange,value:"EditForm",color:"grey",style:{marginTop:10}},o.a.createElement(L.a,{name:"close"})," Close Preview")))}}]),t}(n.Component);var ra=Object(u.b)(function(e){return{categoryOptions:Pt(e),CountryOptions:At(e),StateOptions:bt(e),CityOptions:wt(e)}},{fetchCountries:pt,fetchCategories:gt,fetchStates:mt,fetchCities:ht,clearCities:dt})(oa),la=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={filter:"Loved",activeItem:"text",hashtagOptions:[],ServerHashtagOptions:[],data:{category:"",title:"",text:"",hashtags:[],hashtagValue:"",images:[],videos:[],location_city:"",location_state:"",location_country:"",isCardStyle:!1,cardColor:""}},a.componentDidUpdate=function(e,t){t.filter!==a.state.filter&&("Loved"===a.state.filter?a.setState({varColor:"red"}):"Latest"===a.state.filter?a.setState({varColor:"purple"}):"Hated"===a.state.filter&&a.setState({varColor:"grey"})),e.ServerHashtagOptions!==a.props.ServerHashtagOptions&&a.setState({ServerHashtagOptions:a.props.ServerHashtagOptions})},a.getImagesUrls=function(e){a.setState({data:Object(x.a)({},a.state.data,{images:Object(K.a)(e)})})},a.getVideosUrls=function(e){a.setState({data:Object(x.a)({},a.state.data,{videos:Object(K.a)(e)})})},a.onTextPostSubmit=function(e){e.preventDefault();var t=a.state.data,n=t.category,o=t.title,r=t.text,l=t.hashtags,s=t.isCardStyle,c=t.cardColor,i=a.state.data,u=i.location_city,d=i.location_state,p=i.location_country,m={};if(n||(m.category="Category needed!"),r||(m.text="Text needed!"),Object.keys(m).length>0){var h="";h+=Object.values(m),alert(h)}else{var g={type:"text"};g.location_city=u,g.location_state=d,g.location_country=p,g.title=o,g.text=r,g.category=n,g.hashtags=l,g.isCardStyle=s,g.cardColor=c,a.props.upload_post(g).then(function(e){return a.props.history.push("/textpost/".concat(e))})}},a.onImagePostSubmit=function(e){e.preventDefault();var t=a.state.data,n=t.category,o=t.title,r=t.images,l=t.hashtags,s=a.state.data,c=s.location_city,i=s.location_state,u=s.location_country,d={};if(n||(d.category="Category needed!"),r||(d.images="Image needed!"),Object.keys(d).length>0){var p="";p+=Object.values(d),alert(p)}else{var m={type:"image"};m.location_city=c,m.location_state=i,m.location_country=u,m.title=o,m.images=r,m.category=n,m.hashtags=l,a.props.upload_post(m).then(function(e){return a.props.history.push("/imagepost/".concat(e))})}},a.onVideoPostSubmit=function(e){e.preventDefault();var t=a.state.data,n=t.category,o=t.title,r=t.videos,l=t.hashtags,s=a.state.data,c=s.location_city,i=s.location_state,u=s.location_country,d={};if(n||(d.category="Category needed!"),r||(d.videos="Video needed!"),Object.keys(d).length>0){var p="";p+=Object.values(d),alert(p)}else{var m={type:"video"};m.location_city=c,m.location_state=i,m.location_country=u,m.title=o,m.videos=r,m.category=n,m.hashtags=l,a.props.upload_post(m).then(function(e){return a.props.history.push("/videopost/".concat(e))})}},a.handleFilter=function(e){a.setState({filter:e.target.value})},a.handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a.addHashtag=function(e,t){var n=t.value,o={key:n,value:n,text:n};a.setState({hashtagOptions:Object(K.a)(a.state.hashtagOptions).concat([o])})},a.handleHashtagChange=function(e,t){var n=t.value,o={key:n[0],value:n[0],text:n[0]};a.setState({hashtagOptions:Object(K.a)(a.state.hashtagOptions).concat([o]),data:Object(x.a)({},a.state.data,{hashtags:n})})},a.onHashtagSearch=function(e,t){var n=t.searchQuery;clearTimeout(a.timer),a.props.clearHashtags(),a.setState({data:Object(x.a)({},a.state.data,{hashtagValue:n})}),a.timer=setTimeout(a.search,1e3)},a.search=function(){a.setState({loading:!0}),a.props.fetchHashtagsByKeyword(a.state.data.hashtagValue)},a.handleDataChange=function(e,t){var n=t.name,o=t.value;a.setState({data:Object(x.a)({},a.state.data,Object(D.a)({},n,o))})},a.getLocation=function(e,t,n){a.setState({data:Object(x.a)({},a.state.data,{location_city:e,location_state:t,location_country:n})})},a.handleCheck=function(){return a.setState({data:Object(x.a)({},a.state.data,{isCardStyle:!a.state.data.isCardStyle})})},a.handleColorChange=function(e){return a.setState({data:Object(x.a)({},a.state.data,{cardColor:e.hex})})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.filter,a=e.activeItem,n=e.hashtagOptions,r=e.ServerHashtagOptions;return o.a.createElement(Ke,{pathname:this.props.pathname,filter:t,handleFilter:this.handleFilter,showTopBar:!1,showBottomBar:!0,showTopIcons:!0},o.a.createElement("div",null,o.a.createElement(M.a,{pointing:!0,secondary:!0,widths:3,color:"grey",style:{marginTop:"18px"}},o.a.createElement(M.a.Item,{name:"text",active:"text"===a,onClick:this.handleItemClick}),o.a.createElement(M.a.Item,{name:"image",active:"image"===a,onClick:this.handleItemClick}),o.a.createElement(M.a.Item,{name:"video",active:"video"===a,onClick:this.handleItemClick})),"text"===a&&o.a.createElement(Tt,{data:this.state.data,handleDataChange:this.handleDataChange,addHashtag:this.addHashtag,hashtagOptions:n,onHashtagSearch:this.onHashtagSearch,ServerHashtagOptions:r,handleHashtagChange:this.handleHashtagChange,onTextPostSubmit:this.onTextPostSubmit,getLocation:this.getLocation,handleCheck:this.handleCheck,handleColorChange:this.handleColorChange}),"image"===a&&o.a.createElement(qt,{data:this.state.data,handleDataChange:this.handleDataChange,addHashtag:this.addHashtag,hashtagOptions:n,onHashtagSearch:this.onHashtagSearch,ServerHashtagOptions:r,handleHashtagChange:this.handleHashtagChange,onImagePostSubmit:this.onImagePostSubmit,getLocation:this.getLocation,getImagesUrls:this.getImagesUrls}),"video"===a&&o.a.createElement(ra,{data:this.state.data,handleDataChange:this.handleDataChange,addHashtag:this.addHashtag,hashtagOptions:n,onHashtagSearch:this.onHashtagSearch,ServerHashtagOptions:r,handleHashtagChange:this.handleHashtagChange,onVideoPostSubmit:this.onVideoPostSubmit,getLocation:this.getLocation,getVideosUrls:this.getVideosUrls})))}}]),t}(o.a.Component);var sa=Object(u.b)(function(e){return{ServerHashtagOptions:jt(e)}},{clearHashtags:yt,fetchHashtagsByKeyword:Et,upload_post:function(e){return function(t){return Y.posts.upload_post(e).then(function(e){return t({type:"POST_UPLOADED",posts:e}),e._id})}}})(la),ca=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={activeIndex:-1,feedback:{feedbacktype:"",text:""},feedbacksuccess:!1,survey:{ans1:"",ans2:"",ans3:""},surveysuccess:!1,per:15,page:1,totalPages:null,scrolling:!1},a.componentWillMount=function(){a.loadActivity(),a.props.fetchTopHashtags()},a.componentDidMount=function(){a._isMounted=!0},a.componentWillUnmount=function(){a._isMounted=!1,a.props.clearActivity()},a.loadMore=function(){a._isMounted&&a.setState(function(e){return{page:e.page+1,scrolling:!0}},a.loadActivity)},a.loadActivity=function(e){var t=a.state.per,n=a.state.page;e&&(n=e,a.setState({page:e})),a.props.getActivity(t,n).then(function(e){a._isMounted&&a.setState({scrolling:!1,totalPages:e})})},a.handleAccClick=function(e,t){var n=t.index,o=a.state.activeIndex===n?-1:n;a.setState({activeIndex:o})},a.handleFeedbackChange=function(e,t){var n=t.name,o=t.value;a.setState({feedback:Object(x.a)({},a.state.feedback,Object(D.a)({},n,o))})},a.handleSurveyChange=function(e,t){var n=t.name,o=t.value;a.setState({survey:Object(x.a)({},a.state.survey,Object(D.a)({},n,o))})},a.handleFeedbackSubmit=function(e){e.preventDefault();var t=a.state.feedback,n=t.feedbacktype,o=t.text,r={};if(n||(r.feedbacktype="Feedback Type needed!"),o||(r.text="Feedback needed"),0===Object.keys(r).length)Y.others.insertfeedback(a.state.feedback).then(function(e){e?a.setState({feedbacksuccess:!0}):alert("Something went wrong. Please try again!")});else{var l="";l+=Object.values(r),alert(l)}},a.handleSurveySubmit=function(e){e.preventDefault();var t=a.state.survey,n=t.ans1,o=t.ans2,r=t.ans3,l={};if(n||(l.ans1="Answer1 needed!"),o||(l.ans2="Answer2 needed!"),r||(l.ans3="Answer3 needed!"),0===Object.keys(l).length)Y.others.insertsurvey(a.state.survey).then(function(e){e?a.setState({surveysuccess:!0}):alert("Something went wrong. Please try again!")});else{var s="";s+=Object.values(l),alert(s)}},a.onButtonClick=function(e){e.preventDefault(),a.props.clearActivity(),a.loadActivity(1)},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.activeIndex,a=e.feedbacksuccess,n=e.surveysuccess,r=this.state.feedback,l=r.feedbacktype,s=r.text,c=this.state.survey,i=c.ans1,u=c.ans2,d=c.ans3,p=this.props,m=p.hashtags,h=p.activity,g=this.state,f=g.totalPages,E=g.page,y=h&&h.length>0&&h.map(function(e,t){return"upvote"===e.action?o.a.createElement(T.a.Item,{key:t},o.a.createElement(T.a.Icon,{name:"angle up"}),o.a.createElement(T.a.Content,{verticalAlign:"middle"},"You have upvoted post ",e.postId)):"downvote"===e.action?o.a.createElement(T.a.Item,{key:t},o.a.createElement(T.a.Icon,{name:"angle down"}),o.a.createElement(T.a.Content,{verticalAlign:"middle"},"You have downvoted post ",e.postId)):"report"===e.action?o.a.createElement(T.a.Item,{key:t},o.a.createElement(T.a.Icon,{name:"flag"}),o.a.createElement(T.a.Content,{verticalAlign:"middle"},"You have reported post ",e.postId)):"comment"===e.action?o.a.createElement(T.a.Item,{key:t},o.a.createElement(T.a.Icon,{name:"comment"}),o.a.createElement(T.a.Content,{verticalAlign:"middle"},"You have commented post ",e.postId)):"delete"===e.action?o.a.createElement(T.a.Item,{key:t},o.a.createElement(T.a.Icon,{name:"trash alternate outline"}),o.a.createElement(T.a.Content,{verticalAlign:"middle"},"You have deleted posts")):"create"===e.action?o.a.createElement(T.a.Item,{key:t},o.a.createElement(T.a.Icon,{name:"upload"}),o.a.createElement(T.a.Content,{verticalAlign:"middle"},"You have uploaded post ",e.postId)):null});return o.a.createElement("div",{style:{paddingRight:"20px",paddingTop:"8px",paddingLeft:"0px"}},o.a.createElement(_.a,null,o.a.createElement(_.a.Row,null,o.a.createElement(F.a,{as:M.a,vertical:!0,fluid:!0,style:{backgroundColor:"#E0E1E2"}},o.a.createElement(M.a.Item,null,o.a.createElement(F.a.Title,{active:0===t,index:0,onClick:this.handleAccClick},o.a.createElement(L.a,{name:"dropdown"}),"Activity Log"),o.a.createElement(F.a.Content,{active:0===t},o.a.createElement(I.a,{style:{marginTop:10},size:"small",fluid:!0,color:"grey",content:"update log",onClick:this.onButtonClick}),o.a.createElement("hr",null),o.a.createElement("div",{style:{height:300,overflowY:"scroll",overflowX:"hidden"},id:"ResultBlock"},o.a.createElement(T.a,{celled:!0,floated:"left"},y),f&&E<f?o.a.createElement(I.a,{style:{marginTop:10},size:"mini",circular:!0,color:"grey",icon:"triangle down",onClick:this.loadMore}):o.a.createElement(U.a,{as:"h6"},"Activity reached to end")))),o.a.createElement(M.a.Item,null,o.a.createElement(F.a.Title,{active:1===t,index:1,onClick:this.handleAccClick},o.a.createElement(L.a,{name:"dropdown"}),"Feedback"),o.a.createElement(F.a.Content,{active:1===t},a?o.a.createElement(Q,{text:"Thank you for your feedback!"}):o.a.createElement("div",null,o.a.createElement(R.a,null,o.a.createElement(R.a.Field,null,o.a.createElement(V.a,{selection:!0,placeholder:"Select type",name:"feedbacktype",value:l,onChange:this.handleFeedbackChange,options:[{id:0,text:"Suggestion",value:"suggestion"},{id:1,text:"Problem",value:"problem"},{id:0,text:"Question",value:"question"},{id:0,text:"Opinion",value:"opinion"},{id:0,text:"Other",value:"other"}]})),o.a.createElement(R.a.Field,null,o.a.createElement(N.a,{rows:6,placeholder:"Feedback here ...",style:{minHeight:30},name:"text",value:s,onChange:this.handleFeedbackChange}))),o.a.createElement("br",null),o.a.createElement(I.a,{color:"grey",onClick:this.handleFeedbackSubmit,content:"Submit",fluid:!0})))),o.a.createElement(M.a.Item,null,o.a.createElement(F.a.Title,{active:2===t,index:2,onClick:this.handleAccClick},o.a.createElement(L.a,{name:"dropdown"}),"Survey"),o.a.createElement(F.a.Content,{active:2===t},n?o.a.createElement(Q,{text:"Thank you for your support"}):o.a.createElement("div",null,o.a.createElement("p",null,"Answer these question to make this platform a better place"),o.a.createElement(R.a,null,o.a.createElement(U.a,{as:"h4"},"Q1.\xa0Should we add more emotions like funny, sad, wow with existing emotions love and hate?"),o.a.createElement(R.a.Group,{inline:!0},o.a.createElement(R.a.Radio,{label:"Yes",value:"yes",name:"ans1",checked:"yes"===i,onChange:this.handleSurveyChange}),o.a.createElement(R.a.Radio,{label:"No",value:"no",name:"ans1",checked:"no"===i,onChange:this.handleSurveyChange})),o.a.createElement(U.a,{as:"h4"},"Q2.\xa0Every post should be active for"),o.a.createElement(R.a.Group,{inline:!0},o.a.createElement(R.a.Radio,{label:"Less than 7 Days",value:"less than 7 days",name:"ans2",checked:"less than 7 days"===u,onChange:this.handleSurveyChange}),o.a.createElement(R.a.Radio,{label:"7 Days only",value:"7 days only",name:"ans2",checked:"7 days only"===u,onChange:this.handleSurveyChange}),o.a.createElement(R.a.Radio,{label:"More than 7 Days",value:"more than 7 days",name:"ans2",checked:"more than 7 days"===u,onChange:this.handleSurveyChange})),o.a.createElement(U.a,{as:"h4"},"Q3.\xa0Any changes you wish to make on this platform?"),o.a.createElement(R.a.Field,null,o.a.createElement(N.a,{rows:6,placeholder:"Answer here ...",style:{minHeight:30},name:"ans3",value:d,onChange:this.handleSurveyChange})),o.a.createElement(R.a.Button,{onClick:this.handleSurveySubmit,content:"Submit",fluid:!0,color:"grey"}))))),o.a.createElement(M.a.Item,null,o.a.createElement(F.a.Title,{active:3===t,index:3,onClick:this.handleAccClick},o.a.createElement(L.a,{name:"dropdown"}),"Blog"),o.a.createElement(F.a.Content,{active:3===t},o.a.createElement("p",null,"\u201cWords of one. Voice of others\u201d"),o.a.createElement("br",null),o.a.createElement("p",null,"Missing the best content of the week visit our blog"),o.a.createElement("a",{href:"https://blog.truhype.app",target:"_blank",rel:"noopener noreferrer",style:{display:"block",border:"1px solid grey",padding:8,backgroundColor:"grey",color:"white",borderRadius:3}},"Visit Blog"))),o.a.createElement(M.a.Item,null,o.a.createElement(F.a.Title,{active:4===t,index:4,onClick:this.handleAccClick},o.a.createElement(L.a,{name:"dropdown"}),"Sponsor"),o.a.createElement(F.a.Content,{active:4===t},o.a.createElement("p",null,"\u201cA good advertisement is one which sells the product without drawing attention to itself.\u201d"),o.a.createElement("br",null),o.a.createElement("p",null,"Start promotion from your own city."),o.a.createElement("a",{href:"https://business.truhype.app",target:"_blank",rel:"noopener noreferrer",style:{display:"block",border:"1px solid grey",padding:8,backgroundColor:"grey",color:"white",borderRadius:3}},"Start Advertising"))))),o.a.createElement(_.a.Row,null,o.a.createElement(T.a,{relaxed:!0},o.a.createElement(T.a.Item,null,o.a.createElement(U.a,{as:"h2"},"Popular Hashtags")),m.map(function(e){return o.a.createElement(T.a.Item,{as:"a",key:e._id},o.a.createElement(T.a.Content,null,o.a.createElement(T.a.Header,null,o.a.createElement(L.a,{name:"hashtag"}),"#"!==e.hashtag[0]&&e.hashtag,"#"===e.hashtag[0]&&e.hashtag.substr(1)),o.a.createElement(T.a.Description,null,1===e.count?"Once":e.count+" times")))}))),o.a.createElement(_.a.Row,null,o.a.createElement(B.a,{fluid:!0},o.a.createElement("a",{rel:"noopener noreferrer",href:"https://about.truhype.app/copyright",target:"_blank"},"\xa9 2019 Truhype"),"\xa0\xa0\xa0\xa0",o.a.createElement("a",{rel:"noopener noreferrer",href:"https://business.truhype.app/pricing",target:"_blank"},"Ads Info"),"\xa0\xa0\xa0\xa0",o.a.createElement("a",{rel:"noopener noreferrer",href:"https://about.truhype.app/home",target:"_blank"},"About"),"\xa0\xa0\xa0\xa0",o.a.createElement("a",{rel:"noopener noreferrer",href:"https://about.truhype.app/privacy-policy",target:"_blank"},"Privacy policy")," \xa0\xa0\xa0\xa0",o.a.createElement("a",{rel:"noopener noreferrer",href:"https://about.truhype.app/tc",target:"_blank"},"Terms and Conditions"),"\xa0\xa0\xa0"))))}}]),t}(n.Component);var ia=Object(u.b)(function(e){return{hashtags:Dt(e),activity:Z(e)}},{fetchTopHashtags:ft,getActivity:de,clearActivity:pe})(ca),ua=a(868),da=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1,result:"",fireComponent:!1},a.componentDidMount=function(){a.props.getUsername(),a.props.getAnalytics()},a.handleDialogConfirm=function(){a.props.clearPosts(),a.props.clearAdPosts(),a.setState({result:"confirmed",open:!1}),a.props.logout()},a.handleDialogCancel=function(){a.setState({result:"cancelled",open:!1})},a.handleLogout=function(){a.setState({fireComponent:!0,open:!0})},a.onClickAnalyticsBtn=function(){a.props.getAnalytics()},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.username,a=e.analytics,n=this.state.fireComponent;return o.a.createElement("div",null,n&&o.a.createElement(Te.a,{open:this.state.open,content:"Please note down the key to login to this session later. Otherwise, you can't access this session again!",onCancel:this.handleDialogCancel,onConfirm:this.handleDialogConfirm}),o.a.createElement("div",{style:{marginTop:"8px",marginLeft:"1.8rem"}},o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Row,null,o.a.createElement(ye.a,{raised:!0,style:{backgroundColor:"#E0E1E2",minWidth:315,maxWidth:320}},o.a.createElement(H.a,{size:"tiny",centered:!0,circular:!0,src:qe.a,bordered:!0}),o.a.createElement("h1",null,t),"Username"))),o.a.createElement(_.a,{centered:!0},o.a.createElement(I.a,{icon:"newspaper",labelPosition:"left",content:"Posts",color:"grey",as:Pe.a,to:"/posts"}),"\xa0\xa0\xa0\xa0",o.a.createElement(I.a,{icon:"sign out",labelPosition:"right",content:"Opt Out",color:"grey",onClick:this.handleLogout})),o.a.createElement(_.a,{centered:!0},o.a.createElement("div",{style:{marginTop:5}},o.a.createElement(Le,null))),o.a.createElement(_.a,null,o.a.createElement(_.a.Row,null,o.a.createElement(ye.a,{align:"center",style:{padding:10,width:315}},o.a.createElement(T.a,{horizontal:!0,relaxed:!0},o.a.createElement(T.a.Item,null,o.a.createElement(Ue.a,{size:"tiny"},o.a.createElement(Ue.a.Value,null,o.a.createElement(L.a,{name:"angle up"})),o.a.createElement(Ue.a.Label,null,a&&a.upvotes_given))),o.a.createElement(T.a.Item,{style:{marginLeft:"3rem",marginRight:"3rem"}},o.a.createElement(Ue.a,{size:"tiny"},o.a.createElement(Ue.a.Value,null,o.a.createElement(L.a,{name:"eye"})),o.a.createElement(Ue.a.Label,null,a&&a.posts_seen))),o.a.createElement(T.a.Item,null,o.a.createElement(Ue.a,{size:"tiny"},o.a.createElement(Ue.a.Value,null,o.a.createElement(L.a,{name:"angle down"})),o.a.createElement(Ue.a.Label,null,a&&a.downvotes_given)))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(I.a,{content:"Update analytics",color:"grey",onClick:this.onClickAnalyticsBtn})))),o.a.createElement(_.a,null,o.a.createElement(ua.a,{unit:"medium rectangle",test:"Sample Ad"}))))}}]),t}(n.Component);var pa=Object(u.b)(function(e){return{username:e.user.username,analytics:e.user.analytics}},{logout:te,getUsername:ue,getAnalytics:me,clearAdPosts:Ye,clearPosts:re})(da),ma=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Column,{width:4},o.a.createElement("div",{style:{position:"fixed",minWidth:"310px"}},o.a.createElement(pa,null))),o.a.createElement(_.a.Column,{width:8},o.a.createElement(sa,{history:this.props.history,pathname:this.props.pathname})),o.a.createElement(_.a.Column,{width:4,style:{height:"100%"}},o.a.createElement("div",{style:{position:"fixed",minWidth:"310px"}},o.a.createElement(ia,null)))))}}]),t}(n.Component),ha=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(sa,{history:this.props.history,pathname:this.props.location.pathname})),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(ma,{history:this.props.history,pathname:this.props.location.pathname})))}}]),t}(n.Component),ga=o.a.createElement("div",null,o.a.createElement(H.a,{size:"small",src:Ce.a}),o.a.createElement(B.a,{style:{padding:"10px",paddingTop:"40px"}},'"Silence is the most powerful scream"')),fa=o.a.createElement("div",null,o.a.createElement(H.a,{size:"small",src:Ce.a}),o.a.createElement(B.a,{style:{padding:"10px",paddingTop:"25px"}},"Truhype is an online content sharing and interaction platform based on your opinions")),Ea=o.a.createElement("div",null,o.a.createElement(H.a,{style:{top:0},size:"small",src:Ce.a}),o.a.createElement(B.a,{align:"left",style:{padding:"10px",fontSize:"15px",paddingTop:"20px"},textAlign:"justified"},o.a.createElement(T.a,{bulleted:!0},o.a.createElement(T.a.Item,null," ","Every post will be deleted after 30 days upload."," "),o.a.createElement(T.a.Item,null," ","We respect your privacy that's why we don't take your email and personal detail."," "),o.a.createElement(T.a.Item,null," ","Feel free to report any post that offends you."," ")))),ya=o.a.createElement("div",null,o.a.createElement(H.a,{size:"small",src:Ce.a}),o.a.createElement(B.a,{style:{padding:"10px",paddingTop:"40px"}},"Welcome to our small family")),va=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a.state={cardno:1,loading:!1,errors:{}},a.componentDidMount=function(){a._isMounted=!0},a.componentWillUnmount=function(){a._isMounted=!1},a.handleCardNo=function(){var e=a.state.cardno;e++,a._isMounted&&a.setState({cardno:e})},a.onSignUp=function(e){e.preventDefault(),a.props.history.push("/welcome2")},a.onLogIn=function(e){e.preventDefault(),a.props.history.push("/login")},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.cardno,a=e.loading,n=e.errors;return o.a.createElement("div",null,o.a.createElement("div",null,n.global&&o.a.createElement(Ae,{text:n.global})),o.a.createElement("div",{style:{backgroundColor:"#f9f9f9"}},o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},0===Object.keys(n).length&&o.a.createElement(_.a,{textAlign:"center",style:{height:window.innerHeight},verticalAlign:"middle"},o.a.createElement(_.a.Column,{style:{maxWidth:800}},o.a.createElement($e.a.Group,{itemsPerRow:2},o.a.createElement($e.a,null,o.a.createElement(ye.a,{size:"big",align:"middle",raised:!0,style:{height:"200px"},loading:a},ga)),o.a.createElement($e.a,null,o.a.createElement(ye.a,{size:"big",align:"middle",raised:!0,style:{height:"200px"},loading:a},fa)),o.a.createElement($e.a,null,o.a.createElement(ye.a,{size:"big",align:"middle",raised:!0,style:{height:"200px"},loading:a},Ea)),o.a.createElement($e.a,null,o.a.createElement(ye.a,{size:"big",align:"middle",raised:!0,style:{height:"200px"},loading:a},ya))),o.a.createElement(B.a,{style:{marginTop:"20px"}},o.a.createElement(I.a.Group,{size:"big"},o.a.createElement(I.a,{color:"grey",onClick:this.onSignUp},"Get new Session \xa0 ",o.a.createElement(L.a,{name:"signup"})),o.a.createElement(I.a.Or,null),o.a.createElement(I.a,{color:"black",onClick:this.onLogIn},"Login to Session \xa0 ",o.a.createElement(L.a,{name:"sign-in"}))))))),o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(_.a,{textAlign:"center",style:{height:window.innerHeight,backgroundColor:"#f9f9f9"},verticalAlign:"middle"},o.a.createElement(_.a.Column,{style:{maxWidth:window.innerWidth-50}},1===t&&o.a.createElement("div",null,o.a.createElement($e.a,null,o.a.createElement(ye.a,{size:"big",align:"middle",raised:!0,style:{height:"200px"}},ga)),o.a.createElement(B.a,{style:{marginTop:"20px"}},o.a.createElement(I.a,{color:"grey",onClick:this.handleCardNo},"Next ",o.a.createElement(L.a,{name:"angle right"})))),2===t&&o.a.createElement("div",null,o.a.createElement($e.a,null,o.a.createElement(ye.a,{size:"big",align:"middle",raised:!0,style:{height:"250px"}},fa)),o.a.createElement(B.a,{style:{marginTop:"20px"}},o.a.createElement(I.a,{color:"grey",onClick:this.handleCardNo},"Next ",o.a.createElement(L.a,{name:"angle right"})))),3===t&&o.a.createElement("div",null,o.a.createElement($e.a,null,o.a.createElement(ye.a,{align:"middle",raised:!0,style:{height:"280px"}},Ea)),o.a.createElement(B.a,{style:{marginTop:"20px"}},o.a.createElement(I.a,{color:"grey",onClick:this.handleCardNo},"Next ",o.a.createElement(L.a,{name:"angle right"})))),4===t&&o.a.createElement("div",null,o.a.createElement($e.a,null,o.a.createElement(ye.a,{size:"big",align:"middle",raised:!0,style:{height:"200px"},loading:a},ya)),o.a.createElement(B.a,{style:{marginTop:"20px"}},o.a.createElement(I.a.Group,null,o.a.createElement(I.a,{color:"grey",onClick:this.onSignUp},"Get new \xa0 ",o.a.createElement(L.a,{name:"signup"})),o.a.createElement(I.a.Or,null),o.a.createElement(I.a,{color:"black",onClick:this.onLogIn},"Login \xa0 ",o.a.createElement(L.a,{name:"sign-in"}))))))))))}}]),t}(n.Component),Ca=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(va,{history:this.props.history}))}}]),t}(n.Component),Aa=Object(u.b)(null)(Ca),ba=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a.state={data:{country:"",state:"",city:""},activeIndex:-1},a.componentWillMount=function(){a.props.fetchCountries()},a.componentDidMount=function(){a._isMounted=!0},a.componentWillUnmount=function(){a._isMounted=!1},a.componentDidUpdate=function(e,t){t.data.country!==a.state.data.country&&(a.props.fetchStates(a.state.data.country),a.props.clearCities()),t.data.state!==a.state.data.state&&a.props.fetchCities(a.state.data.country,a.state.data.state)},a.handleAccClick=function(e,t){var n=t.index,o=a.state.activeIndex===n?-1:n;a.setState({activeIndex:o})},a.handleChange=function(e,t){var n=t.name,o=t.value;return a._isMounted&&a.setState({data:Object(x.a)({},a.state.data,Object(D.a)({},n,o))})},a.handleSubmit=function(e){e.preventDefault();var t={location_city:a.state.data.city,location_state:a.state.data.state,location_country:a.state.data.country};a.setState({activeIndex:-1}),a.props.clearPosts(),a.props.loadPosts(1,t)},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.activeIndex,a=e.country,n=e.state,r=e.city,l=this.props,s=l.CountryOptions,c=l.StateOptions,i=l.CityOptions;return o.a.createElement(F.a,{styled:!0,fluid:!0,style:{marginTop:5}},o.a.createElement(F.a.Title,{active:0===t,index:0,onClick:this.handleAccClick},"Wanna change location of feed temporarily? \xa0\xa0",o.a.createElement("span",{style:{float:"right"}},o.a.createElement(L.a,{name:"close",onClick:this.props.handleIsAcc}))),o.a.createElement(F.a.Content,{active:0===t},o.a.createElement(_.a,null,o.a.createElement(_.a.Row,null,o.a.createElement(_.a.Column,null,o.a.createElement(V.a,{placeholder:"Country",fluid:!0,search:!0,selection:!0,value:a,onChange:this.handleChange,name:"country",options:s}))),o.a.createElement(_.a.Row,null,o.a.createElement(_.a.Column,null,o.a.createElement(V.a,{placeholder:"State",fluid:!0,search:!0,onChange:this.handleChange,value:n,name:"state",selection:!0,options:c}))),o.a.createElement(_.a.Row,null,o.a.createElement(_.a.Column,null,o.a.createElement(V.a,{placeholder:"Location",fluid:!0,search:!0,onChange:this.handleChange,value:r,name:"city",selection:!0,options:i}))),o.a.createElement(_.a.Row,null,o.a.createElement(_.a.Column,null,o.a.createElement(I.a,{content:"Change",onClick:this.handleSubmit}))))))}}]),t}(n.Component);var wa=Object(u.b)(function(e){return{CountryOptions:At(e),StateOptions:bt(e),CityOptions:wt(e)}},{fetchCountries:pt,fetchStates:mt,fetchCities:ht,clearCities:dt})(ba),Oa=Object(J.a)(function(e){return e.posts},function(e){return e}),Sa=function(e){return e.adposts},ka=(Object(J.a)(Sa,function(e){return e}),function(e){return function(t){return t(function(e){return{type:"ADPOST_PER_CHANGED",per:e}}(e))}}),Pa=function(e){return function(t){return t(function(e){return{type:"ADPOST_PAGE_CHANGED",page:e}}(e))}},ja=function(e){return function(t){return t(function(e){return{type:"ADPOST_TOTALPAGES_CHANGED",totalpages:e}}(e))}},Da=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.state={filter:"Latest",varColor:"purple",category:"all",per:5,page:1,totalPages:null,scrolling:!1,isAcc:!0,loading:!1},a.componentWillMount=function(){a.props.clearPosts(),a.loadPosts()},a.componentDidMount=function(){a._isMounted=!0,window.addEventListener("scroll",function(e){a.handleScroll(e)})},a.componentWillUnmount=function(){a._isMounted=!1,window.removeEventListener("scroll",function(e){a.handleScroll(e)})},a.handleScroll=function(){var e=a.state,t=e.scrolling,n=e.totalPages,o=e.page;if(!t&&!(n<=o)){var r=document.getElementById("ResultBlock");a.isBottom(r)&&a.loadMore()}},a.isBottom=function(e){return e.getBoundingClientRect().bottom-20<window.innerHeight+window.pageYOffset},a.loadMore=function(){a._isMounted&&a.setState(function(e){return{page:e.page+1,scrolling:!0}},a.loadPosts)},a.loadPosts=function(e,t){a.setState({loading:!0});var n=a.state,o=n.filter,r=n.per,l=n.category,s=a.props,c=s.adper,i=s.adtotalpages,u=a.props.adpage;u>i?(u=1,a.props.changePage(1)):(u+=1,a.props.changePage(u));var d=a.state.page,p=!1,m={location_city:"",location_state:"",location_country:""};t&&(p=!0,m=t),e&&(d=e),a.props.fetchLocalPostsByFilter(o,r,d,l,p,m).then(function(e){a._isMounted&&a.setState({totalPages:e,loading:!1})}),a.props.fetchAdPosts(c,u).then(function(e){a._isMounted&&a.setState({scrolling:!1}),a.props.changeTotalPages(e)})},a.componentDidUpdate=function(e,t){t.filter!==a.state.filter&&(window.scrollTo(0,0),"Loved"===a.state.filter?(a._isMounted&&a.setState({varColor:"red",page:1}),a.props.clearPosts(),a.loadPosts(1)):"Latest"===a.state.filter?(a._isMounted&&a.setState({varColor:"purple",page:1}),a.props.clearPosts(),a.loadPosts(1)):"Hated"===a.state.filter&&(a._isMounted&&a.setState({varColor:"grey",page:1}),a.props.clearPosts(),a.loadPosts(1))),t.category!==a.state.category&&(window.scrollTo(0,0),a.props.clearPosts(),a.loadPosts())},a.handleFilter=function(e){a._isMounted&&a.setState({filter:e.target.value})},a.getCategoryForFilter=function(e){return a._isMounted&&a.setState({category:e,page:1})},a.handleRoute=function(e){a._isMounted&&"local"===e&&a.setState({category:"all",page:1}),window.scrollTo(0,0)},a.handleIsAcc=function(){a.setState({isAcc:!1})},a.showAdPostAt7=function(e,t,n,r){if(n%5===0&&0!==n){if(e[t-1]&&"text"===e[t-1].type)return o.a.createElement(ut,{isAdpost:!0,isForAdmin:!1,varColor:r,getCategoryForFilter:a.getCategoryForFilter,post:e[t-1],showBottomBar:!0});if(e[t-1]&&"image"===e[t-1].type)return o.a.createElement(Rt,{isAdpost:!0,isForAdmin:!1,varColor:r,getCategoryForFilter:a.getCategoryForFilter,post:e[t-1],showBottomBar:!0});if(e[t-1]&&"video"===e[t-1].type)return o.a.createElement(aa,{isAdpost:!0,isForAdmin:!1,varColor:r,getCategoryForFilter:a.getCategoryForFilter,post:e[t-1],showBottomBar:!0})}},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.filter,n=t.varColor,r=t.isAcc,l=t.loading,s=this.props,c=s.posts,i=s.adposts,u=s.adpage,d=c.length>0?c.map(function(t,a){return!t.hashtags&&(t.hashtags=[]),"text"===t.type?o.a.createElement("div",{key:a},o.a.createElement(ut,{isAdpost:!1,isForAdmin:!1,varColor:n,getCategoryForFilter:e.getCategoryForFilter,post:t,showBottomBar:!0}),e.showAdPostAt7(i,u,a,n)):"image"===t.type?o.a.createElement("div",{key:a},o.a.createElement(Rt,{isAdpost:!1,isForAdmin:!1,varColor:n,getCategoryForFilter:e.getCategoryForFilter,post:t,showBottomBar:!0}),e.showAdPostAt7(i,u,a,n)):"video"===t.type?o.a.createElement("div",{key:a},o.a.createElement(aa,{isAdpost:!1,isForAdmin:!1,varColor:n,getCategoryForFilter:e.getCategoryForFilter,post:t,showBottomBar:!0}),e.showAdPostAt7(i,u,a,n)):null}):!l&&o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("br",null),o.a.createElement(X.a,{positive:!0},o.a.createElement(X.a.Header,null,"Looks like no posts in your city."),o.a.createElement("p",null,"Try adding some yourself. Go to Upload page. ",o.a.createElement("br",null),"Or",o.a.createElement("br",null),"Just go to global page for checking global posts."))),p=o.a.createElement("div",{id:"ResultBlock"},d),m=r&&o.a.createElement(wa,{clearPosts:this.props.clearPosts,loadPosts:this.loadPosts,handleIsAcc:this.handleIsAcc});return o.a.createElement(Ke,{pathname:this.props.pathname,filter:a,handleFilter:this.handleFilter,handleRoute:this.handleRoute,showTopBar:!0,showBottomBar:!0,showTopIcons:!0},m,p,l&&o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement(ye.a,{textAlign:"center"},o.a.createElement("p",null,"loading posts..."))))}}]),t}(o.a.Component);var xa=Object(u.b)(function(e){return{posts:Oa(e),adposts:Sa(e),adper:e.adpostsother.per,adpage:e.adpostsother.page,adtotalpages:e.adpostsother.totalPages}},{fetchLocalPostsByFilter:function(e,t,a,n,o,r){return function(l){return Y.posts.fetchLocalPostsByFilter(e,t,a,n,o,r).then(function(e){var t=e.docs,a=e.totalPages;return l(ae(t)),a})}},fetchAdPosts:Ge,clearPosts:re,changePage:Pa,changePer:ka,changeTotalPages:ja})(Da),Ta=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Column,{width:4},o.a.createElement("div",{style:{position:"fixed",minWidth:"310px"}},o.a.createElement(pa,null))),o.a.createElement(_.a.Column,{width:8},o.a.createElement(xa,{pathname:this.props.pathname})),o.a.createElement(_.a.Column,{width:4,style:{height:"100%"}},o.a.createElement("div",{style:{position:"fixed",minWidth:"310px"}},o.a.createElement(ia,null)))))}}]),t}(n.Component),_a=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(xa,{pathname:this.props.location.pathname})),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(Ta,{pathname:this.props.location.pathname})))}}]),t}(n.Component),Ba=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.state={filter:"Latest",varColor:"purple",category:"all",per:5,page:1,totalPages:null,scrolling:!1,loading:!1},a.componentWillMount=function(){a.props.clearPosts(),a.loadPosts()},a.componentDidMount=function(){a._isMounted=!0,window.addEventListener("scroll",function(e){a.handleScroll(e)})},a.componentWillUnmount=function(){a._isMounted=!1,window.addEventListener("scroll",function(e){a.handleScroll(e)})},a.handleScroll=function(e){var t=a.state,n=t.scrolling,o=t.totalPages,r=t.page;if(!n&&!(o<=r)){var l=document.getElementById("ResultBlock");a.isBottom(l)&&a.loadMore()}},a.isBottom=function(e){return e.getBoundingClientRect().bottom-20<window.innerHeight+window.pageYOffset},a.loadMore=function(){a._isMounted&&a.setState(function(e){return{page:e.page+1,scrolling:!0}},a.loadPosts)},a.loadPosts=function(e){a.setState({loading:!0});var t=a.state,n=t.filter,o=t.per,r=t.category,l=a.props,s=l.adper,c=l.adtotalpages,i=a.props.adpage;i>c?(i=1,a.props.changePage(1)):(i+=1,a.props.changePage(i));var u=a.state.page;e&&(u=e),a.props.fetchGlobalPostsByFilter(n,o,u,r).then(function(e){a._isMounted&&a.setState({scrolling:!1,totalPages:e,loading:!1})}),a.props.fetchAdPosts(s,i).then(function(e){a._isMounted&&a.setState({scrolling:!1}),a.props.changeTotalPages(e)})},a.componentDidUpdate=function(e,t){t.filter!==a.state.filter&&(window.scrollTo(0,0),"Loved"===a.state.filter?(a._isMounted&&a.setState({varColor:"red",page:1}),a.props.clearPosts(),a.loadPosts(1)):"Latest"===a.state.filter?(a._isMounted&&a.setState({varColor:"purple",page:1}),a.props.clearPosts(),a.loadPosts(1)):"Hated"===a.state.filter&&(a._isMounted&&a.setState({varColor:"grey",page:1}),a.props.clearPosts(),a.loadPosts(1))),t.category!==a.state.category&&(window.scrollTo(0,0),a.props.clearPosts(),a.loadPosts())},a.handleFilter=function(e){a._isMounted&&a.setState({filter:e.target.value})},a.getCategoryForFilter=function(e){return a._isMounted&&a.setState({category:e,page:1})},a.handleRoute=function(e){a._isMounted&&"global"===e&&a.setState({category:"all",page:1}),window.scrollTo(0,0)},a.showAdPostAt7=function(e,t,n,r){if(n%5===0&&0!==n){if(e[t-1]&&"text"===e[t-1].type)return o.a.createElement(ut,{isAdpost:!0,isForAdmin:!1,varColor:r,getCategoryForFilter:a.getCategoryForFilter,post:e[t-1],showBottomBar:!0});if(e[t-1]&&"image"===e[t-1].type)return o.a.createElement(Rt,{isAdpost:!0,isForAdmin:!1,varColor:r,getCategoryForFilter:a.getCategoryForFilter,post:e[t-1],showBottomBar:!0});if(e[t-1]&&"video"===e[t-1].type)return o.a.createElement(aa,{isAdpost:!0,isForAdmin:!1,varColor:r,getCategoryForFilter:a.getCategoryForFilter,post:e[t-1],showBottomBar:!0})}},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.filter,n=t.varColor,r=t.loading,l=this.props,s=l.posts,c=l.adposts,i=l.adpage,u=s.length>0&&s.map(function(t,a){return!t.hashtags&&(t.hashtags=[]),"text"===t.type?o.a.createElement("div",{key:a},o.a.createElement(ut,{isAdpost:!1,isForAdmin:!1,varColor:n,getCategoryForFilter:e.getCategoryForFilter,post:t,showBottomBar:!0}),e.showAdPostAt7(c,i,a,n)):"image"===t.type?o.a.createElement("div",{key:a},o.a.createElement(Rt,{isAdpost:!1,isForAdmin:!1,varColor:n,getCategoryForFilter:e.getCategoryForFilter,post:t,showBottomBar:!0}),e.showAdPostAt7(c,i,a,n)):"video"===t.type?o.a.createElement("div",{key:a},o.a.createElement(aa,{isAdpost:!1,isForAdmin:!1,varColor:n,getCategoryForFilter:e.getCategoryForFilter,post:t,showBottomBar:!0}),e.showAdPostAt7(c,i,a,n)):null}),d=o.a.createElement("div",{id:"ResultBlock"},u);return o.a.createElement(Ke,{pathname:this.props.pathname,filter:a,handleFilter:this.handleFilter,handleRoute:this.handleRoute,showTopBar:!0,showBottomBar:!0,showTopIcons:!0},d,r&&o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement(ye.a,{textAlign:"center"},o.a.createElement("p",null,"loading posts..."))))}}]),t}(o.a.Component);var Ia=Object(u.b)(function(e){return{posts:Oa(e),adposts:Sa(e),adper:e.adpostsother.per,adpage:e.adpostsother.page,adtotalpages:e.adpostsother.totalPages}},{fetchGlobalPostsByFilter:function(e,t,a,n){return function(o){return Y.posts.fetchGlobalPostsByFilter(e,t,a,n).then(function(e){var t=e.docs,a=e.totalPages;return o(ae(t)),a})}},clearPosts:re,fetchAdPosts:Ge,changePage:Pa,changePer:ka,changeTotalPages:ja})(Ba),Ha=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Column,{width:4},o.a.createElement("div",{style:{position:"fixed",minWidth:"310px"}},o.a.createElement(pa,null))),o.a.createElement(_.a.Column,{width:8},o.a.createElement(Ia,{pathname:this.props.pathname})),o.a.createElement(_.a.Column,{width:4,style:{height:"100%"}},o.a.createElement("div",{style:{position:"fixed",minWidth:"310px"}},o.a.createElement(ia,null)))))}}]),t}(n.Component),Fa=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(Ia,{pathname:this.props.location.pathname})),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(Ha,{pathname:this.props.location.pathname})))}}]),t}(n.Component),Ma=a(869),La=a(421),Ua=a.n(La),Ra=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a.state={per:9,page:1,totalPages:null,scrolling:!1,success:!1,fireComponent:!1,open:!1},a.componentWillMount=function(){a.props.clearPosts(),a.loadPosts()},a.componentDidMount=function(){a._isMounted=!0,window.addEventListener("scroll",function(e){a.handleScroll(e)})},a.componentWillUnmount=function(){a._isMounted=!1,window.removeEventListener("scroll",function(e){a.handleScroll(e)})},a.handleScroll=function(){var e=a.state,t=e.scrolling,n=e.totalPages,o=e.page;if(!t&&!(n<=o)){var r=document.getElementById("ResultBlock");a.isBottom(r)&&a.loadMore()}},a.isBottom=function(e){return e.getBoundingClientRect().bottom-20<window.innerHeight+window.pageYOffset},a.loadMore=function(){a._isMounted&&a.setState(function(e){return{page:e.page+1,scrolling:!0}},a.loadPosts)},a.loadPosts=function(e){var t=a.state.per,n=a.state.page;e&&(n=e),a.props.getPosts(t,n).then(function(e){a._isMounted&&a.setState({scrolling:!1,totalPages:e})})},a.onDelete=function(e){0!==a.props.posts.length?(e.preventDefault(),a.setState({fireComponent:!0,open:!0})):alert("There are no posts to delete.")},a.handleDialogConfirm=function(){a.setState({result:"confirmed",open:!1}),Y.user.deletePosts().then(function(e){e?(a.props.clearPosts(),a.loadPosts(1),a.setState({success:!0})):alert("something went wrong. Please try again after sometime.")})},a.handleDialogCancel=function(){a.setState({result:"cancelled",open:!1})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sessionId,a=e.posts,n=this.state,r=n.success,l=n.fireComponent,s=a.length>0&&a.map(function(e){if(e.hashtags=[],"text"===e.type){var t=e.cardColor;return o.a.createElement($e.a,{key:e._id,link:!0,as:Pe.a,to:"/textpost/".concat(e._id),color:"black",style:{height:"120px",textAlign:"center",color:"black"}},o.a.createElement("div",{style:{position:"relative",margin:"auto",top:0,left:0,right:0,bottom:0,backgroundColor:"".concat(t)}},e.text.slice(0,75),e.text.length>75&&"..."),o.a.createElement($e.a.Description,null,o.a.createElement(U.a,{as:"h6"},e.title.slice(0,12),e.title.length>12&&"...")))}return"image"===e.type?o.a.createElement($e.a,{key:e._id,link:!0,as:Pe.a,to:"/imagepost/".concat(e._id),color:"black",style:{paddinTop:"56.25%",textAlign:"center",color:"black"}},o.a.createElement("div",{style:{position:"relative",margin:"auto",top:0,left:0,right:0,bottom:0}},o.a.createElement(H.a,{rounded:!0,size:"small",src:e.images[0]}),o.a.createElement($e.a.Description,null,o.a.createElement("p",null,e.images.length," ",e.images.length>1?" images":"image")),o.a.createElement($e.a.Description,null,o.a.createElement(U.a,{as:"h6"},e.title.slice(0,12),e.title.length>12&&"...")))):"video"===e.type?o.a.createElement($e.a,{key:e._id,link:!0,as:Pe.a,to:"/videopost/".concat(e._id),color:"black",style:{paddinTop:"56.25%",textAlign:"center",color:"black"}},o.a.createElement("div",{style:{position:"relative",margin:"auto",top:0,left:0,right:0,bottom:0}},o.a.createElement(H.a,{size:"tiny",src:Ua.a}),o.a.createElement($e.a.Description,null,o.a.createElement("p",null,e.videos.length," ",e.videos.length>1?" videos":"video")),o.a.createElement($e.a.Description,null,o.a.createElement(U.a,{as:"h6"},e.title.slice(0,12),e.title.length>12&&"...")))):null});return o.a.createElement("div",{style:{backgroundColor:"#f9f9f9",minHeight:window.innerHeight,padding:"15px"}},l&&o.a.createElement(Te.a,{open:this.state.open,content:"Are you sure to delete these posts?",onCancel:this.handleDialogCancel,onConfirm:this.handleDialogConfirm}),o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Row,{columns:3,style:{marginTop:"5px"}},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"left",as:Pe.a,to:"/"},o.a.createElement(I.a,{size:"medium",icon:"angle left",color:"grey"}))),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"middle",style:{marginTop:"5px"}},o.a.createElement("a",{href:"https://about.truhype.app/home",rel:"noopener noreferrer",target:"_blank"},o.a.createElement(H.a,{size:"mini",src:q.a})))),o.a.createElement(_.a.Column,null)),o.a.createElement(_.a.Row,{columns:2,style:{marginTop:"15px"}},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"left"},o.a.createElement("h3",null,"Session Id"),"#",t)),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"right"},o.a.createElement(I.a,{color:"grey",onClick:this.onDelete,content:"Delete All"})))),o.a.createElement(Ma.a,{horizontal:!0},o.a.createElement(U.a,{as:"h4"},o.a.createElement(L.a,{name:"newspaper"})," Posts"))),o.a.createElement($e.a.Group,{itemsPerRow:3},s),r&&o.a.createElement(B.a,{textAlign:"center",style:{marginTop:50}},o.a.createElement(Q,{text:"Posts successfully deleted !"})),0===a.length&&o.a.createElement(ye.a,{style:{marginTop:50}},o.a.createElement(B.a,{textAlign:"center"},o.a.createElement("p",null,"No posts."))))}}]),t}(n.Component);var Va=Object(u.b)(function(e){return{posts:Oa(e),sessionId:e.user.sessionId}},{getPosts:function(e,t){return function(a){return Y.user.getPosts(e,t).then(function(e){var t=e.docs,n=e.totalPages;return a(ae(t)),n})}},clearPosts:re})(Ra),Na=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Column,{width:4},o.a.createElement("div",{style:{position:"fixed",minWidth:"310px"}},o.a.createElement(pa,null))),o.a.createElement(_.a.Column,{width:8},o.a.createElement(ye.a,{style:{minHeight:window.innerHeight,backgroundColor:"#f9f9f9",padding:"5px",paddingTop:"15px"}},o.a.createElement(Va,null))),o.a.createElement(_.a.Column,{width:4,style:{height:"100%"}},o.a.createElement("div",{style:{position:"fixed",minWidth:"310px"}},o.a.createElement(ia,null)))))}}]),t}(n.Component),Wa=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(Va,null)),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(Na,null)))}}]),t}(n.Component),Ga=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={activeIndex:1,data:{country:"",state:"",city:"",category:"",hashtag:"",textquery:""},isHashtagbar:!0,isFilterbar:!0,per:8,page:1,totalPages:null,scrolling:!1,loading:!1},a.componentWillMount=function(){a.props.clearPosts(),a.props.fetchCountries(),a.props.fetchCategories(),a.props.fetchTopHashtags()},a.componentDidMount=function(e){window.addEventListener("scroll",function(e){a.handleScroll(e)})},a.componentWillUnmount=function(e){window.removeEventListener("scroll",function(e){a.handleScroll(e)})},a.componentDidUpdate=function(e,t){t.data.country!==a.state.data.country&&(a.props.fetchStates(a.state.data.country),a.props.clearCities()),t.data.state!==a.state.data.state&&a.props.fetchCities(a.state.data.country,a.state.data.state),e.filter!==a.props.filter&&("Loved"===a.props.filter?(a.props.clearPosts(),a.loadPosts()):"Latest"===a.props.filter?(a.props.clearPosts(),a.loadPosts()):"Hated"===a.props.filter&&(a.props.clearPosts(),a.loadPosts()))},a.handleScroll=function(){var e=a.state,t=e.scrolling,n=e.totalPages,o=e.page;if(!t&&!(n<=o)){var r=document.getElementById("ResultBlock");a.isBottom(r)&&a.loadMore()}},a.isBottom=function(e){return e.getBoundingClientRect().bottom-20<window.innerHeight+window.pageYOffset},a.loadMore=function(){a.setState(function(e){return{page:e.page+1,scrolling:!0}},a.loadPosts)},a.loadPosts=function(){var e=a.state,t=e.per,n=e.page,o=a.state.data,r=o.country,l=o.state,s=o.city,c=o.hashtag,i=o.category,u=o.textquery,d=a.props.filter,p=a.props,m=p.adper,h=p.adtotalpages,g=a.props.adpage;g>h?(g=1,a.props.changePage(1)):(g+=1,a.props.changePage(g)),a.setState({isFilterbar:!1,isHashtagbar:!1,loading:!0}),a.props.clearPosts(),a.props.fetchPostsBySearchFilter(d,t,n,r,l,s,c,i,u).then(function(e){a.setState({scrolling:!1,totalPages:e,loading:!1,data:Object(x.a)({},a.state.data,{hashtag:""})})}),a.props.fetchAdPosts(m,g).then(function(e){a._isMounted&&a.setState({scrolling:!1}),a.props.changeTotalPages(e)})},a.handleChange=function(e,t){var n=t.name,o=t.value;return a.setState({data:Object(x.a)({},a.state.data,Object(D.a)({},n,o))})},a.handleFilterBar=function(){a.setState({isFilterbar:!a.state.isFilterbar,country:"",state:"",city:""})},a.handleHashtagBar=function(){a.setState({isHashtagbar:!a.state.isHashtagbar})},a.handleHashtagClick=function(e){var t=e.currentTarget.textContent;t="#"!==(t=t.split(" ")[0])[0]?"#"+t.substr(0,t.length-3):t.substr(0,t.length-3),a.setState(function(){return{data:Object(x.a)({},a.state.data,{hashtag:t})}},a.loadPosts)},a.onSearch=function(e){clearTimeout(a.timer),a.props.clearPosts(),a.setState({data:Object(x.a)({},a.state.data,{textquery:e.target.value})}),a.timer=setTimeout(a.loadPosts,1e3)},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.CountryOptions,n=t.StateOptions,r=t.CityOptions,l=t.CategoryOptions,s=t.hashtags,c=this.state.data,i=c.country,u=c.state,d=c.city,p=c.category,m=c.textquery,h=this.state,g=h.isFilterbar,f=h.isHashtagbar,E=this.props,y=E.posts,v=E.varColor,C=E.adposts,A=E.adpage,b=y.length>0?y.map(function(t,a){if(!t.hashtags&&(t.hashtags=[]),!t.comments&&(t.comments=[]),!t.comments_count&&(t.comments_count=0),a%7===0&&0!==a){if(C[A-1]&&"text"===C[A-1].type)return o.a.createElement(ut,{key:a,isAdpost:!0,varColor:v,isForAdmin:!1,getCategoryForFilter:e.getCategoryForFilter,post:t,showBottomBar:!0});if(C[A-1]&&"image"===C[A-1].type)return o.a.createElement(Rt,{key:a,isAdpost:!0,isForAdmin:!1,varColor:v,getCategoryForFilter:e.getCategoryForFilter,post:t,showBottomBar:!0});if(C[A-1]&&"video"===C[A-1].type)return o.a.createElement(aa,{key:a,isAdpost:!0,isForAdmin:!1,varColor:v,getCategoryForFilter:e.getCategoryForFilter,post:t,showBottomBar:!0})}else{if("text"===t.type)return o.a.createElement(ut,{key:a,isAdpost:!1,isForAdmin:!1,varColor:v,post:t,showBottomBar:!0});if("image"===t.type)return o.a.createElement(Rt,{key:a,isAdpost:!1,isForAdmin:!1,varColor:v,post:t,showBottomBar:!0});if("video"===t.type)return o.a.createElement(aa,{key:a,isAdpost:!1,isForAdmin:!1,varColor:v,post:t,showBottomBar:!0})}return null}):o.a.createElement(B.a,{textAlign:"center"},o.a.createElement("br",null),o.a.createElement(ye.a,null,this.state.loading?o.a.createElement("p",null,"Loading..."):o.a.createElement("p",null,"No Posts Matched..."))),w=o.a.createElement("div",{id:"ResultBlock"},b);return o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement(B.a,{textAlign:"center"},o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Row,null,o.a.createElement(_.a.Column,{textAlign:"center",width:"10"},o.a.createElement(st.a,{action:!0,fluid:!0,value:m,placeholder:"Search text",onChange:this.onSearch},o.a.createElement("input",null),o.a.createElement(I.a,{icon:"search",color:"brown",onClick:this.loadPosts}))),o.a.createElement(_.a.Column,null,o.a.createElement(R.a,{style:{marginTop:4,position:"fixed",zIndex:1}},o.a.createElement(R.a.Field,{inline:!0},g?o.a.createElement(L.a,{size:"large",name:"filter",color:this.props.varColor,onClick:this.handleFilterBar}):o.a.createElement(L.a,{name:"filter",onClick:this.handleFilterBar})))),o.a.createElement(_.a.Column,null,o.a.createElement(R.a,{style:{marginTop:4,position:"fixed",zIndex:1}},o.a.createElement(R.a.Field,{inline:!0},f?o.a.createElement(L.a,{size:"large",name:"hashtag",color:this.props.varColor,onClick:this.handleHashtagBar}):o.a.createElement(L.a,{name:"hashtag",onClick:this.handleHashtagBar}))))))),g&&o.a.createElement(ye.a,null,o.a.createElement(_.a,null,o.a.createElement(_.a.Row,{columns:2},o.a.createElement(_.a.Column,null,o.a.createElement(V.a,{placeholder:"Country",fluid:!0,search:!0,selection:!0,value:i,onChange:this.handleChange,name:"country",options:a,clearable:!0})),o.a.createElement(_.a.Column,null,o.a.createElement(V.a,{placeholder:"State",fluid:!0,search:!0,onChange:this.handleChange,value:u,name:"state",selection:!0,options:n,noResultsMessage:"Choose country first",clearable:!0})),o.a.createElement(_.a.Column,null,o.a.createElement(V.a,{placeholder:"City",fluid:!0,search:!0,onChange:this.handleChange,value:d,name:"city",selection:!0,options:r,noResultsMessage:"Choose state first",clearable:!0})),o.a.createElement(_.a.Column,null,o.a.createElement(V.a,{placeholder:"Category",fluid:!0,search:!0,selection:!0,onChange:this.handleChange,value:p,name:"category",options:l,clearable:!0}))),o.a.createElement(_.a.Row,null,o.a.createElement(_.a.Column,null,o.a.createElement(I.a,{fluid:!0,onClick:this.loadPosts},o.a.createElement(L.a,{name:"search"}),"Search"))))),f&&o.a.createElement(ye.a,null,o.a.createElement(T.a,null,s.map(function(t){return o.a.createElement(T.a.Item,{key:t._id,as:"a"},o.a.createElement(T.a.Content,null,o.a.createElement(T.a.Header,{value:t.hashtag,onClick:e.handleHashtagClick,name:"hashtag"},o.a.createElement(L.a,{name:"hashtag"}),"#"!==t.hashtag[0]&&t.hashtag,"#"===t.hashtag[0]&&t.hashtag.substr(1),"\xa0\xa0\xa0 (",1===t.count?"Once":t.count+"times",")")))}))),o.a.createElement("div",null,w))}}]),t}(n.Component);var Ya=Object(u.b)(function(e){return{CountryOptions:At(e),StateOptions:bt(e),CityOptions:wt(e),CategoryOptions:Pt(e),hashtags:Dt(e),posts:Oa(e),adposts:Sa(e),adper:e.adpostsother.per,adpage:e.adpostsother.page,adtotalpages:e.adpostsother.totalPages}},{fetchCountries:pt,fetchStates:mt,fetchCities:ht,clearCities:dt,fetchCategories:gt,fetchTopHashtags:ft,fetchPostsBySearchFilter:oe,clearPosts:re,fetchAdPosts:Ge,changePage:Pa,changePer:ka,changeTotalPages:ja})(Ga),za=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={filter:"Latest",varColor:"purple"},a.componentDidUpdate=function(e,t){t.filter!==a.state.filter&&("Loved"===a.state.filter?a.setState({varColor:"red"}):"Latest"===a.state.filter?a.setState({varColor:"purple"}):"Hated"===a.state.filter&&a.setState({varColor:"grey"}))},a.handleFilter=function(e){a.setState({filter:e.target.value})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.filter,a=e.varColor;return o.a.createElement(Ke,{pathname:this.props.pathname,filter:t,handleFilter:this.handleFilter,showTopBar:!0,showBottomBar:!0,showTopIcons:!0},o.a.createElement(Ya,{filter:t,varColor:a}))}}]),t}(o.a.Component),qa=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Column,{width:4},o.a.createElement("div",{style:{position:"fixed",minWidth:"310px"}},o.a.createElement(pa,null))),o.a.createElement(_.a.Column,{width:8},o.a.createElement(za,{pathname:this.props.pathname})),o.a.createElement(_.a.Column,{width:4,style:{height:"100%"}},o.a.createElement("div",{style:{position:"fixed",minWidth:"310px"}},o.a.createElement(ia,null)))))}}]),t}(n.Component),Xa=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(za,{pathname:this.props.location.pathname})),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(qa,{pathname:this.props.location.pathname})))}}]),t}(n.Component),Qa=function(e){var t=e.text;return o.a.createElement(X.a,{negative:!0},o.a.createElement(X.a.Header,null,t))},Ka=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={isPostFound:!1,isAdpost:!1,loading:!1},a.componentDidMount=function(){a.setState({loading:!0}),a.props.fetchPostById(a.props.id).then(function(e){e?a.setState({isPostFound:!0,loading:!1}):a.props.fetchAdPostById(a.props.id).then(function(e){e?a.setState({isPostFound:!0,isAdpost:!0,loading:!1}):a.setState({isPostFound:!1,loading:!1})})})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e,t=this,a=this.state,n=a.isPostFound,r=a.isAdpost,l=a.loading,s=this.props.posts[0],c=this.props.adposts[0];return e=s||c,o.a.createElement("div",{style:{backgroundColor:"#f9f9f9",minHeight:window.innerHeight,padding:"15px"}},o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Row,{columns:3,style:{marginTop:"5px"}},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"left",onClick:function(){return t.props.history.push("/")}},o.a.createElement(I.a,{size:"medium",icon:"angle left",color:"grey"}))),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"middle",style:{marginTop:"5px"}},o.a.createElement("a",{href:"https://about.truhype.app/home",rel:"noopener noreferrer",target:"_blank"},o.a.createElement(H.a,{size:"mini",src:q.a})))),o.a.createElement(_.a.Column,null)),o.a.createElement(_.a.Row,null,o.a.createElement(_.a.Column,{style:{paddingLeft:"0.2rem",paddingRight:"0.2rem"}},l?o.a.createElement(ye.a,{textAlign:"center"},o.a.createElement("p",null,"loading...")):n?o.a.createElement(ut,{showBottomBar:!0,post:e,isAdpost:r}):o.a.createElement(Qa,{text:"Post not found / Post get expired"})))))}}]),t}(n.Component);var Ja=Object(u.b)(function(e){return{posts:Oa(e),adposts:Sa(e)}},{fetchPostById:ne,fetchAdPostById:We})(Ka),Za=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Column,{width:4},o.a.createElement("div",{style:{position:"fixed",minWidth:"310px"}},o.a.createElement(pa,null))),o.a.createElement(_.a.Column,{width:8},o.a.createElement(ye.a,{style:{minHeight:window.innerHeight,backgroundColor:"#f9f9f9",padding:"5px",paddingTop:"15px"}},o.a.createElement(Ja,{id:this.props.id,history:this.props.history}))),o.a.createElement(_.a.Column,{width:4,style:{height:"100%"}},o.a.createElement("div",{style:{position:"fixed",minWidth:"310px"}},o.a.createElement(ia,null)))))}}]),t}(n.Component),$a=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.match.params.id;return o.a.createElement("div",null,o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(Ja,{id:e,history:this.props.history})),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(Za,{id:e,history:this.props.history})))}}]),t}(n.Component),en=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={isPostFound:!1,isAdpost:!1,loading:!0},a.componentDidMount=function(){a.setState({loading:!0}),a.props.fetchPostById(a.props.id).then(function(e){e?a.setState({isPostFound:!0,loading:!1}):a.props.fetchAdPostById(a.props.id).then(function(e){e?a.setState({isPostFound:!0,isAdpost:!0,loading:!1}):a.setState({isPostFound:!1,loading:!1})})})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e,t=this,a=this.state,n=a.isPostFound,r=a.isAdpost,l=a.loading,s=this.props.posts[0],c=this.props.adposts[0];return void 0===(e=s||c)&&(e={category:"",location_city:"",location_state:"",location_country:"",title:"",images:[],hashtags:[],upvotes_count:0,downvotes_count:0,comments_count:0,comments:[]}),o.a.createElement("div",{style:{backgroundColor:"#f9f9f9",minHeight:window.innerHeight,padding:"15px"}},o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Row,{columns:3,style:{marginTop:"5px"}},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"left",onClick:function(){return t.props.history.push("/")}},o.a.createElement(I.a,{size:"medium",icon:"angle left",color:"grey"}))),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"middle",style:{marginTop:"5px"}},o.a.createElement("a",{href:"https://about.truhype.app/home",rel:"noopener noreferrer",target:"_blank"},o.a.createElement(H.a,{size:"mini",src:q.a})))),o.a.createElement(_.a.Column,null)),o.a.createElement(_.a.Row,null,o.a.createElement(_.a.Column,{style:{paddingLeft:"0.2rem",paddingRight:"0.2rem"}},l?o.a.createElement(ye.a,{textAlign:"center"},o.a.createElement("p",null,"loading...")):n?o.a.createElement(Rt,{isAdpost:r,post:e,showBottomBar:!0}):o.a.createElement(Qa,{text:"Post not found / Post get expired"})))))}}]),t}(n.Component);var tn=Object(u.b)(function(e){return{posts:Oa(e),adposts:Sa(e)}},{fetchPostById:ne,fetchAdPostById:We})(en),an=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Column,{width:4},o.a.createElement("div",{style:{position:"fixed",minWidth:"310px"}},o.a.createElement(pa,null))),o.a.createElement(_.a.Column,{width:8},o.a.createElement(ye.a,{style:{minHeight:window.innerHeight,backgroundColor:"#f9f9f9",padding:"5px",paddingTop:"15px"}},o.a.createElement(tn,{id:this.props.id,history:this.props.history}))),o.a.createElement(_.a.Column,{width:4,style:{height:"100%"}},o.a.createElement("div",{style:{position:"fixed",minWidth:"310px"}},o.a.createElement(ia,null)))))}}]),t}(n.Component),nn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.match.params.id;return o.a.createElement("div",null,o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(tn,{id:e,history:this.props.history})),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(an,{id:e,history:this.props.history})))}}]),t}(n.Component),on=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={postsCleared:!1,loading:!1},a.componentDidMount=function(){a.setState({loading:!0}),a.props.fetchPostById(a.props.id).then(function(e){e?a.setState({isPostFound:!0,loading:!1}):a.props.fetchAdPostById(a.props.id).then(function(e){e?a.setState({isPostFound:!0,isAdpost:!0,loading:!1}):a.setState({isPostFound:!1,loading:!1})})})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e,t=this,a=this.state,n=a.isPostFound,r=a.isAdpost,l=a.loading,s=this.props.posts[0],c=this.props.adposts[0];return e=s||c,o.a.createElement("div",{style:{backgroundColor:"#f9f9f9",minHeight:window.innerHeight,padding:"15px"}},o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Row,{columns:3,style:{marginTop:"5px"}},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"left",onClick:function(){return t.props.history.push("/")}},o.a.createElement(I.a,{size:"medium",icon:"angle left",color:"grey"}))),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{align:"middle",style:{marginTop:"5px"}},o.a.createElement("a",{href:"https://about.truhype.app/home",rel:"noopener noreferrer",target:"_blank"},o.a.createElement(H.a,{size:"mini",src:q.a})))),o.a.createElement(_.a.Column,null)),o.a.createElement(_.a.Row,null,o.a.createElement(_.a.Column,{style:{paddingLeft:"0.2rem",paddingRight:"0.2rem"}},l?o.a.createElement(ye.a,{textAlign:"center"},o.a.createElement("p",null,"loading...")):n?o.a.createElement(aa,{isAdpost:r,post:e,showBottomBar:!0}):o.a.createElement(Qa,{text:"Post not found / Post get expired"})))))}}]),t}(n.Component);var rn=Object(u.b)(function(e){return{posts:Oa(e),adposts:Sa(e)}},{fetchPostById:ne,fetchAdPostById:We})(on),ln=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Column,{width:4},o.a.createElement("div",{style:{position:"fixed",minWidth:"310px"}},o.a.createElement(pa,null))),o.a.createElement(_.a.Column,{width:8},o.a.createElement(ye.a,{style:{minHeight:window.innerHeight,backgroundColor:"#f9f9f9",padding:"5px",paddingTop:"15px"}},o.a.createElement(rn,{id:this.props.id,history:this.props.history}))),o.a.createElement(_.a.Column,{width:4,style:{height:"100%"}},o.a.createElement("div",{style:{position:"fixed",minWidth:"310px"}},o.a.createElement(ia,null)))))}}]),t}(n.Component),sn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.match.params.id;return o.a.createElement("div",null,o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(rn,{id:e,history:this.props.history})),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(ln,{id:e,history:this.props.history})))}}]),t}(n.Component),cn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a.state={isInnerModal:!1,data:{country:"",state:"",city:""}},a.componentDidMount=function(){a._isMounted=!0,a.onInit(a.props)},a.componentWillUnmount=function(){a._isMounted=!1},a.onInit=function(e){e.fetchCountries()},a.componentDidUpdate=function(e,t){t.data.country!==a.state.data.country&&(a.props.fetchStates(a.state.data.country),a.props.clearCities()),t.data.state!==a.state.data.state&&a.props.fetchCities(a.state.data.country,a.state.data.state)},a.handleOpen=function(){return a.setState({isInnerModal:!0})},a.handleClose=function(){return a.setState({isInnerModal:!1})},a.handleSubmit=function(){var e=a.state.data,t=e.country,n=e.state,o=e.city;a.props.getLocation(t,n,o),a.handleClose()},a.handleChange=function(e,t){var n=t.name,o=t.value;return a._isMounted&&a.setState({data:Object(x.a)({},a.state.data,Object(D.a)({},n,o))})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.CountryOptions,a=e.StateOptions,n=e.CityOptions,r=this.state.data,l=r.country,s=r.state,c=r.city;return o.a.createElement(Ie.a,{closeIcon:!0,trigger:o.a.createElement(I.a,{color:"green",inverted:!0,onClick:this.handleOpen},o.a.createElement(L.a,{name:"mouse pointer"})," Select location"),open:this.state.isInnerModal,onClose:this.handleClose,style:{backgroundColor:"#f9f9f9"}},o.a.createElement(Ie.a.Content,null,o.a.createElement(Ie.a.Description,null,o.a.createElement(_.a,null,o.a.createElement(_.a.Row,null,o.a.createElement(_.a.Column,null,o.a.createElement(V.a,{placeholder:"Country",fluid:!0,search:!0,selection:!0,value:l,onChange:this.handleChange,name:"country",options:t}))),o.a.createElement(_.a.Row,null,o.a.createElement(_.a.Column,null,o.a.createElement(V.a,{placeholder:"State",fluid:!0,search:!0,onChange:this.handleChange,value:s,name:"state",selection:!0,options:a}))),o.a.createElement(_.a.Row,null,o.a.createElement(_.a.Column,null,o.a.createElement(V.a,{placeholder:"Location",fluid:!0,search:!0,onChange:this.handleChange,value:c,name:"city",selection:!0,options:n}))),o.a.createElement(_.a.Row,null,o.a.createElement(_.a.Column,null,o.a.createElement(I.a,{content:"Select",onClick:this.handleSubmit})))))))}}]),t}(o.a.Component);var un=Object(u.b)(function(e){return{CountryOptions:At(e),StateOptions:bt(e),CityOptions:wt(e)}},{fetchCountries:pt,fetchStates:mt,fetchCities:ht,clearCities:dt})(cn),dn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={isModalOpen:!0,data:{country:"",state:"",city:"",username:""},tempusername:""},a.componentDidUpdate=function(e,t){t.data.city!==a.state.data.city&&a.props.signup().then(function(){a.props.setUserData(a.state.data).then(function(){a.props.redirectTo?a.props.history.push(a.props.redirectTo):a.props.history.push("/")})})},a.getLocation=function(e,t,n){a.setState(Object(x.a)({},t,{data:Object(x.a)({},a.state.data,{country:e,state:t,city:n})}))},a.onInputChange=function(e,t){var n=t.value;a.setState({tempusername:n})},a.setFinalUsername=function(){a.setState({data:Object(x.a)({},a.state.data,{username:a.state.tempusername})})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state.data.username,t=this.state.tempusername;return o.a.createElement("div",null,o.a.createElement(Ie.a,{defaultOpen:!0,closeOnDimmerClick:!1,closeOnDocumentClick:!1,basic:!0,size:"small"},o.a.createElement(U.a,{icon:"heart",content:"Truhype welcomes you"}),o.a.createElement(Ie.a.Content,null,o.a.createElement("p",null,"Hi user, ",o.a.createElement("br",null),"Welcome to Truhype ",o.a.createElement("br",null),o.a.createElement("br",null)),e?o.a.createElement("div",null,o.a.createElement("p",null,"Username: "),o.a.createElement(He.a,null,e)):o.a.createElement("div",null,o.a.createElement("p",null,"Give yourself a username (It will visible to you only)"),o.a.createElement(st.a,{action:{color:"teal",content:"save",onClick:this.setFinalUsername},onChange:this.onInputChange,value:t})),e?o.a.createElement("p",null,o.a.createElement("br",null),o.a.createElement("br",null),"We need your location for your local feed"):null),e?o.a.createElement(Ie.a.Actions,null,o.a.createElement(I.a.Group,null,o.a.createElement(un,{username:e,getLocation:this.getLocation}))):null))}}]),t}(n.Component);var pn=Object(u.b)(function(e){return{redirectTo:e.path}},{signup:function(){return function(e){return Y.user.signup().then(function(t){localStorage.TruhypeJWT=t.token,localStorage.sessionId=t.sessionId,$(localStorage.TruhypeJWT),e(ee(t))})}},setUserData:function(e){return function(t){return Y.user.setUserData(e).then(function(e){t(se(e))})}}})(dn),mn=function(e){return o.a.createElement(_.a,{centered:!0,verticalAlign:"middle",style:{height:window.innerHeight}},o.a.createElement(_.a.Row,{columns:2},o.a.createElement(_.a.Column,{textAlign:"center"},o.a.createElement(ye.a,{raised:!0,textAlign:"center",color:"teal"},o.a.createElement(B.a,{align:"center"},o.a.createElement(H.a,{src:Ce.a,size:"small"})),o.a.createElement(U.a,{color:"red",as:"h1"},"Error 404"),o.a.createElement(U.a,{as:"h3"},"This is not the page you are looking for!")),o.a.createElement(I.a,{color:"teal",content:"Go to Home",size:"medium",onClick:function(){e.history.push("/")}}))))},hn=function(e){return{type:"ADMIN_LOGGED_IN",admin:e}},gn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={data:{username:"",password:""},loading:!1,errors:{}},a.onChange=function(e){a.setState({data:Object(x.a)({},a.state.data,Object(D.a)({},e.target.name,e.target.value))})},a.onSubmit=function(e){e.preventDefault();var t=a.validate(a.state.data);a.setState({errors:t}),0===Object.keys(t).length&&(a.setState({loading:!0}),a.props.submit(a.state.data).catch(function(e){console.log(e),a.setState({errors:e.response.data.errors,loading:!1})}))},a.validate=function(e){var t={};return e.username||(t.username="Username needed!"),e.password||(t.password="Can't be blank!"),t},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.data,a=e.errors,n=e.loading;return o.a.createElement("div",null,o.a.createElement(_.a,{textAlign:"center",style:{height:window.innerHeight,backgroundColor:"#f9f9f9"},verticalAlign:"middle",centered:!0},o.a.createElement(_.a.Column,{style:{maxWidth:450}},o.a.createElement(H.a,{centered:!0,src:Ce.a}),o.a.createElement(U.a,{as:"h2",color:"grey",textAlign:"center"},"Admin Login"),o.a.createElement(R.a,{size:"large",onSubmit:this.onSubmit,error:!!a,loading:n},a.global&&o.a.createElement(X.a,{negative:!0},o.a.createElement(X.a.Header,null,"Something went wrong"),o.a.createElement("p",null,a.global)),o.a.createElement(ye.a,{stacked:!0},o.a.createElement(R.a.Input,{fluid:!0,icon:"user",iconPosition:"left",id:"username",placeholder:"Username",name:"username",onChange:this.onChange,value:t.username,error:!!a.username}),a.username&&o.a.createElement(Ae,{text:a.username}),o.a.createElement(R.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",name:"password",id:"password",placeholder:"Password",type:"password",onChange:this.onChange,value:t.password,error:!!a.password}),a.password&&o.a.createElement(Ae,{text:a.password}),o.a.createElement(I.a,{color:"grey",fluid:!0,size:"large"},"Login"))))))}}]),t}(o.a.Component),fn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).submit=function(e){return a.props.login(e).then(function(){return a.props.history.push("/admin_dashboard")})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(gn,{submit:this.submit,history:this.props.history}))}}]),t}(o.a.Component),En=Object(Ee.a)(Object(u.b)(null,{login:function(e){return function(t){return Y.admins.login(e).then(function(e){localStorage.TruhypeJWTAdmin=e.token,$(localStorage.TruhypeJWT),t(hn(e))})}}})(fn)),yn=a(873),vn={total_acc:0,accounts:0,countryStats:[],stateStats:[]},Cn=Object(J.a)(function(e){return e.adStatistics.countryStats},function(e){return e}),An=Object(J.a)(function(e){return e.adStatistics.stateStats},function(e){return e}),bn=a(233),wn=a.n(bn),On=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).onlogout=function(){a.props.logout()},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(M.a,{fixed:"top",inverted:!0},o.a.createElement(B.a,null,o.a.createElement(M.a.Item,{as:Pe.a,to:"/admin_dashboard",header:!0},o.a.createElement(H.a,{size:"mini",src:wn.a,style:{marginRight:"1.5em"}}),"Truhype"),o.a.createElement(V.a,{item:!0,simple:!0,text:"Menu"},o.a.createElement(V.a.Menu,null,o.a.createElement(V.a.Item,{as:Pe.a,to:"/admin_upload_page"},"Upload"),o.a.createElement(V.a.Item,{as:Pe.a,to:"/admin_adposts_page"},"Admin Posts"),o.a.createElement(V.a.Item,{as:Pe.a,to:"/admin_reported_posts_page"},"Reported posts"),o.a.createElement(V.a.Item,{as:Pe.a,to:"/admin_search_page"},"Search posts"),o.a.createElement(V.a.Item,{as:Pe.a,to:"/admin_category_page"},"Category"),o.a.createElement(V.a.Item,{as:Pe.a,to:"/admin_survey_results"},"Survey Results"),o.a.createElement(V.a.Item,{as:Pe.a,to:"/admin_feedbacks"},"Feedbacks"),o.a.createElement(V.a.Item,{as:Pe.a,to:"/admin_change_password"},"Change Password"))),o.a.createElement(M.a.Item,{as:I.a,onClick:this.onlogout},"Logout"))),o.a.createElement(Se.a,{minWidth:Se.a.onlyTablet.minWidth},o.a.createElement(B.a,{text:!0,style:{marginTop:"7em",minHeight:320}},this.props.children)),o.a.createElement(Se.a,Se.a.onlyMobile,o.a.createElement(B.a,{style:{marginTop:"7em",minHeight:330}},this.props.children)),o.a.createElement(ye.a,{inverted:!0,vertical:!0,style:{margin:"5em 0em 0em",padding:"5em 0em"}},o.a.createElement(B.a,{textAlign:"center"},o.a.createElement(H.a,{centered:!0,size:"mini",src:wn.a}),o.a.createElement(T.a,{horizontal:!0,inverted:!0,divided:!0,link:!0,size:"small"},o.a.createElement(T.a.Item,{as:"a",href:"#"},"Site Map"),o.a.createElement(T.a.Item,{as:"a",href:"#"},"Contact Us"),o.a.createElement(T.a.Item,{as:"a",href:"#"},"Terms and Conditions"),o.a.createElement(T.a.Item,{as:"a",href:"#"},"Privacy Policy")))))}}]),t}(o.a.Component),Sn=Object(u.b)(null,{logout:function(){return function(e){$(),e({type:"ADMIN_LOGGED_OUT"}),localStorage.removeItem("TruhypeJWTAdmin")}}})(On),kn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={data:{country:"",state:"",city:""},loading:!1},a.componentWillMount=function(){a.props.clearStatsByCountry(),a.props.clearStatsByState(),a.props.fetchCountries(),a.props.fetchTotalNoAccounts()},a.componentDidUpdate=function(e,t){t.data.country!==a.state.data.country&&(a.props.fetchStates(a.state.data.country),a.props.clearStatsByCountry(),a.props.fetchStatsByCountry(a.state.data.country),a.props.clearCities()),t.data.state!==a.state.data.state&&(a.props.clearStatsByState(),a.props.fetchCities(a.state.data.country,a.state.data.state),a.props.fetchStatsByState(a.state.data.country,a.state.data.state)),t.data.city!==a.state.data.city&&a.props.fetchNoAccounts(a.state.data.country,a.state.data.state,a.state.data.city)},a.handleLocationChange=function(e,t){var n=t.name,o=t.value;return a.setState({data:Object(x.a)({},a.state.data,Object(D.a)({},n,o))})},a.onlogout=function(){a.props.logout()},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.CountryOptions,a=e.StateOptions,n=e.CityOptions,r=e.total_acc,l=e.accounts,s=e.countryStats,c=e.stateStats,i=this.state.data,u=i.country,d=i.state,p=i.city,m=this.state.loading;return o.a.createElement("div",null,o.a.createElement(Sn,null,o.a.createElement("h1",null,"Statistics"),o.a.createElement(Ma.a,null),o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(Ue.a,null,o.a.createElement(Ue.a.Value,null,r||0),o.a.createElement(Ue.a.Label,null,"Total Accounts"))),o.a.createElement(Ma.a,null),o.a.createElement("h4",null,"By Location"),o.a.createElement(R.a,null,o.a.createElement(R.a.Group,null,o.a.createElement(R.a.Dropdown,{placeholder:"Country",width:5,search:!0,selection:!0,value:u,onChange:this.handleLocationChange,name:"country",options:t}),o.a.createElement(R.a.Dropdown,{placeholder:"State",width:5,search:!0,onChange:this.handleLocationChange,value:d,name:"state",selection:!0,options:a}),o.a.createElement(R.a.Dropdown,{placeholder:"Location",width:6,search:!0,onChange:this.handleLocationChange,value:p,name:"city",selection:!0,options:n}))),o.a.createElement("br",null),o.a.createElement(ye.a,{textAlign:"center",style:{background:"#f6f6f6"}},m?o.a.createElement("p",null,"Loading..."):p?o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("h5",null,u),o.a.createElement("h5",null,d),o.a.createElement("h5",null,p),o.a.createElement(Ue.a,{horizontal:!0,label:"Accounts",value:l})):o.a.createElement("div",null,"Select any location.")),o.a.createElement(Ma.a,null),o.a.createElement("h4",null,"By State"),o.a.createElement(R.a,null,o.a.createElement(R.a.Group,null,o.a.createElement(R.a.Dropdown,{placeholder:"Country",width:5,search:!0,selection:!0,value:u,onChange:this.handleLocationChange,name:"country",options:t}),o.a.createElement(R.a.Dropdown,{placeholder:"State",width:5,search:!0,onChange:this.handleLocationChange,value:d,name:"state",selection:!0,options:a}))),o.a.createElement(ye.a,{style:{background:"#f6f6f6"}},o.a.createElement("h4",null,u),o.a.createElement(yn.a,{celled:!0},o.a.createElement(yn.a.Header,null,o.a.createElement(yn.a.Row,null,o.a.createElement(yn.a.HeaderCell,null,"S.No"),o.a.createElement(yn.a.HeaderCell,null,"City"),o.a.createElement(yn.a.HeaderCell,null,"No of Accounts"))),o.a.createElement(yn.a.Body,null,c&&c.map(function(e,t){return o.a.createElement(yn.a.Row,{key:t},o.a.createElement(yn.a.Cell,null,t+1),o.a.createElement(yn.a.Cell,null,e.label),o.a.createElement(yn.a.Cell,null,e.value))})))),o.a.createElement(Ma.a,null),o.a.createElement("h4",null,"By Country"),o.a.createElement(R.a,null,o.a.createElement(R.a.Dropdown,{placeholder:"Country",width:5,search:!0,selection:!0,fluid:!0,value:u,onChange:this.handleLocationChange,name:"country",options:t})),o.a.createElement(ye.a,{style:{background:"#f6f6f6"}},o.a.createElement("h4",null,u),o.a.createElement(yn.a,{celled:!0},o.a.createElement(yn.a.Header,null,o.a.createElement(yn.a.Row,null,o.a.createElement(yn.a.HeaderCell,null,"S.No"),o.a.createElement(yn.a.HeaderCell,null,"State"),o.a.createElement(yn.a.HeaderCell,null,"No of Accounts"))),o.a.createElement(yn.a.Body,null,s&&s.map(function(e,t){return o.a.createElement(yn.a.Row,{key:t},o.a.createElement(yn.a.Cell,null,t+1),o.a.createElement(yn.a.Cell,null,e.label),o.a.createElement(yn.a.Cell,null,e.value))}))))))}}]),t}(o.a.Component);var Pn=Object(u.b)(function(e){return{CountryOptions:At(e),StateOptions:bt(e),CityOptions:wt(e),total_acc:e.adStatistics.total_acc,accounts:e.adStatistics.accounts,countryStats:Cn(e),stateStats:An(e)}},{fetchCountries:pt,fetchStates:mt,fetchCities:ht,clearCities:dt,fetchTotalNoAccounts:function(){return function(e){return Y.adStatistics.fetchTotalNoAccounts().then(function(t){e(function(e){return{type:"TOTAL_ACCOUNTS_FETCHED",total_acc:e}}(t))})}},fetchNoAccounts:function(e,t,a){return function(n){return Y.adStatistics.fetchNoAccounts(e,t,a).then(function(e){n(function(e){return{type:"NO_ACCOUNTS_FETCHED",accounts:e}}(e))})}},fetchStatsByCountry:function(e){return function(t){return Y.adStatistics.fetchStatsByCountry(e).then(function(e){t(function(e){return{type:"COUNTRY_STATS_FETCHED",countryStats:e}}(e))})}},clearStatsByCountry:function(){return function(e){return e({type:"STATS_BY_COUNTRY_CLEARED"})}},fetchStatsByState:function(e,t){return function(a){return Y.adStatistics.fetchStatsByState(e,t).then(function(e){a(function(e){return{type:"STATE_STATS_FETCHED",stateStats:e}}(e))})}},clearStatsByState:function(){return function(e){return e({type:"STATS_BY_STATE_CLEARED"})}}})(kn),jn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={preview:!1,data:{country:"",state:"",city:""},colorOptions:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b"]},a.componentWillMount=function(){a.props.fetchCountries(),a.props.fetchCategories()},a.componentDidUpdate=function(e,t){t.data.country!==a.state.data.country&&(a.props.fetchStates(a.state.data.country),a.props.clearCities()),t.data.state!==a.state.data.state&&a.props.fetchCities(a.state.data.country,a.state.data.state)},a.handleLocationChange=function(e,t){var n=t.name,o=t.value;return a.setState({data:Object(x.a)({},a.state.data,Object(D.a)({},n,o))})},a.handlePreview=function(){return a.setState({preview:!a.state.preview})},a.unique=function(e){for(var t=0;t<e.length;++t)for(var a=t+1;a<e.length;++a)e[t]===e[a]&&e.splice(a--,1);return e},a.onClickAddLoc=function(){var e=a.state.data,t=e.city,n=e.state,o={location_country:e.country,location_state:n,location_city:t};a.props.pushLocation(o),a.setState({data:{city:"",state:"",country:""}})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.category,a=e.title,n=e.text,r=e.hashtags,l=e.cardColor,s=e.isCardStyle,c=e.isNotification,i=e.locationtype,u=e.locations,d=this.props,p=d.CountryOptions,m=d.StateOptions,h=d.CityOptions,g=d.hashtagOptions,f=d.ServerHashtagOptions,E=this.state.data,y=E.country,v=E.state,C=E.city,A=this.state,b=A.colorOptions,w=A.preview,O={title:a,text:n,category:t,hashtags:r,cardColor:l,isCardStyle:s,upvotes_count:0,downvotes_count:0,comments_count:0,comments:[]},S=this.unique(Object(K.a)(g).concat(Object(K.a)(f)));return o.a.createElement("div",null,w?o.a.createElement("div",null,o.a.createElement(ut,{post:O,isForAdmin:!0,showBottomBar:!1}),o.a.createElement(I.a,{onClick:this.handlePreview,color:"grey",style:{marginTop:10}},o.a.createElement(L.a,{name:"close"})," Close Preview")):o.a.createElement("div",null,o.a.createElement(R.a,null,o.a.createElement(R.a.Input,{placeholder:"Title",onChange:this.props.handleDataChange,name:"title",value:a}),o.a.createElement(R.a.Field,null,o.a.createElement(N.a,{placeholder:"writeup",autoHeight:!0,onChange:this.props.handleDataChange,name:"text",value:n,required:!0})),o.a.createElement(R.a.Input,{placeholder:"Company Name",onChange:this.props.handleDataChange,name:"category",value:t}),o.a.createElement(R.a.Dropdown,{fluid:!0,search:!0,scrolling:!0,selection:!0,multiple:!0,allowAdditions:!0,onAddItem:this.props.addHashtag,onSearchChange:this.props.onHashtagSearch,closeOnChange:!0,value:r,name:"hashtags",onChange:this.props.handleHashtagChange,placeholder:"Add Hashtags",options:S}),o.a.createElement(Ma.a,{section:!0}),o.a.createElement(R.a.Group,{inline:!0},o.a.createElement(R.a.Radio,{label:"All locations",value:"all",checked:"all"===i,onChange:this.props.handleLocationRadio}),o.a.createElement(R.a.Radio,{label:"Locations to show",value:"locationstoshow",checked:"locationstoshow"===i,onChange:this.props.handleLocationRadio}),o.a.createElement(R.a.Radio,{label:"Locations not to show",value:"locationsnottoshow",checked:"locationsnottoshow"===i,onChange:this.props.handleLocationRadio}),"all"!==i&&o.a.createElement(I.a,{floated:"right",basic:!0,color:"grey",circular:!0,content:"Clear locations",onClick:this.props.onClearLocs})),"all"!==i&&o.a.createElement("div",null,o.a.createElement(ye.a,null,u&&u.map(function(e,t){return e.location_city?o.a.createElement(He.a,{key:t},e.location_city):e.location_state?o.a.createElement(He.a,{key:t},e.location_state):e.location_country&&o.a.createElement(He.a,{key:t},e.location_country)})),o.a.createElement("label",null,"Add Locations"),o.a.createElement(R.a.Group,null,o.a.createElement(R.a.Dropdown,{placeholder:"Country",width:5,search:!0,selection:!0,value:y,onChange:this.handleLocationChange,name:"country",options:p}),o.a.createElement(R.a.Dropdown,{placeholder:"State",width:5,search:!0,onChange:this.handleLocationChange,value:v,name:"state",selection:!0,options:m}),o.a.createElement(R.a.Dropdown,{placeholder:"Location",width:6,search:!0,onChange:this.handleLocationChange,value:C,name:"city",selection:!0,options:h})),o.a.createElement(I.a,{color:"grey",fluid:!0,content:"Add location",onClick:this.onClickAddLoc})),o.a.createElement(Ma.a,{section:!0}),o.a.createElement(R.a.Group,{style:{marginTop:10}},o.a.createElement(R.a.Field,{control:Je.a,slider:!0,checked:c,onChange:this.props.handleNotifCheck,label:" Send Notification to user"}),"\xa0\xa0\xa0\xa0\xa0"),o.a.createElement(R.a.Group,{style:{marginTop:10}},o.a.createElement(R.a.Field,{control:Je.a,checked:s,onChange:this.props.handleCheck,label:" Use Card Color"}),"\xa0\xa0\xa0\xa0\xa0"),s&&o.a.createElement("div",{style:{marginTop:10,marginLeft:20}},o.a.createElement(B.a,null,o.a.createElement(Ze.CirclePicker,{color:l,colors:b,onChangeComplete:this.props.handleColorChange})))),o.a.createElement(_.a,{centered:!0,style:{marginTop:5}},o.a.createElement(_.a.Row,{columns:2},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{fluid:!0,align:"left",onClick:this.handleLeftClick},o.a.createElement(I.a,{color:"grey",content:"Preview",onClick:this.handlePreview}))),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{fluid:!0,align:"right"},o.a.createElement(I.a,{onClick:this.props.onTextPostSubmit,color:"grey",content:"Submit"})))))))}}]),t}(n.Component);var Dn=Object(u.b)(function(e){return{CountryOptions:At(e),StateOptions:bt(e),CityOptions:wt(e),categoryOptions:Pt(e)}},{fetchCountries:pt,fetchCategories:gt,fetchStates:mt,fetchCities:ht,clearCities:dt})(jn),xn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={whichPage:"ImageUploader",data:{country:"",state:"",city:""},showNext:!1},a.componentWillMount=function(){a.props.fetchCountries(),a.props.fetchCategories()},a.componentDidUpdate=function(e,t){t.data.country!==a.state.data.country&&(a.props.fetchStates(a.state.data.country),a.props.clearCities()),t.data.state!==a.state.data.state&&a.props.fetchCities(a.state.data.country,a.state.data.state)},a.handleLocationChange=function(e,t){var n=t.name,o=t.value;return a.setState({data:Object(x.a)({},a.state.data,Object(D.a)({},n,o))})},a.handlePageChange=function(e,t){var n=t.value;e.preventDefault(),a.setState({whichPage:n})},a.unique=function(e){for(var t=0;t<e.length;++t)for(var a=t+1;a<e.length;++a)e[t]===e[a]&&e.splice(a--,1);return e},a.onClickAddLoc=function(){var e=a.state.data,t=e.city,n=e.state,o={location_country:e.country,location_state:n,location_city:t};a.props.pushLocation(o),a.setState({data:{city:"",state:"",country:""}})},a.handleShowNext=function(){a.setState({showNext:!0})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.category,a=e.title,n=e.images,r=e.hashtags,l=e.isNotification,s=e.locationtype,c=e.locations,i=this.props,u=i.CountryOptions,d=i.StateOptions,p=i.CityOptions,m=i.hashtagOptions,h=i.ServerHashtagOptions,g=this.state.data,f=g.country,E=g.state,y=g.city,v=this.state,C=v.whichPage,A=v.showNext,b={title:a,images:n,category:t,hashtags:r,upvotes_count:0,downvotes_count:0,comments_count:0,comments:[]},w=this.unique(Object(K.a)(m).concat(Object(K.a)(h)));return o.a.createElement("div",null,"ImageUploader"===C&&o.a.createElement("div",null,o.a.createElement(Yt,{getImagesUrls:this.props.getImagesUrls,handleShowNext:this.handleShowNext}),A&&o.a.createElement(I.a,{active:n.length>0,onClick:this.handlePageChange,value:"EditForm",floated:"right",color:"grey"},"Next",o.a.createElement(L.a,{name:"angle right"})),o.a.createElement("br",null)),"EditForm"===C&&o.a.createElement("div",null,o.a.createElement(R.a,{style:{marginTop:10}},o.a.createElement(R.a.Input,{placeholder:"Title",onChange:this.props.handleDataChange,name:"title",value:a}),o.a.createElement(R.a.Input,{placeholder:"Company Name",onChange:this.props.handleDataChange,name:"category",value:t}),o.a.createElement(R.a.Dropdown,{fluid:!0,search:!0,scrolling:!0,selection:!0,multiple:!0,allowAdditions:!0,onAddItem:this.props.addHashtag,onSearchChange:this.props.onHashtagSearch,closeOnChange:!0,value:r,name:"hashtags",onChange:this.props.handleHashtagChange,placeholder:"Add Hashtags",options:w}),o.a.createElement(Ma.a,{section:!0}),o.a.createElement(R.a.Group,{inline:!0},o.a.createElement(R.a.Radio,{label:"All locations",value:"all",checked:"all"===s,onChange:this.props.handleLocationRadio}),o.a.createElement(R.a.Radio,{label:"Locations to show",value:"locationstoshow",checked:"locationstoshow"===s,onChange:this.props.handleLocationRadio}),o.a.createElement(R.a.Radio,{label:"Locations not to show",value:"locationsnottoshow",checked:"locationsnottoshow"===s,onChange:this.props.handleLocationRadio}),"all"!==s&&o.a.createElement(I.a,{floated:"right",basic:!0,color:"grey",circular:!0,content:"Clear locations",onClick:this.props.onClearLocs})),"all"!==s&&o.a.createElement("div",null,o.a.createElement(ye.a,null,c&&c.map(function(e,t){return e.location_city?o.a.createElement(He.a,{key:t},e.location_city):e.location_state?o.a.createElement(He.a,{key:t},e.location_state):e.location_country&&o.a.createElement(He.a,{key:t},e.location_country)})),o.a.createElement("label",null,"Add Locations"),o.a.createElement(R.a.Group,null,o.a.createElement(R.a.Dropdown,{placeholder:"Country",width:5,search:!0,selection:!0,value:f,onChange:this.handleLocationChange,name:"country",options:u}),o.a.createElement(R.a.Dropdown,{placeholder:"State",width:5,search:!0,onChange:this.handleLocationChange,value:E,name:"state",selection:!0,options:d}),o.a.createElement(R.a.Dropdown,{placeholder:"Location",width:6,search:!0,onChange:this.handleLocationChange,value:y,name:"city",selection:!0,options:p})),o.a.createElement(I.a,{color:"grey",fluid:!0,content:"Add location",onClick:this.onClickAddLoc})),o.a.createElement(Ma.a,{section:!0}),o.a.createElement(R.a.Group,{style:{marginTop:10}},o.a.createElement(R.a.Field,{control:Je.a,slider:!0,checked:l,onChange:this.props.handleNotifCheck,label:" Send Notification to user"}),"\xa0\xa0\xa0\xa0\xa0")),o.a.createElement(_.a,{centered:!0,style:{marginTop:5}},o.a.createElement(_.a.Row,{columns:2},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{fluid:!0,align:"left",onClick:this.handleLeftClick},o.a.createElement(I.a,{color:"grey",content:"Preview",value:"Preview",onClick:this.handlePageChange}))),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{fluid:!0,align:"right"},o.a.createElement(I.a,{onClick:this.props.onImagePostSubmit,color:"grey",content:"Submit"})))))),"Preview"===C&&o.a.createElement("div",null,o.a.createElement(Rt,{post:b,isForAdmin:!0,showBottomBar:!1}),o.a.createElement(I.a,{onClick:this.handlePageChange,value:"EditForm",color:"grey",style:{marginTop:10}},o.a.createElement(L.a,{name:"close"})," Close Preview")))}}]),t}(n.Component);var Tn=Object(u.b)(function(e){return{categoryOptions:Pt(e),CountryOptions:At(e),StateOptions:bt(e),CityOptions:wt(e)}},{fetchCountries:pt,fetchCategories:gt,fetchStates:mt,fetchCities:ht,clearCities:dt})(xn),_n=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={whichPage:"VideoUploader",data:{country:"",state:"",city:""},showNext:!1},a.componentWillMount=function(){a.props.fetchCountries(),a.props.fetchCategories()},a.componentDidUpdate=function(e,t){t.data.country!==a.state.data.country&&(a.props.fetchStates(a.state.data.country),a.props.clearCities()),t.data.state!==a.state.data.state&&a.props.fetchCities(a.state.data.country,a.state.data.state)},a.handleLocationChange=function(e,t){var n=t.name,o=t.value;return a.setState({data:Object(x.a)({},a.state.data,Object(D.a)({},n,o))})},a.handlePageChange=function(e,t){var n=t.value;e.preventDefault(),a.setState({whichPage:n})},a.unique=function(e){for(var t=0;t<e.length;++t)for(var a=t+1;a<e.length;++a)e[t]===e[a]&&e.splice(a--,1);return e},a.onClickAddLoc=function(){var e=a.state.data,t=e.city,n=e.state,o={location_country:e.country,location_state:n,location_city:t};a.props.pushLocation(o),a.setState({data:{city:"",state:"",country:""}})},a.handleShowNext=function(){a.setState({showNext:!0})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.category,a=e.title,n=e.videos,r=e.hashtags,l=e.isNotification,s=e.locationtype,c=e.locations,i=this.props,u=i.CountryOptions,d=i.StateOptions,p=i.CityOptions,m=i.hashtagOptions,h=i.ServerHashtagOptions,g=this.state.data,f=g.country,E=g.state,y=g.city,v=this.state,C=v.whichPage,A=v.showNext,b={title:a,videos:n,category:t,hashtags:r,upvotes_count:0,downvotes_count:0,comments_count:0,comments:[]},w=this.unique(Object(K.a)(m).concat(Object(K.a)(h)));return o.a.createElement("div",null,"VideoUploader"===C&&o.a.createElement("div",null,o.a.createElement(na,{getVideosUrls:this.props.getVideosUrls,handleShowNext:this.handleShowNext}),A&&o.a.createElement(I.a,{active:n.length>0,onClick:this.handlePageChange,value:"EditForm",floated:"right",color:"grey"},"Next",o.a.createElement(L.a,{name:"angle right"})),o.a.createElement("br",null)),"EditForm"===C&&o.a.createElement("div",null,o.a.createElement(R.a,{style:{marginTop:10}},o.a.createElement(R.a.Input,{placeholder:"Title",onChange:this.props.handleDataChange,name:"title",value:a}),o.a.createElement(R.a.Input,{placeholder:"Company Name",onChange:this.props.handleDataChange,name:"category",value:t}),o.a.createElement(R.a.Dropdown,{fluid:!0,search:!0,scrolling:!0,selection:!0,multiple:!0,allowAdditions:!0,onAddItem:this.props.addHashtag,onSearchChange:this.props.onHashtagSearch,closeOnChange:!0,value:r,name:"hashtags",onChange:this.props.handleHashtagChange,placeholder:"Add Hashtags",options:w}),o.a.createElement(Ma.a,{section:!0}),o.a.createElement(R.a.Group,{inline:!0},o.a.createElement(R.a.Radio,{label:"All locations",value:"all",checked:"all"===s,onChange:this.props.handleLocationRadio}),o.a.createElement(R.a.Radio,{label:"Locations to show",value:"locationstoshow",checked:"locationstoshow"===s,onChange:this.props.handleLocationRadio}),o.a.createElement(R.a.Radio,{label:"Locations not to show",value:"locationsnottoshow",checked:"locationsnottoshow"===s,onChange:this.props.handleLocationRadio}),"all"!==s&&o.a.createElement(I.a,{floated:"right",basic:!0,color:"grey",circular:!0,content:"Clear locations",onClick:this.props.onClearLocs})),"all"!==s&&o.a.createElement("div",null,o.a.createElement(ye.a,null,c&&c.map(function(e,t){return e.location_city?o.a.createElement(He.a,{key:t},e.location_city):e.location_state?o.a.createElement(He.a,{key:t},e.location_state):e.location_country&&o.a.createElement(He.a,{key:t},e.location_country)})),o.a.createElement("label",null,"Add Locations"),o.a.createElement(R.a.Group,null,o.a.createElement(R.a.Dropdown,{placeholder:"Country",width:5,search:!0,selection:!0,value:f,onChange:this.handleLocationChange,name:"country",options:u}),o.a.createElement(R.a.Dropdown,{placeholder:"State",width:5,search:!0,onChange:this.handleLocationChange,value:E,name:"state",selection:!0,options:d}),o.a.createElement(R.a.Dropdown,{placeholder:"Location",width:6,search:!0,onChange:this.handleLocationChange,value:y,name:"city",selection:!0,options:p})),o.a.createElement(I.a,{color:"grey",fluid:!0,content:"Add location",onClick:this.onClickAddLoc})),o.a.createElement(Ma.a,{section:!0}),o.a.createElement(R.a.Group,{style:{marginTop:10}},o.a.createElement(R.a.Field,{control:Je.a,slider:!0,checked:l,onChange:this.props.handleNotifCheck,label:" Send Notification to user"}),"\xa0\xa0\xa0\xa0\xa0")),o.a.createElement(_.a,{centered:!0,style:{marginTop:5}},o.a.createElement(_.a.Row,{columns:2},o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{fluid:!0,align:"left",onClick:this.handleLeftClick},o.a.createElement(I.a,{color:"grey",content:"Preview",value:"Preview",onClick:this.handlePageChange}))),o.a.createElement(_.a.Column,null,o.a.createElement(B.a,{fluid:!0,align:"right"},o.a.createElement(I.a,{onClick:this.props.onVideoPostSubmit,color:"grey",content:"Submit"})))))),"Preview"===C&&o.a.createElement("div",null,o.a.createElement(aa,{post:b,isForAdmin:!0,showBottomBar:!1}),o.a.createElement(I.a,{onClick:this.handlePageChange,value:"EditForm",color:"grey",style:{marginTop:10}},o.a.createElement(L.a,{name:"close"})," Close Preview")))}}]),t}(n.Component);var Bn=Object(u.b)(function(e){return{categoryOptions:Pt(e),CountryOptions:At(e),StateOptions:bt(e),CityOptions:wt(e)}},{fetchCountries:pt,fetchCategories:gt,fetchStates:mt,fetchCities:ht,clearCities:dt})(_n),In=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={filter:"Loved",activeItem:"text",hashtagOptions:[],ServerHashtagOptions:[],data:{category:"",title:"",text:"",hashtags:[],hashtagValue:"",images:[],videos:[],isCardStyle:!1,cardColor:"",isNotification:!1,locationtype:"all",locations:[]},success:!1,pathname:""},a.componentDidUpdate=function(e,t){t.filter!==a.state.filter&&("Loved"===a.state.filter?a.setState({varColor:"red"}):"Latest"===a.state.filter?a.setState({varColor:"purple"}):"Hated"===a.state.filter&&a.setState({varColor:"grey"})),e.ServerHashtagOptions!==a.props.ServerHashtagOptions&&a.setState({ServerHashtagOptions:a.props.ServerHashtagOptions})},a.getImagesUrls=function(e){a.setState({data:Object(x.a)({},a.state.data,{images:Object(K.a)(e)})})},a.getVideosUrls=function(e){a.setState({data:Object(x.a)({},a.state.data,{videos:Object(K.a)(e)})})},a.onTextPostSubmit=function(e){e.preventDefault();var t=a.state.data,n=t.category,o=t.title,r=t.text,l=t.hashtags,s=t.isCardStyle,c=t.cardColor,i=t.isNotification,u=t.locationtype,d=t.locations,p={};if(n||(p.category="Category needed!"),r||(p.text="Text needed!"),Object.keys(p).length>0){var m="";m+=Object.values(p),alert(m)}else{var h={type:"text"};h.title=o,h.text=r,h.category=n,h.hashtags=l,h.isCardStyle=s,h.cardColor=c,h.isNotification=i,h.locationtype=u,h.locations=d,a.props.upload_adpost(h).then(function(){a.setState({success:!0}),window.scrollTo(0,0)})}},a.onImagePostSubmit=function(e){e.preventDefault();var t=a.state.data,n=t.category,o=t.title,r=t.images,l=t.hashtags,s=t.isNotification,c=t.locationtype,i=t.locations,u={};if(n||(u.category="Category needed!"),r||(u.images="Image needed!"),Object.keys(u).length>0){var d="";d+=Object.values(u),alert(d)}else{var p={type:"image"};p.title=o,p.images=r,p.category=n,p.hashtags=l,p.isNotification=s,p.locationtype=c,p.locations=i,a.props.upload_adpost(p).then(function(){a.setState({success:!0}),window.scrollTo(0,0)})}},a.onVideoPostSubmit=function(e){e.preventDefault();var t=a.state.data,n=t.category,o=t.title,r=t.videos,l=t.hashtags,s=t.isNotification,c=t.locationtype,i=t.locations,u={};if(n||(u.category="Category needed!"),r||(u.videos="Video needed!"),Object.keys(u).length>0){var d="";d+=Object.values(u),alert(d)}else{var p={type:"video"};p.title=o,p.videos=r,p.category=n,p.hashtags=l,p.isNotification=s,p.locationtype=c,p.locations=i,a.props.upload_adpost(p).then(function(){a.setState({success:!0}),window.scrollTo(0,0)})}},a.handleFilter=function(e){a.setState({filter:e.target.value})},a.handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a.addHashtag=function(e,t){var n=t.value,o={key:n,value:n,text:n};a.setState({hashtagOptions:Object(K.a)(a.state.hashtagOptions).concat([o])})},a.handleHashtagChange=function(e,t){var n=t.value,o={key:n[0],value:n[0],text:n[0]};a.setState({hashtagOptions:Object(K.a)(a.state.hashtagOptions).concat([o]),data:Object(x.a)({},a.state.data,{hashtags:n})})},a.onHashtagSearch=function(e,t){var n=t.searchQuery;clearTimeout(a.timer),a.props.clearHashtags(),a.setState({data:Object(x.a)({},a.state.data,{hashtagValue:n})}),a.timer=setTimeout(a.search,1e3)},a.search=function(){a.props.fetchHashtagsByKeyword(a.state.data.hashtagValue)},a.handleDataChange=function(e,t){var n=t.name,o=t.value;a.setState({data:Object(x.a)({},a.state.data,Object(D.a)({},n,o))})},a.handleCheck=function(){return a.setState({data:Object(x.a)({},a.state.data,{isCardStyle:!a.state.data.isCardStyle})})},a.handleColorChange=function(e){return a.setState({data:Object(x.a)({},a.state.data,{cardColor:e.hex})})},a.handleNotifCheck=function(){return a.setState({data:Object(x.a)({},a.state.data,{isNotification:!a.state.data.isNotification})})},a.handleLocationRadio=function(e,t){var n=t.value;return a.setState({data:Object(x.a)({},a.state.data,{locationtype:n})})},a.pushLocation=function(e){a.setState({data:Object(x.a)({},a.state.data,{locations:Object(K.a)(a.state.data.locations).concat([e])})})},a.onClearLocs=function(){a.setState({data:Object(x.a)({},a.state.data,{locations:[]})})},a.closeSuccessMessage=function(){a.setState({success:!1,data:{category:"",title:"",text:"",hashtags:[],hashtagValue:"",images:[],videos:[],isCardStyle:!1,cardColor:"",isNotification:!1,locationtype:"all",locations:[]}})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.filter,a=e.activeItem,n=e.hashtagOptions,r=e.ServerHashtagOptions,l=e.success;return o.a.createElement(Sn,null,o.a.createElement(Ke,{pathname:this.props.location.pathname,filter:t,handleFilter:this.handleFilter,showTopBar:!1,showTopIcons:!1,showBottomBar:!1},o.a.createElement("div",null,o.a.createElement(M.a,{pointing:!0,secondary:!0,widths:3,color:"grey",style:{marginTop:"18px"}},o.a.createElement(M.a.Item,{name:"text",active:"text"===a,onClick:this.handleItemClick}),o.a.createElement(M.a.Item,{name:"image",active:"image"===a,onClick:this.handleItemClick}),o.a.createElement(M.a.Item,{name:"video",active:"video"===a,onClick:this.handleItemClick})),"text"===a&&o.a.createElement("div",null,l?o.a.createElement("div",null,o.a.createElement(Q,{text:"Post Successfully submitted!"}),o.a.createElement(I.a,{icon:"close",onClick:this.closeSuccessMessage})):o.a.createElement(Dn,{data:this.state.data,handleDataChange:this.handleDataChange,addHashtag:this.addHashtag,hashtagOptions:n,onHashtagSearch:this.onHashtagSearch,ServerHashtagOptions:r,handleHashtagChange:this.handleHashtagChange,onTextPostSubmit:this.onTextPostSubmit,pushLocation:this.pushLocation,handleCheck:this.handleCheck,handleColorChange:this.handleColorChange,handleNotifCheck:this.handleNotifCheck,handleLocationRadio:this.handleLocationRadio,onClearLocs:this.onClearLocs})),"image"===a&&o.a.createElement("div",null,l?o.a.createElement("div",null,o.a.createElement(Q,{text:"Post Successfully submitted!"}),o.a.createElement(I.a,{icon:"close",onClick:this.closeSuccessMessage})):o.a.createElement(Tn,{data:this.state.data,handleDataChange:this.handleDataChange,addHashtag:this.addHashtag,hashtagOptions:n,onHashtagSearch:this.onHashtagSearch,ServerHashtagOptions:r,handleHashtagChange:this.handleHashtagChange,onImagePostSubmit:this.onImagePostSubmit,pushLocation:this.pushLocation,getImagesUrls:this.getImagesUrls,handleNotifCheck:this.handleNotifCheck,handleLocationRadio:this.handleLocationRadio,onClearLocs:this.onClearLocs})),"video"===a&&o.a.createElement("div",null,l?o.a.createElement("div",null,o.a.createElement(Q,{text:"Post Successfully submitted!"}),o.a.createElement(I.a,{icon:"close",onClick:this.closeSuccessMessage})):o.a.createElement(Bn,{data:this.state.data,handleDataChange:this.handleDataChange,addHashtag:this.addHashtag,hashtagOptions:n,onHashtagSearch:this.onHashtagSearch,ServerHashtagOptions:r,handleHashtagChange:this.handleHashtagChange,onVideoPostSubmit:this.onVideoPostSubmit,pushLocation:this.pushLocation,getVideosUrls:this.getVideosUrls,handleNotifCheck:this.handleNotifCheck,handleLocationRadio:this.handleLocationRadio,onClearLocs:this.onClearLocs})))))}}]),t}(o.a.Component);var Hn=Object(u.b)(function(e){return{ServerHashtagOptions:jt(e)}},{clearHashtags:yt,fetchHashtagsByKeyword:Et,upload_adpost:function(e){return function(t){return Y.adposts.upload_adpost(e).then(function(e){return t({type:"ADPOST_UPLOADED",adposts:e}),e._id})}}})(In),Fn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={per:8,page:1,totalPages:null,scrolling:!1,loading:!1,activeIndex:-1},a.componentWillMount=function(){a.loadPosts()},a.componentDidMount=function(e){window.addEventListener("scroll",function(e){a.handleScroll(e)})},a.componentWillUnmount=function(e){window.removeEventListener("scroll",function(e){a.handleScroll(e)})},a.handleScroll=function(){var e=a.state,t=e.scrolling,n=e.totalPages,o=e.page;if(!t&&!(n<=o)){var r=document.getElementById("ResultBlock");a.isBottom(r)&&a.loadMore()}},a.isBottom=function(e){return e.getBoundingClientRect().bottom-20<window.innerHeight+window.pageYOffset},a.loadMore=function(){a.setState(function(e){return{page:e.page+1,scrolling:!0}},a.loadPosts)},a.loadPosts=function(){var e=a.state,t=e.per,n=e.page;a.setState({isFilterbar:!1,isHashtagbar:!1,loading:!0}),a.props.clearAdPosts(),a.props.fetchAdPostsForAdmin(t,n).then(function(e){a.setState({scrolling:!1,totalPages:e,loading:!1})})},a.onDeletePost=function(e){e.preventDefault();var t=e.target.value;a.props.deleteAdPost(t).then(function(e){e?alert("Post successfully deleted!"):alert("Something went wrong. Post not deleted!")}).catch(function(e){alert("Something went wrong. Post not deleted! with error: ",e)})},a.handleClick=function(e,t){var n=t.index,o=a.state.activeIndex===n?-1:n;a.setState({activeIndex:o})},a.getBetterPost=function(e){return Object.keys(e).map(function(t,a){return o.a.createElement(yn.a.Row,{key:a},o.a.createElement(yn.a.Cell,{collapsing:!0}," ",t," "),o.a.createElement(yn.a.Cell,null," ",JSON.stringify(e[t])," "))})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.posts,a=this.state.activeIndex,n=t.length>0?t.map(function(t,n){return!t.hashtags&&(t.hashtags=[]),!t.comments&&(t.comments=[]),!t.comments_count&&(t.comments_count=0),"text"===t.type?o.a.createElement("div",{key:n},o.a.createElement(ut,{isAdpost:!0,varColor:"teal",isForAdmin:!0,post:t,showBottomBar:!1}),o.a.createElement(F.a,{styled:!0,style:{marginBottom:20}},o.a.createElement(F.a.Title,{active:a===n,index:n,onClick:e.handleClick},o.a.createElement(L.a,{name:"dropdown"}),"Reports: ",t.reports_count),o.a.createElement(F.a.Content,{active:a===n},o.a.createElement(I.a,{value:t._id,content:"Delete",fluid:!0,icon:"trash",negative:!0,onClick:e.onDeletePost}),o.a.createElement(yn.a,{celled:!0,striped:!0},o.a.createElement(yn.a.Header,null,o.a.createElement(yn.a.Row,null,o.a.createElement(yn.a.HeaderCell,{colSpan:"3"},"Text Post"))),o.a.createElement(yn.a.Body,null,e.getBetterPost(t)))))):"image"===t.type?o.a.createElement("div",{key:n},o.a.createElement(Rt,{isAdpost:!0,varColor:"teal",isForAdmin:!0,post:t,showBottomBar:!1}),o.a.createElement(F.a,{styled:!0,style:{marginBottom:20}},o.a.createElement(F.a.Title,{active:a===n,index:n,onClick:e.handleClick},o.a.createElement(L.a,{name:"dropdown"}),"Reports: ",t.reports_count),o.a.createElement(F.a.Content,{active:a===n},o.a.createElement(I.a,{value:t._id,content:"Delete",fluid:!0,icon:"trash",negative:!0,onClick:e.onDeletePost}),o.a.createElement(yn.a,{celled:!0,striped:!0},o.a.createElement(yn.a.Header,null,o.a.createElement(yn.a.Row,null,o.a.createElement(yn.a.HeaderCell,{colSpan:"3"},"Image Post"))),o.a.createElement(yn.a.Body,null,e.getBetterPost(t)))))):"video"===t.type?o.a.createElement("div",{key:n},o.a.createElement(aa,{isAdpost:!0,isForAdmin:!0,varColor:"teal",post:t,showBottomBar:!1}),o.a.createElement(F.a,{styled:!0,style:{marginBottom:20}},o.a.createElement(F.a.Title,{active:a===n,index:n,onClick:e.handleClick},o.a.createElement(L.a,{name:"dropdown"}),"Reports: ",t.reports_count),o.a.createElement(F.a.Content,{active:a===n},o.a.createElement(I.a,{value:t._id,content:"Delete",fluid:!0,icon:"trash",negative:!0,onClick:e.onDeletePost}),o.a.createElement(yn.a,{celled:!0,striped:!0},o.a.createElement(yn.a.Header,null,o.a.createElement(yn.a.Row,null,o.a.createElement(yn.a.HeaderCell,{colSpan:"3"},"Video Post"))),o.a.createElement(yn.a.Body,null,e.getBetterPost(t)))))):null}):o.a.createElement(B.a,{textAlign:"center"},o.a.createElement("br",null),o.a.createElement(ye.a,null,this.state.loading?o.a.createElement("p",null,"Loading..."):o.a.createElement("p",null,"No Posts..."))),r=o.a.createElement("div",{id:"ResultBlock",style:{marginTop:25}},n);return o.a.createElement(Sn,null,o.a.createElement("h1",null,"AdPostsPage"),r)}}]),t}(n.Component);var Mn=Object(u.b)(function(e){return{posts:Sa(e)}},{fetchAdPostsForAdmin:function(e,t){return function(a){return Y.adposts.fetchAdPostsForAdmin(e,t).then(function(e){var t=e.docs,n=e.totalPages;return a(Ne(t)),n})}},clearAdPosts:Ye,deleteAdPost:function(e){return function(t){return Y.adposts.deleteAdPost(e).then(function(a){return t(function(e){return{type:"ADPOST_DELETED",id:e}}(e)),a})}}})(Fn),Ln=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.state={filter:"Loved",varColor:"red",category:"all",per:8,page:1,totalPages:null,scrolling:!1,activeIndex:-1,fireComponent:!1,open:!1,tempvalue:"",repcategory:"Cyber Bullying",options:[{key:1,text:"Cyber Bullying",value:"Cyber Bullying"},{key:2,text:"Hate Speech",value:"Hate Speech"},{key:3,text:"Racism",value:"Racism"},{key:4,text:"Offensive words",value:"Offensive words"},{key:5,text:"Spam",value:"Spam"},{key:6,text:"Nudity / Pornography",value:"Nudity / Pornography"},{key:7,text:"False Information",value:"False Information"},{key:8,text:"Terrorism",value:"Terrorism"}],loading:!1},a.componentWillMount=function(){a.props.clearPosts(),a.loadPosts()},a.componentDidMount=function(){a._isMounted=!0,window.addEventListener("scroll",function(e){a.handleScroll(e)})},a.componentWillUnmount=function(){a._isMounted=!1,window.removeEventListener("scroll",function(e){a.handleScroll(e)})},a.componentDidUpdate=function(e,t){a.state.repcategory!==t.repcategory&&(a.props.clearPosts(),a.loadPosts(1))},a.handleChange=function(e,t){var n=t.name,o=t.value;a.setState(Object(D.a)({},n,o))},a.handleScroll=function(){var e=a.state,t=e.scrolling,n=e.totalPages,o=e.page;if(!t&&!(n<=o)){var r=document.getElementById("ResultBlock");a.isBottom(r)&&a.loadMore()}},a.isBottom=function(e){return e.getBoundingClientRect().bottom-20<window.innerHeight+window.pageYOffset},a.loadMore=function(){a._isMounted&&a.setState(function(e){return{page:e.page+1,scrolling:!0}},a.loadPosts)},a.loadPosts=function(e){var t=a.state,n=t.per,o=t.repcategory,r=a.state.page;e&&(r=e,a.setState({page:e})),a.setState({loading:!0}),a.props.clearPosts(),a.props.fetchReportedPostsByFilter(n,r,o).then(function(e){a._isMounted&&a.setState({scrolling:!1,totalPages:e,loading:!1})})},a.getBetterPost=function(e){return Object.keys(e).map(function(t,a){return o.a.createElement(yn.a.Row,{key:a},o.a.createElement(yn.a.Cell,{collapsing:!0}," ",t," "),o.a.createElement(yn.a.Cell,null," ",JSON.stringify(e[t])," "))})},a.handleClick=function(e,t){var n=t.index,o=a.state.activeIndex===n?-1:n;a.setState({activeIndex:o})},a.onDeletePost=function(e){e.preventDefault();var t=e.target.value;a.setState({tempvalue:t,fireComponent:!0,open:!0})},a.handleDialogConfirm=function(){a.setState({result:"confirmed",open:!1});var e=a.state.tempvalue;a.props.deletePost(e).then(function(e){e?alert("Post successfully deleted!"):alert("Something went wrong. Post not deleted!")}).catch(function(e){alert("Something went wrong. Post not deleted! with error: ",e)})},a.handleDialogCancel=function(){a.setState({result:"cancelled",open:!1})},a.detailsPost=function(e,t,n){return o.a.createElement(F.a,{styled:!0},o.a.createElement(F.a.Title,{active:e===t,index:t,onClick:a.handleClick},o.a.createElement(L.a,{name:"dropdown"}),"Reports: ",n.reports_count),o.a.createElement(F.a.Content,{active:e===t},o.a.createElement(I.a,{value:n._id,content:"Delete",fluid:!0,icon:"trash",negative:!0,onClick:a.onDeletePost}),o.a.createElement(yn.a,{celled:!0,striped:!0},o.a.createElement(yn.a.Header,null,o.a.createElement(yn.a.Row,null,o.a.createElement(yn.a.HeaderCell,{colSpan:"3"},"text"===n.type&&"Text Post","image"===n.type&&"Image Post","video"===n.type&&"Video Post"))),o.a.createElement(yn.a.Body,null,a.getBetterPost(n)))))},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.posts,a=this.state,n=a.activeIndex,r=a.fireComponent,l=a.repcategory,s=a.options,c=t.length>0?t.map(function(t,a){return!t.hashtags&&(t.hashtags=[]),!t.comments&&(t.comments=[]),!t.comments_count&&(t.comments_count=0),"text"===t.type?o.a.createElement("div",{key:a},o.a.createElement(ut,{isAdpost:!1,varColor:"teal",isForAdmin:!0,post:t,showBottomBar:!1,getCategoryForFilter:function(){}}),e.detailsPost(n,a,t)):"image"===t.type?o.a.createElement("div",{key:a},o.a.createElement(Rt,{isAdpost:!1,varColor:"teal",isForAdmin:!0,post:t,showBottomBar:!1,getCategoryForFilter:function(){}}),e.detailsPost(n,a,t)):"video"===t.type?o.a.createElement("div",{key:a},o.a.createElement(aa,{isAdpost:!1,isForAdmin:!0,varColor:"teal",post:t,showBottomBar:!1,getCategoryForFilter:function(){}}),e.detailsPost(n,a,t)):null}):o.a.createElement(B.a,{textAlign:"center"},o.a.createElement("br",null),o.a.createElement(ye.a,null,this.state.loading?o.a.createElement("p",null,"Loading..."):o.a.createElement("p",null,"No Posts"))),i=o.a.createElement("div",{id:"ResultBlock",style:{marginTop:15}},c);return o.a.createElement(Sn,null,r&&o.a.createElement(Te.a,{open:this.state.open,content:"Are you sure to delete this post?",onCancel:this.handleDialogCancel,onConfirm:this.handleDialogConfirm}),o.a.createElement("h2",null,"Reported Posts"),o.a.createElement(Ke,{pathname:this.props.location.pathname,handleFilter:function(){},filter:"love",showTopBar:!1,showBottomBar:!1,showTopIcons:!1},o.a.createElement("br",null),o.a.createElement(V.a,{options:s,value:l,selection:!0,fluid:!0,name:"repcategory",placeholder:"Select Category",scrolling:!0,onChange:this.handleChange}),i))}}]),t}(o.a.Component);var Un=Object(u.b)(function(e){return{posts:Oa(e)}},{fetchReportedPostsByFilter:function(e,t,a){return function(n){return Y.posts.fetchReportedPostsByFilter(e,t,a).then(function(e){var t=e.docs,a=e.totalPages;return n(ae(t)),a})}},deletePost:le,clearPosts:re})(Ln),Rn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={activeIndex:1,data:{country:"",state:"",city:"",category:"",hashtag:"",textquery:""},isHashtagbar:!0,isFilterbar:!0,per:8,page:1,totalPages:null,scrolling:!1,loading:!1,fireComponent:!1,open:!1,tempvalue:""},a.componentWillMount=function(){a.props.clearPosts(),a.props.fetchCountries(),a.props.fetchCategories(),a.props.fetchTopHashtags()},a.componentDidMount=function(e){window.addEventListener("scroll",function(e){a.handleScroll(e)})},a.componentWillUnmount=function(e){window.removeEventListener("scroll",function(e){a.handleScroll(e)})},a.componentDidUpdate=function(e,t){t.data.country!==a.state.data.country&&(a.props.fetchStates(a.state.data.country),a.props.clearCities()),t.data.state!==a.state.data.state&&a.props.fetchCities(a.state.data.country,a.state.data.state)},a.handleScroll=function(){var e=a.state,t=e.scrolling,n=e.totalPages,o=e.page;if(!t&&!(n<=o)){var r=document.getElementById("ResultBlock");a.isBottom(r)&&a.loadMore()}},a.isBottom=function(e){return e.getBoundingClientRect().bottom-20<window.innerHeight+window.pageYOffset},a.loadMore=function(){a.setState(function(e){return{page:e.page+1,scrolling:!0}},a.loadPosts)},a.loadPosts=function(){var e=a.state,t=e.per,n=e.page,o=a.state.data,r=o.country,l=o.state,s=o.city,c=o.hashtag,i=o.category,u=o.textquery;a.setState({isFilterbar:!1,isHashtagbar:!1,loading:!0}),a.props.clearPosts(),a.props.fetchPostsBySearchFilter("Loved",t,n,r,l,s,c,i,u).then(function(e){a.setState({scrolling:!1,totalPages:e,loading:!1,data:Object(x.a)({},a.state.data,{hashtag:""})})})},a.handleChange=function(e,t){var n=t.name,o=t.value;return a.setState({data:Object(x.a)({},a.state.data,Object(D.a)({},n,o))})},a.handleFilterBar=function(){a.setState({isFilterbar:!a.state.isFilterbar,country:"",state:"",city:""})},a.handleHashtagBar=function(){a.setState({isHashtagbar:!a.state.isHashtagbar})},a.handleHashtagClick=function(e){var t=e.currentTarget.textContent;t="#"!==(t=t.split(" ")[0])[0]?"#"+t.substr(0,t.length-3):t.substr(0,t.length-3),a.setState(function(){return{data:Object(x.a)({},a.state.data,{hashtag:t})}},a.loadPosts)},a.onSearch=function(e){clearTimeout(a.timer),a.props.clearPosts(),a.setState({data:Object(x.a)({},a.state.data,{textquery:e.target.value})}),a.timer=setTimeout(a.loadPosts,1e3)},a.onDeletePost=function(e){e.preventDefault();var t=e.target.value;a.setState({tempvalue:t,fireComponent:!0,open:!0})},a.handleDialogConfirm=function(){a.setState({result:"confirmed",open:!1});var e=a.state.tempvalue;a.props.deletePost(e).then(function(e){e?alert("Post successfully deleted!"):alert("Something went wrong. Post not deleted!")}).catch(function(e){alert("Something went wrong. Post not deleted! with error: ",e)})},a.handleDialogCancel=function(){a.setState({result:"cancelled",open:!1})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.CountryOptions,n=t.StateOptions,r=t.CityOptions,l=t.CategoryOptions,s=t.hashtags,c=this.state.data,i=c.country,u=c.state,d=c.city,p=c.category,m=c.textquery,h=this.state,g=h.isFilterbar,f=h.isHashtagbar,E=h.fireComponent,y=this.props.posts,v=y.length>0?y.map(function(t,a){return!t.hashtags&&(t.hashtags=[]),!t.comments&&(t.comments=[]),!t.comments_count&&(t.comments_count=0),"text"===t.type?o.a.createElement("div",{key:a},o.a.createElement(ut,{isAdpost:!1,varColor:"teal",isForAdmin:!0,post:t,showBottomBar:!1,getCategoryForFilter:function(){}}),o.a.createElement(I.a,{style:{marginBottom:20},value:t._id,content:"Delete",fluid:!0,icon:"trash",negative:!0,onClick:e.onDeletePost})):"image"===t.type?o.a.createElement("div",{key:a},o.a.createElement(Rt,{isAdpost:!1,varColor:"teal",isForAdmin:!0,post:t,showBottomBar:!1,getCategoryForFilter:function(){}}),o.a.createElement(I.a,{style:{marginBottom:20},value:t._id,content:"Delete",fluid:!0,icon:"trash",negative:!0,onClick:e.onDeletePost})):"video"===t.type?o.a.createElement("div",{key:a},o.a.createElement(aa,{isAdpost:!1,isForAdmin:!0,varColor:"teal",post:t,showBottomBar:!1,getCategoryForFilter:function(){}}),o.a.createElement(I.a,{style:{marginBottom:20},value:t._id,content:"Delete",fluid:!0,icon:"trash",negative:!0,onClick:e.onDeletePost})):null}):o.a.createElement(B.a,{textAlign:"center"},o.a.createElement("br",null),o.a.createElement(ye.a,null,this.state.loading?o.a.createElement("p",null,"Loading..."):o.a.createElement("p",null,"No Posts Matched..."))),C=o.a.createElement("div",{id:"ResultBlock",style:{marginTop:25}},v);return o.a.createElement("div",null,E&&o.a.createElement(Te.a,{open:this.state.open,content:"Are you sure to delete this post?",onCancel:this.handleDialogCancel,onConfirm:this.handleDialogConfirm}),o.a.createElement("br",null),o.a.createElement(B.a,{textAlign:"center"},o.a.createElement(_.a,{centered:!0},o.a.createElement(_.a.Row,null,o.a.createElement(_.a.Column,{textAlign:"center",width:"10"},o.a.createElement(st.a,{action:!0,fluid:!0,value:m,placeholder:"Search text",onChange:this.onSearch},o.a.createElement("input",null),o.a.createElement(I.a,{icon:"search",color:"brown",onClick:this.loadPosts}))),o.a.createElement(_.a.Column,null,o.a.createElement(R.a,{style:{marginTop:4,position:"fixed",zIndex:1}},o.a.createElement(R.a.Field,{inline:!0},g?o.a.createElement(L.a,{size:"large",name:"filter",color:this.props.varColor,onClick:this.handleFilterBar}):o.a.createElement(L.a,{name:"filter",onClick:this.handleFilterBar})))),o.a.createElement(_.a.Column,null,o.a.createElement(R.a,{style:{marginTop:4,position:"fixed",zIndex:1}},o.a.createElement(R.a.Field,{inline:!0},f?o.a.createElement(L.a,{size:"large",name:"hashtag",color:this.props.varColor,onClick:this.handleHashtagBar}):o.a.createElement(L.a,{name:"hashtag",onClick:this.handleHashtagBar}))))))),g&&o.a.createElement(ye.a,null,o.a.createElement(_.a,null,o.a.createElement(_.a.Row,{columns:2},o.a.createElement(_.a.Column,null,o.a.createElement(V.a,{placeholder:"Country",fluid:!0,search:!0,selection:!0,value:i,onChange:this.handleChange,name:"country",options:a,clearable:!0})),o.a.createElement(_.a.Column,null,o.a.createElement(V.a,{placeholder:"State",fluid:!0,search:!0,onChange:this.handleChange,value:u,name:"state",selection:!0,options:n,noResultsMessage:"Choose country first",clearable:!0})),o.a.createElement(_.a.Column,null,o.a.createElement(V.a,{placeholder:"City",fluid:!0,search:!0,onChange:this.handleChange,value:d,name:"city",selection:!0,options:r,noResultsMessage:"Choose state first",clearable:!0})),o.a.createElement(_.a.Column,null,o.a.createElement(V.a,{placeholder:"Category",fluid:!0,search:!0,selection:!0,onChange:this.handleChange,value:p,name:"category",options:l,clearable:!0}))))),f&&o.a.createElement(ye.a,null,o.a.createElement(T.a,null,s.map(function(t){return o.a.createElement(T.a.Item,{key:t._id,as:"a"},o.a.createElement(T.a.Content,null,o.a.createElement(T.a.Header,{value:t.hashtag,onClick:e.handleHashtagClick,name:"hashtag"},o.a.createElement(L.a,{name:"hashtag"}),"#"!==t.hashtag[0]&&t.hashtag,"#"===t.hashtag[0]&&t.hashtag.substr(1),"\xa0\xa0\xa0 (",1===t.count?"Once":t.count+"times",")")))}))),o.a.createElement("div",null,C))}}]),t}(n.Component);var Vn=Object(u.b)(function(e){return{CountryOptions:At(e),StateOptions:bt(e),CityOptions:wt(e),CategoryOptions:Pt(e),hashtags:Dt(e),posts:Oa(e)}},{fetchCountries:pt,fetchStates:mt,fetchCities:ht,clearCities:dt,fetchCategories:gt,fetchTopHashtags:ft,fetchPostsBySearchFilter:oe,clearPosts:re,deletePost:le})(Rn),Nn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={varColor:"red"},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement(Sn,null,o.a.createElement(Ke,{pathname:this.props.location.pathname,filter:"loved",handleFilter:function(){},showTopBar:!1,showBottomBar:!1,showTopIcons:!1},o.a.createElement(Vn,null)))}}]),t}(o.a.Component),Wn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={isAddCategory:!1,category:"",origCategory:!1,isEditCategory:!1},a.componentWillMount=function(){a.props.fetchCategories()},a.handleIsAddCategory=function(){a.setState({isAddCategory:!a.state.isAddCategory})},a.onAddCategoryChange=function(e,t){var n=t.value;a.setState({category:n})},a.addCategory=function(){a.props.addCategory(a.state.category).then(function(){a.setState({category:""})})},a.handleIsEditCategory=function(e){window.scrollTo(0,0);var t=e.target.value;a.setState({isEditCategory:!a.state.isEditCategory,category:t,origCategory:t})},a.onEditCategoryChange=function(e,t){var n=t.value;a.setState({category:n})},a.editCategory=function(){var e=a.state,t=e.origCategory,n=e.category;console.log(t,n),a.props.updateCategory(t,n).then(function(){a.setState({category:"",isEditCategory:!1})})},a.onDeleteCategory=function(e){e.preventDefault();var t=e.target.value;a.props.deleteCategory(t).then(function(){alert("Post successfully deleted!")}).catch(function(e){alert("Something went wrong. Post not deleted! with error: ",e)})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.categoryOptions,a=this.state,n=a.isAddCategory,r=a.category,l=a.isEditCategory;return o.a.createElement(Sn,null,o.a.createElement(yn.a,{celled:!0,striped:!0},o.a.createElement(yn.a.Header,null,o.a.createElement(yn.a.Row,null,o.a.createElement(yn.a.HeaderCell,{colSpan:"3"},"Categories"))),o.a.createElement(yn.a.Body,null,l&&o.a.createElement(yn.a.Row,null,o.a.createElement(yn.a.Cell,null,o.a.createElement("div",{style:{marginTop:10}},o.a.createElement(R.a,null,o.a.createElement(R.a.Input,{placeholder:"Enter new",value:r,onChange:this.onEditCategoryChange,action:{icon:"pencil",content:"update",onClick:this.editCategory}}))))),o.a.createElement(yn.a.Row,null,o.a.createElement(yn.a.Cell,null,o.a.createElement(I.a,{content:"Add new category",icon:"plus",color:"teal",onClick:this.handleIsAddCategory}),o.a.createElement("div",{style:{marginTop:10}},n&&o.a.createElement(R.a,null,o.a.createElement(R.a.Input,{placeholder:"Enter new",value:r,onChange:this.onAddCategoryChange,action:{icon:"plus",content:"add",onClick:this.addCategory}}))))),t.map(function(t,a){return o.a.createElement(yn.a.Row,{key:a,textAlign:"center"},o.a.createElement(yn.a.Cell,{collapsing:!0}," ",t.value," "),o.a.createElement(yn.a.Cell,null,o.a.createElement(I.a,{value:t.value,content:"Edit",icon:"pencil",color:"grey",onClick:e.handleIsEditCategory})),o.a.createElement(yn.a.Cell,null,o.a.createElement(I.a,{value:t.value,content:"Delete",icon:"trash",negative:!0,onClick:e.onDeleteCategory})))}))))}}]),t}(n.Component);var Gn=Object(u.b)(function(e){return{categoryOptions:Pt(e)}},{fetchCategories:gt,addCategory:function(e){return function(t){return Y.others.addCategory(e).then(function(e){return t(function(e){return{type:"CATEGORY_ADDED",category:e}}(e))})}},updateCategory:function(e,t){return function(a){return Y.others.updateCategory(e,t).then(function(n){return n&&a(function(e,t){return{type:"CATEGORY_UPDATED",oldC:e,newC:t}}(e,t))})}},deleteCategory:function(e){return function(t){return Y.others.deleteCategory(e).then(function(a){return a&&t(function(e){return{type:"CATEGORY_DELETED",category:e}}(e))})}}})(Wn),Yn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a.state={per:8,page:1,totalPages:null,scrolling:!1,surveys:[],yes:0,no:0,l30:0,eq30:0,m30:0,totalResponses:0},a.componentWillMount=function(){a.loadDocs(),Y.others.getAns1().then(function(e){a.setState({yes:e.yes,no:e.no,totalResponses:e.totalrs})}),Y.others.getAns2().then(function(e){a.setState({l30:e.l30,eq30:e.eq30,m30:e.m30,totalResponses:e.totalrs})})},a.componentDidMount=function(){a._isMounted=!0},a.componentWillUnmount=function(){a._isMounted=!1},a.loadMore=function(){a._isMounted&&a.setState(function(e){return{page:e.page+1,scrolling:!0}},a.loadDocs)},a.loadDocs=function(e){var t=a.state.per,n=a.state.page;e&&(n=e,a.setState({page:e})),Y.others.getsurveys(t,n).then(function(e){a._isMounted&&a.setState({totalPages:e.totalPages,surveys:Object(K.a)(a.state.surveys).concat(Object(K.a)(e.docs))})})},a.getAns1=function(){Y.others.getAns1().then(function(e){a._isMounted&&a.setState({yes:e.yes,no:e.no,totalResponses:e.totalrs})})},a.getAns2=function(){Y.others.getAns2().then(function(e){a._isMounted&&a.setState({l30:e.l30,eq30:e.eq30,m30:e.m30,totalResponses:e.totalrs})})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.surveys,a=e.page,n=e.totalPages;return o.a.createElement(Sn,null,o.a.createElement("h1",null,"Survey Results"),o.a.createElement(ye.a,null,o.a.createElement("p",null,"Total number of survey responses: ",this.state.totalResponses)),o.a.createElement(ye.a,null,o.a.createElement(U.a,{as:"h4"},"Should we add more emotions like funny, sad, wow with existing emotions love and hate?"),o.a.createElement("p",null,"Yes: ",this.state.yes," %"),o.a.createElement("p",null,"No: ",this.state.no," %"),o.a.createElement("br",null),o.a.createElement(I.a,{content:"update",onClick:this.getAns1,color:"grey"})),o.a.createElement(ye.a,null,o.a.createElement(U.a,{as:"h4"},"Every post should be active for?"),o.a.createElement("p",null,"Less than 30 days: ",this.state.l30," %"),o.a.createElement("p",null,"30 days only: ",this.state.eq30," %"),o.a.createElement("p",null,"More than 30 days: ",this.state.m30," %"),o.a.createElement("br",null),o.a.createElement(I.a,{content:"update",onClick:this.getAns2,color:"grey"})),o.a.createElement(yn.a,{celled:!0,striped:!0},o.a.createElement(yn.a.Header,null,o.a.createElement(yn.a.Row,null,o.a.createElement(yn.a.HeaderCell,{colSpan:"3"},"Any changes you wish to make on this platform?"))),o.a.createElement(yn.a.Body,null,t.map(function(e,t){return o.a.createElement(yn.a.Row,{key:t},o.a.createElement(yn.a.Cell,null," ",JSON.stringify(e.ans3)," "))}),a<n&&o.a.createElement(yn.a.Row,null,o.a.createElement(yn.a.Cell,{onClick:this.loadMore},"Load More")))))}}]),t}(n.Component),zn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,a.state={per:8,page:1,totalPages:null,scrolling:!1,activeIndex:-1,feedbacks:[],totalFeedbacks:0},a.componentWillMount=function(){a.loadDocs()},a.componentDidMount=function(){a._isMounted=!0},a.componentWillUnmount=function(){a._isMounted=!1},a.loadMore=function(){a._isMounted&&a.setState(function(e){return{page:e.page+1,scrolling:!0}},a.loadDocs)},a.loadDocs=function(e){var t=a.state.per,n=a.state.page;e&&(n=e,a.setState({page:e})),Y.others.getFeedbacks(t,n).then(function(e){a._isMounted&&a.setState({totalPages:e.totalPages,totalFeedbacks:e.totalDocs,feedbacks:Object(K.a)(a.state.feedbacks).concat(Object(K.a)(e.docs))})})},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.feedbacks,a=e.page,n=e.totalPages;return o.a.createElement(Sn,null,o.a.createElement("h1",null,"Feedbacks"),o.a.createElement(ye.a,null,o.a.createElement("p",null,"Total number of feedbacks: ",this.state.totalFeedbacks)),o.a.createElement(yn.a,{celled:!0,striped:!0},o.a.createElement(yn.a.Body,null,t.map(function(e,t){return o.a.createElement(yn.a.Row,{key:t},o.a.createElement(yn.a.Cell,null,e.feedbacktype),o.a.createElement(yn.a.Cell,null," ",JSON.stringify(e.text)," "))}),a<n&&o.a.createElement(yn.a.Row,null,o.a.createElement(yn.a.Cell,{onClick:this.loadMore},"Load More")))),t&&0===t.length&&o.a.createElement("span",null,"No feedbacks yet!"))}}]),t}(n.Component),qn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={data:{newPassword1:"",masterKey:"",newPassword2:""},loading:!1,errors:{}},a.onChange=function(e,t){var n=t.name,o=t.value;a.setState({data:Object(x.a)({},a.state.data,Object(D.a)({},n,o))})},a.onSubmit=function(e){e.preventDefault();var t=a.validate(a.state.data);if(a.setState({errors:t}),0===Object.keys(t).length){a.setState({loading:!0});var n={password:a.state.data.newPassword1,masterKey:a.state.data.masterKey,token:a.props.token};a.props.change_password(n).then(function(){a.setState({data:{newPassword1:"",masterKey:"",newPassword2:""},loading:!1}),alert("Password is changed successfully")}).catch(function(e){console.log(e),a.setState({errors:e.response.data.errors,loading:!1})})}},a.validate=function(e){var t={};return e.newPassword1||(t.newPassword1="New Password needed!"),e.newPassword2||(t.newPassword2="Please re-type password!"),e.newPassword1!==e.newPassword2&&(t.newPassword2="Passwords should match"),e.masterKey||(t.masterKey="Master Key needed!"),t},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.errors,a=e.loading,n=this.state.data,r=n.newPassword1,l=n.newPassword2,s=n.masterKey;return o.a.createElement(Sn,null,o.a.createElement("h1",null,"Change Password"),o.a.createElement(ye.a,null,o.a.createElement(R.a,{error:!!t,loading:a},t.global&&o.a.createElement(X.a,{negative:!0},o.a.createElement(X.a.Header,null,"Something went wrong"),o.a.createElement("p",null,t.global)),o.a.createElement(R.a.Input,{type:"password",placeholder:"New Password",icon:"key",iconPosition:"left",value:r,error:!!t.newPassword1,name:"newPassword1",onChange:this.onChange}),t.newPassword1&&o.a.createElement(Ae,{text:t.newPassword1}),o.a.createElement(R.a.Input,{type:"password",placeholder:"Re-type Password",icon:"redo",iconPosition:"left",value:l,error:!!t.newPassword2,name:"newPassword2",onChange:this.onChange}),t.newPassword2&&o.a.createElement(Ae,{text:t.newPassword2}),o.a.createElement(R.a.Input,{type:"password",placeholder:"Master Key",icon:"user",iconPosition:"left",error:!!t.masterKey,name:"masterKey",value:s,onChange:this.onChange}),t.masterKey&&o.a.createElement(Ae,{text:t.masterKey}),o.a.createElement(R.a.Button,{color:"grey",fluid:!0,onClick:this.onSubmit,content:"Submit"}))))}}]),t}(n.Component);var Xn=Object(u.b)(function(e){return{token:e.admins.token}},{change_password:function(e){return function(t){return Y.admins.change_password(e).then(function(e){return t(function(e){return{type:"PASSWORD_CHANGED",admin:e}}(e))})}}})(qn);var Qn,Kn=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.location;return o.a.createElement(v.a,null,o.a.createElement(w,{location:e,path:"/welcome",exact:!0,component:Aa}),o.a.createElement(w,{location:e,path:"/login",exact:!0,component:Oe}),o.a.createElement(w,{location:e,path:"/welcome2",exact:!0,component:pn}),o.a.createElement(k,{location:e,path:"/upload",exact:!0,component:ha}),o.a.createElement(k,{location:e,path:"/",exact:!0,component:_a}),o.a.createElement(k,{location:e,path:"/global",exact:!0,component:Fa}),o.a.createElement(k,{location:e,path:"/menu",exact:!0,component:fe}),o.a.createElement(k,{location:e,path:"/posts",exact:!0,component:Wa}),o.a.createElement(k,{location:e,path:"/search",exact:!0,component:Xa}),o.a.createElement(k,{location:e,path:"/textpost/:id",component:$a}),o.a.createElement(k,{location:e,path:"/imagepost/:id",component:nn}),o.a.createElement(k,{location:e,path:"/videopost/:id",component:sn}),o.a.createElement(P,{location:e,path:"/admin_login_page",component:En}),o.a.createElement(j,{location:e,path:"/admin_dashboard",component:Pn}),o.a.createElement(j,{location:e,path:"/admin_upload_page",component:Hn}),o.a.createElement(j,{location:e,path:"/admin_adposts_page",component:Mn}),o.a.createElement(j,{location:e,path:"/admin_reported_posts_page",component:Un}),o.a.createElement(j,{location:e,path:"/admin_search_page",component:Nn}),o.a.createElement(j,{location:e,path:"/admin_category_page",component:Gn}),o.a.createElement(j,{location:e,path:"/admin_survey_results",component:Yn}),o.a.createElement(j,{location:e,path:"/admin_feedbacks",component:zn}),o.a.createElement(j,{location:e,path:"/admin_change_password",component:Xn}),o.a.createElement(k,{location:e,component:mn}))}}]),t}(o.a.Component),Jn={per:1,page:0,totalpages:null},Zn=Object(i.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"USER_LOGGED_IN":case"USER_LOCATION_SET":return t.user;case"USER_USERNAME_SET":return Object(x.a)({},e,{username:t.username});case"USER_KEY_FETCHED":return Object(x.a)({},e,{key:t.key});case"USER_ACTIVITY_FETCHED":return e.activity?Object(x.a)({},e,{activity:Object(K.a)(e.activity).concat(Object(K.a)(t.activity))}):Object(x.a)({},e,{activity:Object(K.a)(t.activity)});case"CLEAR_ACTIVITY":return Object(x.a)({},e,{activity:[]});case"ANALYTICS_FETCHED":return Object(x.a)({},e,{analytics:t.analytics});case"USER_LOGGED_OUT":return{};case"DETAILS_CHECKED":return Object(x.a)({},e,{gotDetails:t.success});default:return e}},locations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOCATION_COUNTRIES_FETCHED":return Object(x.a)({},e,{countries:t.countries});case"LOCATION_STATES_FETCHED":return Object(x.a)({},e,{states:t.states});case"LOCATION_CITIES_FETCHED":return Object(x.a)({},e,{cities:t.cities});case"CLEAR_CITIES":return Object(x.a)({},e,{cities:[]});default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"POST_UPLOADED":return Object(K.a)(e).concat([t.posts]);case"POSTS_FETCHED":case"POST_FETCHED":return Object(K.a)(e).concat(Object(K.a)(t.posts));case"POST_FETCHED_BY_ID":return[t.posts];case"POSTS_CLEARED":return[];case"POST_DELETED":var a=e;return a.splice(a.findIndex(function(e){return e._id===t.id}),1),Object(K.a)(a);default:return e}},others:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CATEGORY_OPTIONS_FETCHED":return Object(x.a)({},e,{categories:t.categories});case"CATEGORY_ADDED":return Object(x.a)({},e,{categories:[t.category].concat(Object(K.a)(e.categories))});case"CATEGORY_UPDATED":var a=e.categories,n=a.findIndex(function(e){return e===t.oldC});return a[n]=t.newC,Object(x.a)({},e,{categories:Object(K.a)(a)});case"CATEGORY_DELETED":var o=e.categories;return o.splice(o.findIndex(function(e){return e===t.category}),1),Object(x.a)({},e,{categories:Object(K.a)(o)});case"HASHTAGS_FETCHED":return Object(x.a)({},e,{hashtags:t.hashtags});case"TOP_EIGHT_HASHTAGS_FETCHED":return Object(x.a)({},e,{tophashtags:t.hashtags});case"HASHTAGS_CLEARED":return Object(x.a)({},e,{hashtags:[]});default:return e}},path:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"PATH_ADDED":return t.path;default:return e}},admins:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"ADMIN_LOGGED_IN":return t.admin;case"ADMIN_LOGGED_OUT":return{};case"PASSWORD_CHANGED":return t.admin;default:return e}},adposts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"ADPOST_UPLOADED":return Object(K.a)(e).concat([t.adposts]);case"ADPOSTS_FETCHED":case"ADPOST_FETCHED":return Object(K.a)(e).concat(Object(K.a)(t.adposts));case"ADPOST_FETCHED_BY_ID":return[t.adposts];case"ADPOSTS_CLEARED":return[];case"ADPOST_DELETED":var a=e;return a.splice(a.findIndex(function(e){return e._id===t.id}),1),Object(K.a)(a);default:return e}},adpostsother:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"ADPOST_PER_CHANGED":return Object(x.a)({},e,{per:t.per});case"ADPOST_PAGE_CHANGED":return t.page>e.totalpages?Object(x.a)({},e,{page:1}):Object(x.a)({},e,{page:t.page});case"ADPOST_TOTALPAGES_CHANGED":return Object(x.a)({},e,{totalpages:t.totalpages});default:return e}},adStatistics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"TOTAL_ACCOUNTS_FETCHED":return Object(x.a)({},e,{total_acc:t.total_acc});case"NO_ACCOUNTS_FETCHED":return Object(x.a)({},e,{accounts:t.accounts});case"COUNTRY_STATS_FETCHED":return Object(x.a)({},e,{countryStats:t.countryStats});case"STATS_BY_COUNTRY_CLEARED":return Object(x.a)({},e,{countryStats:[]});case"STATE_STATS_FETCHED":return Object(x.a)({},e,{stateStats:t.stateStats});case"STATS_BY_STATE_CLEARED":return Object(x.a)({},e,{stateStats:[]});default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));if(m.a.config(),Qn=Object(i.createStore)(Zn,Object(i.applyMiddleware)(d.a)),localStorage.TruhypeJWT){var $n={token:localStorage.TruhypeJWT,sessionId:localStorage.sessionId,username:localStorage.username};$(localStorage.TruhypeJWT),Qn.dispatch(ee($n))}if(localStorage.TruhypeJWTAdmin){var eo={token:localStorage.TruhypeJWTAdmin};$(localStorage.TruhypeJWTAdmin),Qn.dispatch(hn(eo))}l.a.render(o.a.createElement(s.a,null,o.a.createElement(u.a,{store:Qn},o.a.createElement(c.a,{component:Kn}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[428,2,1]]]);
//# sourceMappingURL=main.c86901af.chunk.js.map